<?xml version="1.0" encoding="UTF-8"?>
<!--
Profile:  [OrderBot] ShB MSQ Automation
Authors:  Sodimm, TuckMeIntoBread, DomesticWarlord86
-->
<Profile>
  <Name>[OrderBot] ShB MSQ Automation</Name>
  <Order>
    <!-- (Patch 5.0) The Syrcus Trench (Level 70) -->
    <If Condition="IsQuestCompleted(68721) and not HasQuest(68815) and not IsQuestCompleted(68815)">
      <GetTo ZoneId="156" XYZ="21.79132, 21.25273, -632.7344"/>
      <UseTransport InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
      <If Condition="IsQuestAcceptQualified(68815)">
        <PickupQuest QuestId="68815" NpcId="1026990"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68815) &gt; 0">
      <If Condition="GetQuestStep(68815) == 1">
        <If Condition="not IsOnMap(156)">
          <If Condition="IsOnMap(351)">
            <UseTransport InteractDistance="3.0" NpcId="2002879" XYZ="-0.01531982, 2.975464, 27.48145"/>
          </If>
          <GetTo ZoneId="156" XYZ="351.4656, -25.9659, -373.1818"/>
        </If>
        <LLTalkTo NpcId="1029791" XYZ="351.4916, -26.42413, -370.8095" QuestId="68815" StepId="1"/>
        <WaitWhile Condition="not IsOnMap(842)"/>
      </If>
      <If Condition="GetQuestStep(68815) == 2">
        <If Condition="not IsOnMap(842)">
          <GetTo ZoneId="156" XYZ="351.4656, -25.9659, -373.1818"/>
          <UseTransport InteractDistance="3.0" NpcId="1029791" XYZ="351.4916, -26.42413, -370.8095"/>
        </If>
        <TalkTo NpcId="1029792" XYZ="-47.07416, 1.720142, 45.97534" QuestId="68815" StepId="2"/>
        <WaitWhile Condition="not GetQuestStep(68815) == 4"/>
      </If>
      <If Condition="GetQuestStep(68815) == 4">
        <GetTo ZoneId="813" XYZ="485.4872, 8.898799, 315.3618"/>
        <RunCode Name="68815"/>
        <WaitWhile Condition="not GetQuestStep(68815) == 255"/>
      </If>
      <If Condition="GetQuestStep(68815) == 255">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="-179.9048, 0, -0.1709962"/>
        </If>
        <TurnIn QuestId="68815" NpcId="1028924" XYZ="-176.5622, 0, 1.632629"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
        <UseInventoryItem ItemId="27903"/>
      </If>
    </If>
    <!-- City of the First (Level 70) -->
    <If Condition="IsQuestCompleted(68815) and not HasQuest(68816) and not IsQuestCompleted(68816)">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-179.9048, 0, -0.1709962"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68816)">
        <PickupQuest QuestId="68816" NpcId="1028924"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68816) &gt; 0">
      <If Condition="GetQuestStep(68816) == 1">
        <GetTo ZoneId="819" XYZ="-56.97851, -7.482, 117.2468"/>
      </If>
      <If Condition="GetQuestStep(68816) == 2">
        <If Condition="not IsTodoChecked(68816, 2, 2)">
          <If Condition="not IsOnMap(819)">
            <GetTo ZoneId="819" XYZ="-56.97851, -7.482, 117.2468"/>
          </If>
          <TalkTo NpcId="1027224" XYZ="-57.3587, -7.482, 118.0895" QuestId="68816"/>
        </If>
        <If Condition="not IsTodoChecked(68816, 2, 0)">
          <GetTo ZoneId="819" XYZ="-11.42926, 20.1973, -138.1792"/>
          <TalkTo NpcId="1027232" XYZ="-9.323303, 20.1973, -136.5225" QuestId="68816"/>
        </If>
        <If Condition="not IsTodoChecked(68816, 2, 1)">
          <GetTo ZoneId="819" XYZ="-60.48879, -17.72201, -267.0891"/>
          <TalkTo NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="68816"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68816) == 255">
        <GetTo ZoneId="819" XYZ="60.15817, -2.384186E-07, -0.7547969"/>
        <TurnIn ItemIds="2002527,2002528,2002529" QuestId="68816" NpcId="1028925" XYZ="60.10522, -3.054738E-07, 1.602173"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- Travelers of Norvrandt (Level 70) -->
    <If Condition="IsQuestCompleted(68816) and not HasQuest(68817) and not IsQuestCompleted(68817)">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="59.81999, -3.576279E-07, -2.643088"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68817)">
        <LLPickupQuest QuestId="68817" NpcId="1028925"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68817) &gt; 0">
      <If Condition="GetQuestStep(68817) == 1">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="116.1988, 14.64907, 6.497765"/>
        </If>
        <LLTalkTo NpcId="1030533" XYZ="117.9979, 14.64903, 7.156433" QuestId="68817" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68817) == 2">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="61.97839, -3.576279E-07, 1.927156"/>
        </If>
        <TalkTo NpcId="1028925" XYZ="60.10522, -3.054738E-07, 1.602173" QuestId="68817" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68817) == 3">
        <GetTo ZoneId="819" XYZ="-4.879433, -7.700001, 140.0808"/>
        <TalkTo NpcId="1028926" XYZ="-4.104736, -7.700001, 138.4756" QuestId="68817" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68817) == 4">
        <GetTo ZoneId="819" XYZ="62.20612, 1.716012, 247.7134"/>
        <TalkTo NpcId="1028927" XYZ="62.54675, 1.716012, 249.1339" QuestId="68817" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68817) == 5">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="61.35682, 1.7078, 245.9173"/>
        </If>
        <LLTalkTo NpcId="1030610" XYZ="65.11023, 1.716012, 249.7749" QuestId="68817" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68817) == 255">
        <If Condition="not IsOnMap(844)">
          <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
          <UseTransport InteractDistance="3.0" NpcId="1030533" XYZ="117.9979, 14.64903, 7.156433"/>
        </If>
        <TurnIn QuestId="68817" NpcId="1028923" XYZ="-0.01531982, -7.450581E-09, -6.027344"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- In Search of Alphinaud  (Level 70) -->
    <If Condition="IsQuestCompleted(68817) and not HasQuest(68818) and not IsQuestCompleted(68818)">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1030533" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68818)">
        <PickupQuest QuestId="68818" NpcId="1028923"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68818) &gt; 0">
      <If Condition="GetQuestStep(68818) == 1">
        <If Condition="not IsOnMap(819)">
          <If Condition="IsOnMap(844)">
            <UseTransport InteractDistance="3.0" NpcId="2009758" XYZ="-0.009940993, 1.036532, 14.22064"/>
          </If>
          <GetTo ZoneId="819" XYZ="-134.9943, 0, -72.85202"/>
        </If>
        <LLHandOver ItemId="2002699" NpcId="1027246" XYZ="-136.9802, 0, -73.77747" QuestId="68818" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68818) == 2">
        <GetTo ZoneId="819" XYZ="59.19823, 36.19769, -167.9228"/>
        <TalkTo NpcId="1029806" XYZ="62.39417, 36.24769, -169.3904" QuestId="68818" StepId="2"/>
        <WaitWhile Condition="not GetQuestStep(68818) == 255"/>
      </If>
      <If Condition="GetQuestStep(68818) == 255">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="819" XYZ="59.19823, 36.19769, -167.9228"/>
          <UseTransport InteractDistance="3.0" NpcId="1029806" XYZ="62.39417, 36.24769, -169.3904"/>
        </If>
        <TurnIn QuestId="68818" NpcId="1029807" XYZ="802.2124, 1.272592, 253.0098"/>
      </If>
    </If>
    <!-- A Still Tide (Level 70) -->
    <If Condition="IsQuestCompleted(68818) and not HasQuest(68819) and not IsQuestCompleted(68819)">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="819" XYZ="59.19823, 36.19769, -167.9228"/>
        <UseTransport InteractDistance="3.0" NpcId="1029806" XYZ="62.39417, 36.24769, -169.3904"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68819)">
        <PickupQuest QuestId="68819" NpcId="1029807"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68819) &gt; 0">
      <If Condition="GetQuestStep(68819) == 1">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="628.3319, 3.188651, 471.8779"/>
        </If>
        <NoCombatMoveTo XYZ="628.3319, 3.188651, 471.8779"/>
        <HandOver ItemId="2002574" NpcId="1027286" XYZ="626.1234, 3.237296, 471.9767" QuestId="68819" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68819) == 2">
        <GetTo ZoneId="814" XYZ="687.3956, 30.11648, 277.8613"/>
        <LLTalkTo NpcId="2009956" XYZ="687.9225, 30.07544, 279.4078" QuestId="68819" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68819) == 3">
        <GetTo ZoneId="814" XYZ="665.1811, 53.04622, 58.60866"/>
        <If Condition="GetQuestById(68819).GetTodoArgs(3, 0).Item1 == 0">
          <UseObject NpcId="2009957" XYZ="665.1811, 53.04622, 58.60866" QuestId="68819" StepId="3" Condition="GetQuestById(68819).GetTodoArgs(3, 0).Item1 == 0"/>
        </If>
        <If Condition="GetQuestById(68819).GetTodoArgs(3, 0).Item1 == 1">
          <UseObject NpcId="2009958" XYZ="694.026, 53.75745, 12.92438" QuestId="68819" StepId="3" Condition="GetQuestById(68819).GetTodoArgs(3, 0).Item1 == 1"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68819) == 4">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="702.6889, 52.69128, 53.66412"/>
        </If>
        <UseObject NpcId="2009959" XYZ="703.5171, 53.75745, 52.14001" QuestId="68819" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68819) == 5">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="702.6889, 52.69128, 53.66412"/>
        </If>
        <UseObject NpcId="2009959" XYZ="703.5171, 53.75745, 52.14001" QuestId="68819" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68819) == 6">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="702.6889, 52.69128, 53.66412"/>
        </If>
        <UseObject NpcId="2009959" XYZ="703.5171, 53.75745, 52.14001" QuestId="68819" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(68819) == 255">
        <GetTo ZoneId="814" XYZ="688.751, 30.11697, 279.3452"/>
        <TurnIn QuestId="68819" NpcId="1027313" XYZ="691.0658, 30.11709, 279.6216"/>
      </If>
    </If>
    <!-- Open Arms, Closed Gate (Level 70) -->
    <If Condition="IsQuestCompleted(68819) and not HasQuest(68820) and not IsQuestCompleted(68820)">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="687.8132, 30.11839, 283.7206"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68820)">
        <PickupQuest QuestId="68820" NpcId="1029809"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68820) &gt; 0">
      <If Condition="GetQuestStep(68820) == 1">
        <GetTo ZoneId="814" XYZ="380.2298, 6.7682, 305.9789"/>
        <TalkTo NpcId="1029810" XYZ="377.2488, 6.816298, 306.569" QuestId="68820" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68820) == 2">
        <GetTo ZoneId="814" XYZ="341.7562, 31.93621, 202.0142"/>
        <WaitWhile Condition="not GetQuestStep(68820) == 4"/>
      </If>
      <If Condition="GetQuestStep(68820) == 3">
        <GetTo ZoneId="814" XYZ="341.7562, 31.93621, 202.0142"/>
        <WaitWhile Condition="not GetQuestStep(68820) == 4"/>
      </If>
      <If Condition="GetQuestStep(68820) == 4">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="341.7562, 31.93621, 202.0142"/>
        </If>
        <UseObject NpcId="1029811" XYZ="341.7562, 31.93621, 202.0142" QuestId="68820" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68820) == 5">
        <GetTo ZoneId="814" XYZ="168.6032, 40.09513, 565.9061"/>
        <UseObject NpcId="2009961" XYZ="168.3833, 40.11597, 567.1931" QuestId="68820" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68820) == 6">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="167.4992, 40.99535, 676.1387"/>
        </If>
        <TalkTo NpcId="1029814" XYZ="165.7892, 41.1413, 676.9663" QuestId="68820" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(68820) == 7">
        <If Condition="GetQuestById(68820).GetTodoArgs(7, 0).Item1 == 0">
          <GetTo ZoneId="814" XYZ="182.8771, 40.04025, 593.6647"/>
          <TalkTo NpcId="1029815" XYZ="184.4052, 40.03957, 592.0653" QuestId="68820"/>
        </If>
        <If Condition="GetQuestById(68820).GetTodoArgs(7, 0).Item1 == 1">
          <GetTo ZoneId="814" XYZ="173.647, 48.75117, 771.6766"/>
          <TalkTo NpcId="2009962" XYZ="175.7382, 50.00378, 771.4807" QuestId="68820"/>
        </If>
        <If Condition="GetQuestById(68820).GetTodoArgs(7, 0).Item1 == 2">
          <GetTo ZoneId="814" XYZ="113.7296, 54.89982, 832.5688"/>
          <TalkTo NpcId="1029816" XYZ="112.6573, 54.87324, 833.4934" QuestId="68820"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68820) == 255">
        <GetTo ZoneId="814" XYZ="166.6985, 41.19752, 678.8423"/>
        <TurnIn QuestId="68820" NpcId="1029814" XYZ="165.7892, 41.1413, 676.9663"/>
      </If>
    </If>
    <!-- A Fickle Existence (Level 70) -->
    <If Condition="IsQuestCompleted(68820) and not HasQuest(68821) and not IsQuestCompleted(68821)">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="166.6985, 41.19752, 678.8423"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68821)">
        <PickupQuest QuestId="68821" NpcId="1029814"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68821) &gt; 0">
      <If Condition="GetQuestStep(68821) == 1">
        <GetTo ZoneId="814" XYZ="-264.8897, 21.74692, 378.0688"/>
        <TalkTo NpcId="1027516" XYZ="-266.0716, 21.74689, 376.7909" QuestId="68821" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68821) == 2">
        <GetTo ZoneId="814" XYZ="-276.7405, 18.08076, 654.7615"/>
        <UserDialog QuestId="68821" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete the zoomie-zoom." />
      </If>
      <If Condition="GetQuestStep(68821) == 3">
        <GetTo ZoneId="814" XYZ="-321.9621, 21.21397, 776.0409"/>
        <TalkTo NpcId="1029818" XYZ="-322.4689, 21.33508, 777.4623" QuestId="68821" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68821) == 4">
        <If Condition="not IsAetherCurrentCompleted(814, 7)">
          <GetTo ZoneId="814" XYZ="-651.165, 1.54972E-05, 588.412" />
          <UseObject NpcId="2010038" XYZ="-651.165, 1.54972E-05, 588.412" Condition="not IsAetherCurrentCompleted(814, 7)" />
        </If>
        <GetTo ZoneId="814" XYZ="-635.1391, 0.2253729, 571.1387"/>
        <UseObject NpcId="1029819" XYZ="-635.6756, 0.2294028, 571.313" QuestId="68821" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68821) == 5">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-636.9386, 0.2963214, 571.0192"/>
        </If>
        <TalkTo NpcId="1029844" XYZ="-638.1171, 0.295629, 571.5265" QuestId="68821" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68821) == 255">
        <GetTo ZoneId="814" XYZ="-331.9401, 18.78622, 387.774"/>
        <TurnIn QuestId="68821" NpcId="1029823" XYZ="-330.4036, 19.08178, 389.2728"/>
      </If>
    </If>

    <!-- A Plankless Task -->
    <If Condition="IsQuestCompleted(68821) and not HasQuest(68896) and not IsQuestCompleted(68896)">
      <GetTo ZoneId="814" XYZ="-310.0979, 19.39982, 406.5162"/>
      <If Condition="IsQuestAcceptQualified(68896)">
        <LLPickupQuest QuestId="68896" NpcId="1027452" XYZ="-310.6279, 19.40518, 405.2948"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68896) and not IsQuestCompleted(68896) and GetQuestStep(68896) == 1">
      <GetTo ZoneId="814" XYZ="-450.7294, 8.987022, 536.5689"/>
      <MoveTo XYZ="-446.2806, 7.657999, 536.1563" Distance="1" UseMesh="False"/>
      <LLTalkTo NpcId="1030741" XYZ="-446.2806, 7.657999, 536.1563" Distance="4.5f" QuestId="68896" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68896) and not IsQuestCompleted(68896) and GetQuestStep(68896) == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-450.7294, 8.987022, 536.5689"/>
        <MoveTo XYZ="-446.2806, 7.657999, 536.1563" Distance="1" UseMesh="False"/>
      </If>
      <RunCode Name="68896"/>
      <UseItem ItemId="2002688" NpcIds="2010260,2010286,2010287,2010288,2010261,2010289" QuestId="68896" StepId="2">
        <HotSpots>
          <HotSpot XYZ="-444.3885, 8.987488, 532.6771" Radius="10"/>
          <HotSpot XYZ="-443.0152, 8.773865, 535.9731" Radius="10"/>
          <HotSpot XYZ="-442.9236, 8.895996, 538.6892" Radius="10"/>
          <HotSpot XYZ="-441.886, 8.590759, 542.3513" Radius="10"/>
          <HotSpot XYZ="-444.6327, 8.804443, 544.5181" Radius="10"/>
          <HotSpot XYZ="-443.473, 8.499207, 548.3024" Radius="10"/>
        </HotSpots>
      </UseItem>
    </If>
    <If Condition="HasQuest(68896) and not IsQuestCompleted(68896) and GetQuestStep(68896) == 3">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-444.4311, 8.492847, 536.3561"/>
      </If>
      <LLTalkTo NpcId="1030741" XYZ="-446.2806, 7.657999, 536.1563" QuestId="68896" StepId="3"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68896) and not IsQuestCompleted(68896) and GetQuestStep(68896) == 255">
      <GetTo ZoneId="814" XYZ="-309.364, 19.39425, 407.1985"/>
      <LLTurnIn QuestId="68896" NpcId="1027452" XYZ="-310.6279, 19.40518, 405.2948"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>

    <!-- Village of Woe -->
    <If Condition="IsQuestCompleted(68821) and not HasQuest(68907) and not IsQuestCompleted(68907)">
      <GetTo ZoneId="814" XYZ="-305.9456, 20.95898, 361.1356"/>
      <If Condition="IsQuestAcceptQualified(68907)">
        <LLPickupQuest QuestId="68907" NpcId="1030763" XYZ="-306.2334, 20.95657, 358.4191"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68907) and not IsQuestCompleted(68907) and GetQuestStep(68907) == 1">
      <GetTo ZoneId="814" XYZ="-226.4287, 21.59275, 297.8407"/>
      <WaitWhile Condition="HasQuest(68907) and not IsQuestCompleted(68907) and not GetQuestStep(68907) == 2"/>
    </If>
    <If Condition="HasQuest(68907) and not IsQuestCompleted(68907) and GetQuestStep(68907) == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-226.2042, 21.57193, 299.7323"/>
      </If>
      <UseObject NpcId="1030764" XYZ="-226.4287, 21.59275, 297.8407" QuestId="68907" StepId="2"/>
    </If>
    <If Condition="HasQuest(68907) and not IsQuestCompleted(68907) and GetQuestStep(68907) == 3">
      <GetTo ZoneId="814" XYZ="-282.9092, 35.28001, 206.2846"/>
      <LLTalkTo NpcId="1030766" XYZ="-284.2299, 35.37314, 204.6692" QuestId="68907" StepId="3"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68907) and not IsQuestCompleted(68907) and GetQuestStep(68907) == 4">
      <GetTo ZoneId="814" XYZ="-314.9098, 21.13547, 348.7303"/>
      <LLTalkTo NpcId="1030794" XYZ="-317.2503, 21.04561, 349.1721" QuestId="68907" StepId="4"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68907) and not IsQuestCompleted(68907) and GetQuestStep(68907) == 255">
      <GetTo ZoneId="814" XYZ="-283.3589, 35.30619, 205.8826"/>
      <LLTurnIn QuestId="68907" NpcId="1030766" XYZ="-284.2299, 35.37314, 204.6692"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- City of Final Pleasures (Level 70) -->
    <If Condition="IsQuestCompleted(68821) and not HasQuest(68822) and not IsQuestCompleted(68822)">
      <GetTo ZoneId="814" XYZ="-329.462, 19.06647, 388.3667"/>
      <If Condition="IsQuestAcceptQualified(68822)">
        <PickupQuest QuestId="68822" NpcId="1029822"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68822) &gt; 0">
      <If Condition="GetQuestStep(68822) == 1">
        <GetTo ZoneId="814" XYZ="169.0071, 40.85555, 675.0887"/>
        <UseObject NpcId="2009964" XYZ="168.9631, 41.00085, 677.3021" QuestId="68822" StepId="1"/>
        <WaitWhile Condition="not GetQuestStep(68822) == 3"/>
      </If>
      <If Condition="GetQuestStep(68822) == 3">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="0.5643953, -5.095907, -105.8384"/>
        </If>
        <TalkTo NpcId="1029824" XYZ="0.6866455, -5.095142, -104.1124" QuestId="68822" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68822) == 4">
        <GetTo ZoneId="820" XYZ="15.49681, 6, -0.2133523"/>
        <TalkTo NpcId="1027524" XYZ="17.41052, 6, -0.1679077" QuestId="68822" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68822) == 5">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="15.25734, 6.04, 16.91294"/>
        </If>
        <HandOver ItemId="2002700" NpcId="1027526" XYZ="17.41052, 6, 16.98328" QuestId="68822" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68822) == 6">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="17.65155, 6.074485, 38.17981"/>
        </If>
        <UseObject NpcId="2009967" XYZ="18.20398, 7.522644, 38.22375" QuestId="68822" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(68822) == 7">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="12.98615, 5.999998, 33.60206"/>
        </If>
        <WaitTimer Time="10000"/>
        <RunCode Name="68822"/>
        <WaitWhile Condition="not GetQuestStep(68822) == 8"/>
      </If>
      <If Condition="GetQuestStep(68822) == 8">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="3.999589, 6, 31.87931"/>
        </If>
        <LLTalkTo NpcId="1029827" DialogOption="2" XYZ="4.104675, 6, 29.77026" QuestId="68822" StepId="8"/>
      </If>
      <If Condition="GetQuestStep(68822) == 9">
        <GetTo ZoneId="820" XYZ="10.04033, 5.999996, -36.92207"/>
        <TalkTo NpcId="1029990" XYZ="11.36792, 5.999995, -38.65112" QuestId="68822" StepId="9"/>
      </If>
      <If Condition="GetQuestStep(68822) == 255">
        <GetTo ZoneId="820" XYZ="27.35651, 82.78207, 25.21528"/>
        <TurnIn QuestId="68822" NpcId="1029830" XYZ="28.39697, 82.78207, 26.5354"/>
      </If>
    </If>
    <!-- Free to Sightsee (Level 70) -->
    <If Condition="IsQuestCompleted(68822) and not HasQuest(68823) and not IsQuestCompleted(68823)">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="27.35651, 82.78207, 25.21528"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68823)">
        <PickupQuest QuestId="68823" NpcId="1029832"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68823) &gt; 0">
      <If Condition="GetQuestStep(68823) == 1">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="-23.45565, 82.27261, -18.27195"/>
        </If>
        <TalkTo NpcId="1029833" XYZ="-24.88751, 82.27261, -19.05853" QuestId="68823" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68823) == 2">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="-17.57893, 82.83509, -50.6413"/>
        </If>
        <UseObject NpcId="1029834" XYZ="-18.35669, 82.59705, -52.99463" QuestId="68823" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68823) == 255">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="-23.07323, 82.27261, -18.69258"/>
        </If>
        <LLTurnIn QuestId="68823" NpcId="1029833" XYZ="-24.88751, 82.27261, -19.05853"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- A Taste of Honey (Level 70) -->
    <If Condition="IsQuestCompleted(68823) and not HasQuest(68824) and not IsQuestCompleted(68824)">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="-23.07323, 82.27261, -18.69258"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68824)">
        <PickupQuest QuestId="68824" NpcId="1029833"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68824) &gt; 0">
      <If Condition="GetQuestStep(68824) == 1">
        <GetTo ZoneId="820" XYZ="57.75255, 83.00106, -70.54283"/>
        <TalkTo NpcId="1027575" XYZ="59.12866, 83.00105, -70.08472" QuestId="68824" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68824) == 2">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="57.75255, 83.00106, -70.54283"/>
        </If>
        <BotSettings BlockSkippingCutscenes="1"/>
        <LLTalkTo NpcId="1027575" XYZ="59.12866, 83.00108, -70.08472" QuestId="68824" StepId="2"/>
        <BotSettings BlockSkippingCutscenes="0"/>
      </If>
      <If Condition="GetQuestStep(68824) == 3">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="57.75255, 83.00106, -70.54283"/>
        </If>
        <BotSettings BlockSkippingCutscenes="1"/>
        <LLTalkTo NpcId="1027575" XYZ="59.12866, 83.00108, -70.08472" QuestId="68824" StepId="3"/>
        <BotSettings BlockSkippingCutscenes="0"/>
      </If>
      <If Condition="GetQuestStep(68824) == 4">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="53.06142, 82.00166, -51.60699"/>
        </If>
        <TalkTo NpcId="1027574" XYZ="54.15417, 82.00166, -50.88885" QuestId="68824" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68824) == 5">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="61.4703, 86.7, -40.24728"/>
        </If>
        <MoveTo XYZ="61.4703, 86.7, -40.24728" Distance="1"/>
        <RunCode Name="68824"/>
        <WaitWhile Condition="not GetQuestStep(68824) == 6"/>
      </If>
      <If Condition="GetQuestStep(68824) == 6">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="53.06038, 82.00166, -51.70069"/>
        </If>
        <TalkTo NpcId="1027574" XYZ="54.15417, 82.00166, -50.88885" QuestId="68824" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(68824) == 255">
        <GetTo ZoneId="820" XYZ="28.69083, 82.78207, 27.77393"/>
        <TurnIn QuestId="68824" NpcId="1029830" XYZ="28.39697, 82.78207, 26.5354"/>
      </If>
    </If>
    <!-- A Blessed Instrument (Level 70) -->
    <If Condition="IsQuestCompleted(68824) and not HasQuest(68825) and not IsQuestCompleted(68825)">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="26.42796, 82.78213, 24.73348"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68825)">
        <PickupQuest QuestId="68825" NpcId="1029837"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68825) &gt; 0">
      <If Condition="GetQuestStep(68825) == 1">
        <GetTo ZoneId="820" XYZ="-18.03637, 23.1, -7.88581"/>
        <TalkTo NpcId="1029838" XYZ="-18.38715, 23.1, -8.712891" QuestId="68825" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68825) == 2">
        <GetTo ZoneId="820" XYZ="-51.14841, -0.1237506, 60.34523"/>
        <HandOver ItemIds="2002576,2002577" NpcId="1027588" XYZ="-50.24799, -0.1006831, 61.32605" QuestId="68825" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68825) == 3">
        <GetTo ZoneId="820" XYZ="-17.95208, 23.1, -7.494116"/>
        <TalkTo NpcId="1029838" XYZ="-18.38715, 23.1, -8.712891" QuestId="68825" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68825) == 255">
        <GetTo ZoneId="820" XYZ="26.3966, 82.78236, 22.74135"/>
        <TurnIn QuestId="68825" NpcId="1028990" XYZ="26.81006, 82.78224, 23.81927"/>
      </If>
    </If>
    <!-- Emergent Splendor (Level 70) -->
    <If Condition="IsQuestCompleted(68825) and not HasQuest(68826) and not IsQuestCompleted(68826)">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="26.3966, 82.78236, 22.74135"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68826)">
        <PickupQuest QuestId="68826" NpcId="1028990"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68826) &gt; 0">
      <If Condition="GetQuestStep(68826) == 1">
        <GetTo ZoneId="820" XYZ="2.055121, 82.83, 56.12632"/>
        <LLTalkTo NpcId="1027549" XYZ="2.029419, 83.19524, 57.84692" QuestId="68826" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68826) == 2">
        <GetTo ZoneId="820" XYZ="5.049777, -5.108024, -105.4728"/>
        <TalkTo NpcId="1029839" XYZ="5.722107, -5.1046, -106.1265" QuestId="68826" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68826) == 3">
        <GetTo ZoneId="814" XYZ="798.4583, 1.615535, 256.8571"/>
        <TalkTo NpcId="1029841" XYZ="800.0458, 1.417488, 255.9701" QuestId="68826" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68826) == 255">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        <TurnIn QuestId="68826" NpcId="1029842" XYZ="-2.02948, -1.490116E-08, -4.196289"/>
      </If>
    </If>
    <!-- In Search of Alisaie (Level 70) -->
    <If Condition="IsQuestCompleted(68826) and not HasQuest(68827) and not IsQuestCompleted(68827)">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68827)">
        <PickupQuest QuestId="68827" NpcId="1028923"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68827) &gt; 0">
      <If Condition="GetQuestStep(68827) == 1">
        <If Condition="not IsOnMap(819)">
          <If Condition="IsOnMap(844)">
            <UseTransport InteractDistance="3.0" NpcId="2009758" XYZ="-0.01531982, 1.022339, 14.20605"/>
          </If>
          <GetTo ZoneId="819" XYZ="41.96519, 36.19769, -159.4053"/>
        </If>
        <HandOver ItemId="2002542" NpcId="1027854" XYZ="40.57373, 36.19769, -160.235" QuestId="68827" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68827) == 2">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="41.96519, 36.19769, -159.4053"/>
        </If>
        <TalkTo NpcId="1027854" XYZ="40.57373, 36.19769, -160.235" QuestId="68827" StepId="2"/>
        <WaitWhile Condition="not GetQuestStep(68827) == 4"/>
      </If>
      <If Condition="GetQuestStep(68827) == 4">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="819" XYZ="41.96519, 36.19769, -159.4053"/>
          <UseTransport InteractDistance="3.0" NpcId="1027854" XYZ="40.57373, 36.19769, -160.235"/>
        </If>
        <TalkTo NpcId="1028961" XYZ="662.5009, -48.53376, -652.8573" QuestId="68827" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68827) == 5">
        <GetTo ZoneId="815" XYZ="480.4147, -50.82322, -508.9553"/>
        <TalkTo NpcId="1028962" XYZ="477.7142, -50.54957, -509.8802" QuestId="68827" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68827) == 6">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="482.963, -51.49775, -510.8831"/>
        </If>
        <UseObject NpcId="2009842" XYZ="484.2754, -51.95703, -512.5048" QuestId="68827" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(68827) == 255">
        <GetTo ZoneId="815" XYZ="329.1751, 1.422134, -297.3137"/>
        <TurnIn QuestId="68827" NpcId="1028963" XYZ="327.0465, 1.468579, -296.4676"/>
      </If>
    </If>
    <!-- City of the Mord (Level 70) -->
    <If Condition="IsQuestCompleted(68827) and not HasQuest(68828) and not IsQuestCompleted(68828)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="328.1077, 1.504452, -295.6548"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68828)">
        <PickupQuest QuestId="68828" NpcId="1028963"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68828) &gt; 0">
      <If Condition="GetQuestStep(68828) == 1">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="269.4437, 4.0297, -145.5715"/>
        </If>
        <TalkTo NpcId="1027872" XYZ="268.4519, 4.0297, -144.1825" QuestId="68828" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68828) == 2">
        <GetTo ZoneId="815" XYZ="308.8456, 1.468583, -186.6473"/>
        <UserDialog QuestId="68828" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete the zoomie-zoom." />
      </If>
      <If Condition="GetQuestStep(68828) == 255">
        <GetTo ZoneId="815" XYZ="269.4944, 4.0297, -145.8798"/>
        <TurnIn QuestId="68828" NpcId="1027872" XYZ="268.4519, 4.0297, -144.1825"/>
      </If>
    </If>
    <!-- Working Off the Meal (Level 70) -->
    <If Condition="IsQuestCompleted(68828) and not HasQuest(68829) and not IsQuestCompleted(68829)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="267.8446, 4.0297, -146.6066"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68829)">
        <PickupQuest QuestId="68829" NpcId="1028974"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68829) &gt; 0">
      <If Condition="GetQuestStep(68829) == 1">
        <If Condition="GetQuestById(68829).GetTodoArgs(1, 0).Item1 == 0">
          <If Condition="not IsOnMap(815)">
            <GetTo ZoneId="815" XYZ="206.5381, 4.029698, -292.9276"/>
          </If>
          <TalkTo NpcId="2009936" XYZ="205.4016, 4.013123, -293.5988" InteractDistance="3.0" QuestId="68829"/>
        </If>
        <If Condition="GetQuestById(68829).GetTodoArgs(1, 0).Item1 == 1">
          <If Condition="not IsOnMap(815)">
            <GetTo ZoneId="815" XYZ="232.1442, 4.029699, -299.5598"/>
          </If>
          <TalkTo NpcId="2009934" XYZ="231.1589, 4.013123, -300.5569" InteractDistance="3.0" QuestId="68829"/>
        </If>
        <If Condition="GetQuestById(68829).GetTodoArgs(1, 0).Item1 == 2">
          <If Condition="not IsOnMap(815)">
            <GetTo ZoneId="815" XYZ="326.4479, 1.468583, -287.9315"/>
          </If>
          <LLTalkTo NpcId="2009935" DialogOption="1" XYZ="328.481, 1.449585, -289.5705" InteractDistance="3.0" QuestId="68829"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68829) == 255">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="311.9497, 1.468583, -157.2728"/>
        </If>
        <TurnIn ItemId="2002618" QuestId="68829" NpcId="1028976" XYZ="313.2218, 1.468583, -154.4061"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>

    <!-- Work to Live or Live to Work -->
    <If Condition="IsQuestCompleted(68829) and not HasQuest(68911) and not IsQuestCompleted(68911)">
      <GetTo ZoneId="815" XYZ="267.3467, 4.0297, -145.4092"/>
      <If Condition="IsQuestAcceptQualified(68911)">
        <LLPickupQuest QuestId="68911" NpcId="1027872" XYZ="268.4519, 4.0297, -144.1825"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68911) and not IsQuestCompleted(68911) and GetQuestStep(68911) == 1">
      <GetTo ZoneId="815" XYZ="581.0317, -46.61663, -683.5903"/>
      <LLTalkTo NpcId="1030391" XYZ="579.9801, -46.38523, -684.9012" QuestId="68911" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68911) and not IsQuestCompleted(68911) and GetQuestStep(68911) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="677.1434, -59.56755, -570.633"/>
      </If>
      <UseObject NpcIds="2010010,2010011,2010012" QuestId="68911" StepId="2">
        <HotSpots>
          <HotSpot XYZ="651.8806, -54.06274, -594.5068" Radius="10"/>
          <HotSpot XYZ="665.0338, -58.9151, -575.9518" Radius="10"/>
          <HotSpot XYZ="674.5249, -60.6546, -566.0334" Radius="10"/>
        </HotSpots>
      </UseObject>
    </If>
    <If Condition="HasQuest(68911) and not IsQuestCompleted(68911) and GetQuestStep(68911) == 255">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="581.3171, -46.60291, -683.4753"/>
      </If>
      <LLTurnIn ItemId="2002584" QuestId="68911" NpcId="1030391" XYZ="579.9801, -46.38523, -684.9012"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- A Desert Crossing (Level 70) -->
    <If Condition="IsQuestCompleted(68829) and not HasQuest(68830) and not IsQuestCompleted(68830)">
      <GetTo ZoneId="815" XYZ="311.9497, 1.468583, -157.2728"/>
      <If Condition="IsQuestAcceptQualified(68830)">
        <PickupQuest QuestId="68830" NpcId="1028977"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68830) &gt; 0">
      <If Condition="GetQuestStep(68830) == 1">
        <GetTo ZoneId="815" XYZ="348.4691, -8.217449, -118.7836"/>
        <TalkTo NpcId="1030606" XYZ="347.158, -8.423396, -117.9371" QuestId="68830" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68830) == 2">
        <GetTo ZoneId="815" XYZ="443.3203, -23.82671, -44.72424"/>
        <WaitWhile Condition="not GetQuestStep(68830) == 3"/>
      </If>
      <If Condition="GetQuestStep(68830) == 3">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="442.3788, -23.71286, -47.32847"/>
        </If>
        <TalkTo NpcId="1028978" XYZ="443.3203, -23.82671, -44.72424" QuestId="68830" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68830) == 4">
        <GetTo ZoneId="815" XYZ="487.3754, -37.71689, 54.47195"/>
        <UseObject NpcId="2009848" XYZ="487.5104, -37.9798, 56.10742" QuestId="68830" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68830) == 5">
        <GetTo ZoneId="815" XYZ="444.4781, -23.94607, -42.2675"/>
        <TalkTo NpcId="1028978" XYZ="443.3203, -23.82671, -44.72424" QuestId="68830" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68830) == 255">
        <GetTo ZoneId="815" XYZ="390.0783, -33.60462, 231.4294"/>
        <TurnIn QuestId="68830" NpcId="1028980" XYZ="388.9371, -33.32796, 233.2036"/>
      </If>
    </If>
    <!-- Following in Her Footprints (Level 70) -->
    <If Condition="IsQuestCompleted(68830) and not HasQuest(68831) and not IsQuestCompleted(68831)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="374.8638, -26.63243, 290.8993"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68831)">
        <PickupQuest QuestId="68831" NpcId="1029001"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68831) &gt; 0">
      <If Condition="GetQuestStep(68831) == 1">
        <GetTo ZoneId="815" XYZ="362.6074, -63.41804, 501.0338"/>
        <UseObject NpcId="2009849" XYZ="362.5085, -63.95056, 503.6545" QuestId="68831" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68831) == 2">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="358.0213, -63.32161, 498.1885"/>
        </If>
        <UseObject NpcId="2009850" XYZ="357.0458, -63.34027, 497.7949" QuestId="68831" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68831) == 3">
        <GetTo ZoneId="815" XYZ="331.676, -71.86294, 464.9056"/>
        <UseObject NpcId="2009851" XYZ="329.5795, -72.15991, 463.3401" QuestId="68831" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68831) == 4">
        <GetTo ZoneId="815" XYZ="286.7798, -66.87228, 404.6523"/>
        <UseObject NpcId="2009852" XYZ="285.603, -66.88031, 404.2572" QuestId="68831" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68831) == 5">
        <GetTo ZoneId="815" XYZ="201.6744, -82.56118, 386.3652"/>
        <UseObject NpcId="2009853" XYZ="200.7935, -82.29199, 384.3289" QuestId="68831" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68831) == 255">
        <GetTo ZoneId="815" XYZ="270.2206, -45.25459, 332.6542"/>
        <TurnIn QuestId="68831" NpcId="1029002" XYZ="271.3512, -45.26957, 334.4625"/>
      </If>
    </If>
    <!-- Culling Their Ranks (Level 70) -->
    <If Condition="IsQuestCompleted(68831) and not HasQuest(68832) and not IsQuestCompleted(68832)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="270.2206, -45.25459, 332.6542"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68832)">
        <PickupQuest QuestId="68832" NpcId="1029002"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68832) &gt; 0">
      <If Condition="GetQuestStep(68832) == 1">
        <If Condition="GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 0">
          <GetTo ZoneId="815" XYZ="216.2719, -58.54439, 263.3914"/>
          <UseObject NpcId="2009854" XYZ="215.4421, -58.60992, 262.745" Condition="GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 0"/>
        </If>
        <If Condition="GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 1">
          <GetTo ZoneId="815" XYZ="259.0193, -44.6575, 160.2928"/>
          <UseObject NpcId="2009855" XYZ="259.205, -44.57166, 159.7466" Condition="GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 1"/>
        </If>
        <If Condition="GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 2">
          <GetTo ZoneId="815" XYZ="336.1201, -34.96276, 43.02919"/>
          <UseObject NpcId="2009856" XYZ="337.087, -35.01947, 42.31323" Condition="GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 2"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68832) == 2">
        <GetTo ZoneId="815" XYZ="392.8575, -33.65807, 230.7946"/>
        <TalkTo NpcId="1029003" XYZ="392.4773, -33.87629, 229.5414" QuestId="68832" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68832) == 255">
        <GetTo ZoneId="815" XYZ="374.9984, -26.63243, 289.7008"/>
        <TurnIn QuestId="68832" NpcId="1029001" XYZ="373.0983, -26.63243, 290.6996"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- A Purchase of Fruit (Level 70) -->
    <If Condition="IsQuestCompleted(68832) and not HasQuest(68833) and not IsQuestCompleted(68833)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="374.9984, -26.63243, 289.7008"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68833)">
        <PickupQuest QuestId="68833" NpcId="1029001"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68833) &gt; 0">
      <If Condition="GetQuestStep(68833) == 1">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="358.7505, -27.7828, 315.6909"/>
        </If>
        <UseObject NpcId="1027909" XYZ="357.4731, -27.14587, 317.2808" QuestId="68833" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68833) == 2">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="357.9092, -27.87422, 310.6237"/>
        </If>
        <UseObject NpcId="1027910" XYZ="356.7101, -27.8172, 310.048" QuestId="68833" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68833) == 3">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="362.2903, -27.966, 301.5006"/>
        </If>
        <UseObject NpcId="1030386" XYZ="363.4851, -27.966, 301.2893" QuestId="68833" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68833) == 4">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="373.4229, -26.63243, 292.0876"/>
        </If>
        <TalkTo NpcId="1029001" XYZ="373.0983, -26.63243, 290.6996" QuestId="68833" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68833) == 5">
        <GetTo ZoneId="815" XYZ="309.028, 1.468583, -186.8764"/>
        <TalkTo NpcId="1027873" XYZ="312.2452, 1.468583, -186.1448" QuestId="68833" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68833) == 6">
        <GetTo ZoneId="815" XYZ="216.0815, 7.155827, -213.5504"/>
        <TalkTo NpcId="1029007" XYZ="215.137, 7.155827, -214.3435" QuestId="68833" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(68833) == 7">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="216.0815, 7.155827, -213.5504"/>
        </If>
        <TalkTo NpcId="1029007" XYZ="215.137, 7.155827, -214.3435" QuestId="68833" StepId="7"/>
      </If>
      <If Condition="GetQuestStep(68833) == 255">
        <GetTo ZoneId="815" XYZ="374.1748, -26.63243, 292.0023"/>
        <TurnIn ItemId="2002452" QuestId="68833" NpcId="1029001" XYZ="373.0983, -26.63243, 290.6996"/>
      </If>
    </If>
    <!-- The Time Left to Us (Level 70) -->
    <If Condition="IsQuestCompleted(68833) and not HasQuest(68834) and not IsQuestCompleted(68834)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="374.1748, -26.63243, 292.0023"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68834)">
        <PickupQuest QuestId="68834" NpcId="1029001"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68834) &gt; 0">
      <If Condition="GetQuestStep(68834) == 1">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="398.7357, -28.3578, 351.068"/>
        </If>
        <TalkTo NpcId="1029008" XYZ="399.649, -28.3578, 349.813" QuestId="68834" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68834) == 2">
        <GetTo ZoneId="815" XYZ="471.754, -72.0216, 486.1151"/>
        <UseObject NpcId="2009858" XYZ="473.5026, -72.67877, 487.5715" QuestId="68834" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68834) == 3">
        <GetTo ZoneId="815" XYZ="320.2697, -75.85684, 475.9404"/>
        <UseObject NpcId="2009859" XYZ="317.2808, -76.55457, 476.6461" QuestId="68834" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68834) == 4">
        <GetTo ZoneId="815" XYZ="284.3677, -43.93068, 304.0748"/>
        <UseObject NpcId="2009860" XYZ="284.2603, -43.90027, 302.2965" QuestId="68834" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68834) == 5">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="401.5629, -28.80457, 257.8185"/>
        </If>
        <TalkTo NpcId="1029010" XYZ="401.3275, -28.80457, 260.212" QuestId="68834" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68834) == 6">
        <If Condition="GetQuestById(68834).GetTodoArgs(6, 0).Item1 == 0">
          <If Condition="not IsOnMap(815)">
            <GetTo ZoneId="815" XYZ="421.8729, -26.86041, 293.2871"/>
          </If>
          <TalkTo NpcId="1027906" XYZ="423.1479, -26.83098, 294.6974" QuestId="68834"/>
        </If>
        <If Condition="GetQuestById(68834).GetTodoArgs(6, 0).Item1 == 1">
          <If Condition="not IsOnMap(815)">
            <GetTo ZoneId="815" XYZ="380.0277, -28.29881, 324.0459"/>
          </If>
          <TalkTo NpcId="1027911" XYZ="378.7136, -28.25547, 324.9714" QuestId="68834"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68834) == 255">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="400.4507, -28.68429, 258.7409"/>
        </If>
        <TurnIn QuestId="68834" NpcId="1029012" XYZ="400.8087, -28.75819, 257.2823"/>
      </If>
    </If>
    <!-- Tears on the Sand (Level 70) -->
    <If Condition="IsQuestCompleted(68834) and not HasQuest(68835) and not IsQuestCompleted(68835)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="400.4507, -28.68429, 258.7409"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68835)">
        <PickupQuest QuestId="68835" NpcId="1029010"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68835) &gt; 0">
      <If Condition="GetQuestStep(68835) == 1">
        <GetTo ZoneId="815" XYZ="662.3602, -49.21608, -649.7316"/>
        <TalkTo NpcId="1029013" XYZ="664.4236, -48.86591, -651.3619" QuestId="68835" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68835) == 2">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="47.36168, 36.19769, -168.3282"/>
        </If>
        <TalkTo NpcId="1029014" XYZ="46.70776, 36.19769, -167.4373" QuestId="68835" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68835) == 255">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        <TurnIn QuestId="68835" NpcId="1029015" XYZ="2.243042, 0, -4.104736"/>
      </If>
    </If>

    <If Condition="IsQuestCompleted(68835)">
      <!-- Amh Araeng -->
      <If Condition="not IsAetherCurrentCompleted(815, 8)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="815" XYZ="446.079, -60.5523, -523.687" />
        <UseObject NpcId="2010044" XYZ="446.079, -60.5523, -523.687" Condition="not IsAetherCurrentCompleted(815, 8)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(815, 7)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="815" XYZ="344.683, -66.53, 538.94" />
        <UseObject NpcId="2010047" XYZ="344.683, -66.53, 538.94" Condition="not IsAetherCurrentCompleted(815, 7)" />
      </If>
    </If>

    <!-- The Lightwardens (Level 71) -->
    <If Condition="IsQuestCompleted(68835) and not HasQuest(68836) and not IsQuestCompleted(68836)">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68836)">
        <PickupQuest QuestId="68836" NpcId="1028923"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68836) &gt; 0">
      <If Condition="GetQuestStep(68836) == 1">
        <If Condition="not IsOnMap(844)">
          <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
          <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        </If>
        <TalkTo NpcId="1028923" XYZ="-0.01531982, -7.450581E-09, -6.027344" QuestId="68836" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68836) == 2">
        <If Condition="not IsOnMap(813)">
          <If Condition="IsOnMap(844)">
            <UseTransport InteractDistance="3.0" NpcId="2009758" XYZ="-0.009940993, 1.036532, 14.22064"/>
          </If>
          <GetTo ZoneId="813" XYZ="349.1707, 3.282062, 169.532"/>
        </If>
        <TalkTo NpcId="1028928" XYZ="347.9821, 3.516627, 167.895" QuestId="68836" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68836) == 3">
        <GetTo ZoneId="813" XYZ="680.6741, 101.6722, -708.5827"/>
        <TalkTo NpcId="1029846" XYZ="682.3376, 101.7017, -710.3533" QuestId="68836" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68836) == 4">
        <LLoadProfile Path="Dungeons/Shadowbringers/71 Holminster Switch.xml"/>
      </If>
      <If Condition="GetQuestStep(68836) == 5">
        <WaitWhile condition="GetQuestStep(68836) == 5"/>
      </If>
      <If Condition="GetQuestStep(68836) == 255">
        <If Condition="not IsOnMap(813)">
          <GetTo ZoneId="813" XYZ="684.1846, 101.7182, -712.0588"/>
        </If>
        <TurnIn QuestId="68836" NpcId="1029846" XYZ="682.3376, 101.7017, -710.3533"/>
      </If>
    </If>
    <!-- Warrior of Darkness (Level 71) -->
    <If Condition="IsQuestCompleted(68836) and not HasQuest(68837) and not IsQuestCompleted(68837)">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="684.1846, 101.7182, -712.0588"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68837)">
        <PickupQuest QuestId="68837" NpcId="1029846"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68837) &gt; 0">
      <If Condition="GetQuestStep(68837) == 1">
        <GetTo ZoneId="819" XYZ="-6.564686, -2.384186E-07, -6.831451"/>
        <TalkTo NpcId="1028929" XYZ="-4.501404, -2.384186E-07, -7.370178" QuestId="68837" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68837) == 2">
        <GetTo ZoneId="819" XYZ="-57.71049, -7.669651, 116.271"/>
        <TalkTo NpcId="1027224" XYZ="-57.3587, -7.482, 118.0895" QuestId="68837" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68837) == 3">
        <GetTo ZoneId="819" XYZ="-20.90951, 3.999817, 201.8831"/>
        <TalkTo NpcId="1027322" XYZ="-20.12665, 3.999817, 204.2419" QuestId="68837" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68837) == 255">
        <GetTo ZoneId="819" XYZ="64.06323, 1.716012, 247.5197"/>
        <LLTurnIn QuestId="68837" NpcId="1030610" XYZ="65.11023, 1.716012, 249.7749"/>
      </If>
    </If>

    <!-- A Jobb Well Done -->
    <If Condition="IsQuestCompleted(68837) and not HasQuest(68916) and not IsQuestCompleted(68916)">
      <GetTo ZoneId="819" XYZ="41.78729, 2.232896, 262.3155"/>
      <If Condition="IsQuestAcceptQualified(68916)">
        <LLPickupQuest QuestId="68916" NpcId="1027948" XYZ="40.42102, 2.232896, 261.4938"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68916) and not IsQuestCompleted(68916) and GetQuestStep(68916) == 1">
      <GetTo ZoneId="813" XYZ="781.7092, 21.41485, -9.937267"/>
      <LLHandOver ItemId="2002848" NpcId="1028280" XYZ="784.0542, 21.41485, -9.414856" QuestId="68916" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68916) and not IsQuestCompleted(68916) and GetQuestStep(68916) == 2 and GetQuestById(68916).GetTodoArgs(1, 0).Item1 == 0">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="715.053, 21.41357, -26.93219"/>
      </If>
      <LLHandOver ItemId="2002849" NpcId="1028279" XYZ="715.053, 21.41357, -26.93219" QuestId="68916"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68916) and not IsQuestCompleted(68916) and GetQuestStep(68916) == 2 and GetQuestById(68916).GetTodoArgs(1, 0).Item1 == 1">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="709.6819, 24.19248, 1.815735"/>
      </If>
      <LLHandOver ItemId="2002849" NpcId="1027339" XYZ="709.6819, 24.19248, 1.815735" QuestId="68916"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68916) and not IsQuestCompleted(68916) and GetQuestStep(68916) == 2 and GetQuestById(68916).GetTodoArgs(1, 0).Item1 == 2">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="702.3879, 21.79854, -81.34589"/>
      </If>
      <LLHandOver ItemId="2002849" NpcId="1027420" XYZ="702.3879, 21.79854, -81.34589" QuestId="68916"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68916) and not IsQuestCompleted(68916) and GetQuestStep(68916) == 2 and GetQuestById(68916).GetTodoArgs(1, 0).Item1 == 3">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="715.053, 21.41357, -26.93219"/>
      </If>
      <LLHandOver ItemId="2002849" NpcId="1027341" XYZ="805.356, 30.86825, 7.980469" QuestId="68916"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68916) and not IsQuestCompleted(68916) and GetQuestStep(68916) == 255">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="783.2596, 21.41485, -10.50621"/>
      </If>
      <LLTurnIn QuestId="68916" NpcId="1028280" XYZ="784.0542, 21.41485, -9.414856"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- An Unwelcome Guest (Level 72) -->
    <If Condition="IsQuestCompleted(68837) and not HasQuest(68838) and not IsQuestCompleted(68838)">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="62.99122, 1.716012, 248.0836"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68838)">
        <PickupQuest QuestId="68838" NpcId="1027231"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68838) &gt; 0">
      <If Condition="GetQuestStep(68838) == 1">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        <WaitWhile Condition="not GetQuestStep(68838) == 2"/>
      </If>
      <If Condition="GetQuestStep(68838) == 2">
        <If Condition="not IsOnMap(819)">
          <If Condition="IsOnMap(844)">
            <UseTransport InteractDistance="3.0" NpcId="2009758" XYZ="-0.009940993, 1.036532, 14.22064"/>
          </If>
          <GetTo ZoneId="819" XYZ="-59.97935, -17.72201, -267.2023"/>
        </If>
        <TalkTo NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="68838" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68838) == 3">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="-61.76431, -36.75, -276.8105"/>
        </If>
        <UseObject NpcId="2009809" XYZ="-62.63831, -35.44672, -275.8373" QuestId="68838" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68838) == 4">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="-60.20567, -17.72202, -266.588"/>
        </If>
        <HandOver ItemId="2002530" NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="68838" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68838) == 255">
        <GetTo ZoneId="819" XYZ="-66.23074, -37.7, -211.2124"/>
        <TurnIn QuestId="68838" NpcId="1028941" XYZ="-67.0329, -37.7, -209.1555"/>
      </If>
    </If>
    <!-- The Crystarium's Resolve (Level 72) -->
    <If Condition="IsQuestCompleted(68838) and not HasQuest(68839) and not IsQuestCompleted(68839)">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-65.37766, -37.7, -210.245"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68839)">
        <PickupQuest QuestId="68839" NpcId="1028943"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68839) &gt; 0">
      <If Condition="GetQuestStep(68839) == 1">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="-65.37766, -37.7, -210.245"/>
        </If>
        <TalkTo NpcId="1028944" XYZ="-63.76752, -37.7, -210.2846" QuestId="68839" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68839) == 2">
        <GetTo ZoneId="819" XYZ="-11.06304, 20.1973, -137.6856"/>
        <TalkTo NpcId="1027232" XYZ="-9.323303, 20.1973, -136.5225" QuestId="68839" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68839) == 3">
        <GetTo ZoneId="819" XYZ="-29.38691, -0.65, -50.29358"/>
        <TalkTo NpcId="1027248" XYZ="-30.80798, -0.6499991, -51.43823" QuestId="68839" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68839) == 4">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="-29.38691, -0.65, -50.29358"/>
        </If>
        <WaitTimer Time="10000"/>
        <RunCode Name="68839"/>
        <WaitWhile Condition="not GetQuestStep(68839) == 255"/>
      </If>
      <If Condition="GetQuestStep(68839) == 255">
        <GetTo ZoneId="819" XYZ="-134.9314, 0, -72.57999"/>
        <TurnIn QuestId="68839" NpcId="1027246" XYZ="-136.9802, 0, -73.77747"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- Logistics of War (Level 72) -->
    <If Condition="IsQuestCompleted(68839) and not HasQuest(68840) and not IsQuestCompleted(68840)">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-134.9314, 0, -72.57999"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68840)">
        <PickupQuest QuestId="68840" NpcId="1027246"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68840) &gt; 0">
      <If Condition="GetQuestStep(68840) == 1">
        <GetTo ZoneId="813" XYZ="589.5921, 9.067657, 341.6129"/>
        <TalkTo NpcId="1028945" XYZ="588.5555, 9.151089, 342.7328" QuestId="68840" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68840) == 2">
        <If Condition="not Core.Me.IsMounted">
          <GetTo ZoneId="813" XYZ="589.9456, 8.75728, 340.565"/>
          <TalkTo NpcId="1028945" XYZ="588.5555, 9.151089, 342.7328"/>
        </If>
        <RunCode Name="688402"/>
        <WaitWhile Condition="not GetQuestStep(68840) == 3"/>
      </If>
      <If Condition="GetQuestStep(68840) == 3">
        <If Condition="not Core.Me.IsMounted and not MovementManager.IsFlying">
          <GetTo ZoneId="813" XYZ="-164.2221, 9.361096, -81.12333"/>
          <TalkTo NpcId="1028946" XYZ="-165.1179, 5.761646, -80.55243"/>
        </If>
        <RunCode Name="688403"/>
        <WaitWhile Condition="not GetQuestStep(68840) == 4"/>
      </If>
      <If Condition="GetQuestStep(68840) == 4">
        <If Condition="not IsOnMap(813)">
          <GetTo ZoneId="813" XYZ="-618.1512, 56.75785, -150.36"/>
        </If>
        <TalkTo NpcId="1027395" XYZ="-618.0667, 56.75789, -148.2415" QuestId="68840" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68840) == 255">
        <GetTo ZoneId="813" XYZ="-650.3562, 64.32664, -271.6161"/>
        <TurnIn QuestId="68840" NpcId="1028947" XYZ="-648.9509, 64.32664, -271.6564"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>

    <!-- Imperative Repairs -->
    <If Condition="IsQuestCompleted(68840) and not HasQuest(68920) and not IsQuestCompleted(68920)">
      <GetTo ZoneId="813" XYZ="-766.7798, 61.72048, -303.3688"/>
      <If Condition="IsQuestAcceptQualified(68920)">
        <LLPickupQuest QuestId="68920" NpcId="1027382" XYZ="-765.9266, 61.72048, -304.1886"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68920) and not IsQuestCompleted(68920) and GetQuestStep(68920) == 1">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-798.8417, 115.1851, -318.8819"/>
      </If>
      <UseItem ItemId="2002831" NpcIds="2010613,2010618,2010619,2010620" UseDistance="2" QuestId="68920" StepId="1">
        <HotSpots>
          <HotSpot XYZ="-798.2758, 115.1598, -320.058" Radius="10"/>
          <HotSpot XYZ="-794.7357, 115.1598, -310.3228" Radius="10"/>
          <HotSpot XYZ="-789.0593, 146.7765, -344.1673" Radius="10"/>
          <HotSpot XYZ="-792.1111, 115.1598, -346.4256" Radius="10"/>
        </HotSpots>
      </UseItem>
    </If>
    <If Condition="HasQuest(68920) and not IsQuestCompleted(68920) and GetQuestStep(68920) == 255">
      <GetTo ZoneId="813" XYZ="-765.4781, 61.58692, -301.9384"/>
      <LLTurnIn QuestId="68920" NpcId="1027382" XYZ="-765.9266, 61.72048, -304.1886"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>

    <!-- The Astute Amaro -->
    <If Condition="IsQuestCompleted(68840) and not HasQuest(68921) and not IsQuestCompleted(68921)">
      <GetTo ZoneId="813" XYZ="-675.0093, 51.2151, -219.2736"/>
      <If Condition="IsQuestAcceptQualified(68921)">
        <LLPickupQuest QuestId="68921" NpcId="1031212" XYZ="-673.0907, 51.15794, -219.501"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68921) and not IsQuestCompleted(68921) and GetQuestStep(68921) == 1">
      <GetTo ZoneId="813" XYZ="-426.4322, 7.907925, -119.4296"/>
      <LLTalkTo NpcId="1031214" XYZ="-425.2232, 7.879167, -120.8362" QuestId="68921" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68921) and not IsQuestCompleted(68921) and GetQuestStep(68921) == 2">
      <GetTo ZoneId="813" XYZ="-458.8109, 0.8904356, 77.63301"/>
      <LLTalkTo NpcId="1031216" XYZ="-460.441, 0.9406272, 79.39258" QuestId="68921" StepId="2"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68921) and not IsQuestCompleted(68921) and GetQuestStep(68921) == 3">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-462.5373, 1.08351, 78.00481"/>
      </If>
      <UseItem ItemId="2002832" NpcId="1031213" XYZ="-465.1103, 1.231928, 77.92773" QuestId="68921" StepId="3"/>
    </If>
    <If Condition="HasQuest(68921) and not IsQuestCompleted(68921) and GetQuestStep(68921) == 255">
      <GetTo ZoneId="813" XYZ="-674.8223, 51.20982, -219.2895"/>
      <LLTurnIn QuestId="68921" NpcId="1031212" XYZ="-673.0907, 51.15794, -219.501"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>

    <!-- An Unreasonable Request -->
    <If Condition="IsQuestCompleted(68840) and not HasQuest(68922) and not IsQuestCompleted(68922)">
      <GetTo ZoneId="813" XYZ="-699.3442, 61.99376, -350.9773"/>
      <If Condition="IsQuestAcceptQualified(68922)">
        <LLPickupQuest QuestId="68922" NpcId="1027419" XYZ="-700.7401, 61.99375, -353.6279"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68922) and not IsQuestCompleted(68922) and GetQuestStep(68922) == 1">
      <GetTo ZoneId="813" XYZ="-147.7577, 28.47205, -128.6607"/>
      <LLHandOver ItemId="2002833" NpcId="1027353" XYZ="-146.3188, 28.47206, -128.832" QuestId="68922" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68922) and not IsQuestCompleted(68922) and GetQuestStep(68922) == 2 and GetQuestById(68922).GetTodoArgs(2, 0).Item1 == 0">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-156.7361, 49.16942, -138.0723"/>
      </If>
      <LLTalkTo NpcId="1028317" XYZ="-157.6409, 49.16856, -137.3465" QuestId="68922"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68922) and not IsQuestCompleted(68922) and GetQuestStep(68922) == 2 and GetQuestById(68922).GetTodoArgs(2, 0).Item1 == 1">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-120.6582, 5.761635, -158.4946"/>
      </If>
      <LLTalkTo NpcId="1027368" XYZ="-120.6531, 5.761645, -159.7773" QuestId="68922"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68922) and not IsQuestCompleted(68922) and GetQuestStep(68922) == 2 and GetQuestById(68922).GetTodoArgs(2, 0).Item1 == 2">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-193.3299, 5.761792, -153.915"/>
      </If>
      <LLTalkTo NpcId="1031559" XYZ="-194.1711, 5.761844, -153.7957" QuestId="68922"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68922) and not IsQuestCompleted(68922) and GetQuestStep(68922) == 255">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-147.7582, 28.47204, -128.4235"/>
      </If>
      <LLTurnIn QuestId="68922" NpcId="1027353" XYZ="-146.3188, 28.47206, -128.832"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>

    <If Condition="IsQuestCompleted(68922)">
      <If Condition="not IsAetherCurrentCompleted(813, 8)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="813" XYZ="554.28, 17.9501, 352.102" />
        <UseObject NpcId="2010024" XYZ="554.28, 17.9501, 352.102" Condition="not IsAetherCurrentCompleted(813, 8)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(813, 7)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="813" XYZ="613.245, 24.0201, -231.128" />
        <UseObject NpcId="2010028" XYZ="613.245, 24.0201, -231.128" Condition="not IsAetherCurrentCompleted(813, 7)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(813, 6)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="813" XYZ="-149.798, 15.2812, -102.495" />
        <UseObject NpcId="2010031" XYZ="-149.798, 15.2812, -102.495" Condition="not IsAetherCurrentCompleted(813, 6)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(813, 5)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="813" XYZ="-619.637, 51.5011, -199.096" />
        <UseObject NpcId="2010032" XYZ="-619.637, 51.5011, -199.096" Condition="not IsAetherCurrentCompleted(813, 5)" />
      </If>
    </If>

    <!-- The Oracle of Light (Level 72) -->
    <If Condition="IsQuestCompleted(68840) and not HasQuest(68841) and not IsQuestCompleted(68841)">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-650.3562, 64.32664, -271.6161"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68841)">
        <PickupQuest QuestId="68841" NpcId="1028947"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68841) &gt; 0">
      <If Condition="GetQuestStep(68841) == 1">
        <If Condition="not IsOnMap(813)">
          <GetTo ZoneId="813" XYZ="-634.4615, 56.20171, -138.3651"/>
        </If>
        <UseObject NpcId="2009814" XYZ="-636.1639, 57.35864, -137.6212" QuestId="68841" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68841) == 2">
        <If Condition="GetQuestById(68841).GetTodoArgs(2, 0).Item1 == 0">
          <If Condition="not IsOnMap(813)">
            <GetTo ZoneId="813" XYZ="-636.485, 56.80487, -165.1346"/>
          </If>
          <HandOver ItemId="2002532" NpcId="1028951" XYZ="-639.0631, 56.95372, -167.712" QuestId="68841"/>
        </If>
        <If Condition="GetQuestById(68841).GetTodoArgs(2, 0).Item1 == 1">
          <If Condition="not IsOnMap(813)">
            <GetTo ZoneId="813" XYZ="-749.9599, 66.44429, -192.0538"/>
          </If>
          <HandOver ItemId="2002532" NpcId="1028952" XYZ="-750.2098, 66.442, -194.3237" QuestId="68841"/>
        </If>
        <If Condition="GetQuestById(68841).GetTodoArgs(2, 0).Item1 == 2">
          <If Condition="not IsOnMap(813)">
            <GetTo ZoneId="813" XYZ="-775.2819, 51.54448, -240.9121"/>
          </If>
          <HandOver ItemId="2002532" NpcId="1028953" XYZ="-776.5164, 51.56758, -243.5798" QuestId="68841"/>
        </If>
        <If Condition="GetQuestById(68841).GetTodoArgs(2, 0).Item1 == 3">
          <If Condition="not IsOnMap(813)">
            <GetTo ZoneId="813" XYZ="-719.3278, 51.50114, -264.2994"/>
          </If>
          <HandOver ItemId="2002532" NpcId="1028954" XYZ="-715.7855, 51.50113, -265.4918" QuestId="68841"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68841) == 3">
        <GetTo ZoneId="813" XYZ="-650.8683, 64.32664, -271.4039"/>
        <TalkTo NpcId="1028947" XYZ="-648.9509, 64.32664, -271.6564" QuestId="68841" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68841) == 4">
        <RunCode Name="Enable_SideStep"/>
        <If Condition="not DutyManager.InInstance">
          <GetTo ZoneId="813" XYZ="-757.7085, 200.1388, -294.4588"/>
          <RunCode Name="DutyCommence"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(328.8632, 121.794, -134.7224)) &lt; 20">
          <RunCode Name="68441_Move_1"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(260.3868, 132.7529, -181.4893)) &lt; 20">
          <While Condition="NumAttackableEnemies(50, Array[int]([8645,8921,8920])) &gt; 0">
            <Grind grindRef="68441_Fight_1" while="NumAttackableEnemies(50, Array[int]([8645,8921,8920])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
            <WaitTimer WaitTime="1"/>
          </While>
          <RunCode Name="68441_Move_2"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(217.5665, 134.8314, -265.2322)) &lt; 20">
          <While Condition="NumAttackableEnemies(50, Array[int]([8645,8921,8920])) &gt; 0">
            <Grind grindRef="68441_Fight_2" while="NumAttackableEnemies(50, Array[int]([8645,8921,8920])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
            <WaitTimer WaitTime="1"/>
          </While>
          <RunCode Name="68441_Move_3"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(125.9977, 134.8314, -316.2153)) &lt; 20">
          <While Condition="NumAttackableEnemies(50, Array[int]([8645,8921,8920])) &gt; 0">
            <Grind grindRef="68441_Fight_3" while="NumAttackableEnemies(50, Array[int]([8645,8921,8920])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
            <WaitTimer WaitTime="1"/>
          </While>
          <RunCode Name="68441_Move_4"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(54.7109, 134.8314, -368.2711)) &lt; 20">
          <While Condition="NumAttackableEnemies(50, Array[int]([8645,8921,8920])) &gt; 0">
            <Grind grindRef="68441_Fight_4" while="NumAttackableEnemies(50, Array[int]([8645,8921,8920])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
            <WaitTimer WaitTime="1"/>
          </While>
          <RunCode Name="68441_Move_5"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(-33.14128, 161.0694, -361.8504)) &lt; 20">
          <While Condition="NumAttackableEnemies(50, Array[int]([8645,8921,8920])) &gt; 0">
            <Grind grindRef="68441_Fight_5" while="NumAttackableEnemies(50, Array[int]([8645,8921,8920])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
            <WaitTimer WaitTime="1"/>
          </While>
          <RunCode Name="68441_Use_Bindings"/>
        </If>
        <Grind grindRef="68441_Fight_Ranjit" while="not QuestLogManager.InCutscene"/>
        <RunCode Name="Handle_Cutscene_Talking"/>
      </If>
      <If Condition="GetQuestStep(68841) == 255">
        <GetTo ZoneId="816" XYZ="-637.0616, 126.0549, 698.6165"/>
        <TurnIn QuestId="68841" NpcId="1028956" XYZ="-635.7672, 126.0163, 697.444"/>
      </If>
    </If>
    <!-- Il Mheg, the Faerie Kingdom (Level 72) -->
    <If Condition="IsQuestCompleted(68841) and not HasQuest(68842) and not IsQuestCompleted(68842)">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-637.0616, 126.0549, 698.6165"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68842)">
        <PickupQuest QuestId="68842" NpcId="1028956"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68842) &gt; 0">
      <If Condition="GetQuestStep(68842) == 1">
        <GetTo ZoneId="816" XYZ="-368.569, 47.91702, 497.4654"/>
        <TalkTo NpcId="1028970" XYZ="-370.4128, 47.98858, 497.3982" QuestId="68842" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68842) == 2">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-382.3653, 60.34946, 529.2402"/>
        </If>
        <LLTalkTo NpcId="2009816" XYZ="-382.8031, 60.74609, 530.5714" InteractDistance="3.0" QuestId="68842" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68842) == 255">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-371.3534, 48.05331, 498.4349"/>
        </If>
        <TurnIn ItemId="2002533" QuestId="68842" NpcId="1028970" XYZ="-370.4128, 47.98858, 497.3982"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>

    <!-- Aethercurrent Quest -->
    <!-- The Forbidden Lran -->
    <If Condition="IsQuestCompleted(68842) and not HasQuest(68931) and not IsQuestCompleted(68931)">
      <GetTo ZoneId="816" XYZ="-366.3663, 67.3123, 556.0659"/>
      <If Condition="IsQuestAcceptQualified(68931)">
        <LLPickupQuest QuestId="68931" NpcId="1030266" XYZ="-367.6661, 66.86359, 557.1526"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68931) and not IsQuestCompleted(68931) and GetQuestStep(68931) == 1">
      <GetTo ZoneId="816" XYZ="-163.7436, 34.61127, 607.8997"/>
      <LLTalkTo NpcId="1030267" XYZ="-161.3032, 34.21811, 607.3853" QuestId="68931" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68931) and not IsQuestCompleted(68931) and GetQuestStep(68931) == 2">
      <GetTo ZoneId="816" XYZ="-39.20681, 24.0492, 740.242"/>
      <RunCode Name="68931"/>
      <WaitWhile Condition="HasQuest(68931) and not IsQuestCompleted(68931) and not GetQuestStep(68931) == 255"/>
    </If>
    <If Condition="HasQuest(68931) and not IsQuestCompleted(68931) and GetQuestStep(68931) == 255">
      <GetTo ZoneId="816" XYZ="-366.2805, 67.34469, 555.5678"/>
      <LLTurnIn QuestId="68931" NpcId="1030266" XYZ="-367.6661, 66.86359, 557.1526"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- Sul Uin's Request (Level 72) -->
    <If Condition="IsQuestCompleted(68842) and not HasQuest(68843) and not IsQuestCompleted(68843)">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-356.6293, 46.79337, 482.9474"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68843)">
        <PickupQuest QuestId="68843" NpcId="1027654"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68843) &gt; 0">
      <If Condition="GetQuestStep(68843) == 1">
        <If Condition="GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 0">
          <If Condition="not IsOnMap(816)">
            <GetTo ZoneId="816" XYZ="-452.7749, 79.07576, 592.0464"/>
          </If>
          <UseItem ItemId="2002534" NpcId="2009819" XYZ="-454.8867, 80.125, 593.469" Condition="GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 0"/>
        </If>
        <If Condition="GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 1">
          <If Condition="not IsOnMap(816)">
            <GetTo ZoneId="816" XYZ="-373.7686, 75.98854, 550.1064"/>
          </If>
          <MoveTo XYZ="-361.5254, 68.93802, 549.5556" Distance="1"/>
          <RunCode Name="68843"/>
          <UseItem ItemId="2002534" NpcId="2009820" XYZ="-375.2957, 76.06616, 550.4386" Condition="GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 1"/>
          <MoveTo XYZ="-361.5254, 68.93802, 549.5556" Distance="1" UseMesh="False"/>
        </If>
        <If Condition="GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 2">
          <If Condition="not IsOnMap(816)">
            <GetTo ZoneId="816" XYZ="-281.3918, 56.62772, 475.3147"/>
          </If>
          <UseItem ItemId="2002534" NpcId="2009821" XYZ="-280.3235, 56.22937, 474.0825" Condition="GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 2"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68843) == 255">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-354.0298, 46.73177, 481.9255"/>
        </If>
        <TurnIn QuestId="68843" NpcId="1027654" XYZ="-355.3063, 46.68421, 482.0172"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- Ys Iala’s Errand (Level 72)-->
    <If Condition="IsQuestCompleted(68843) and not HasQuest(68844) and not IsQuestCompleted(68844)">
      <GetTo ZoneId="816" XYZ="-424.1453, 60.46432, 489.9934"/>
      <If Condition="IsQuestAcceptQualified(68844)">
        <PickupQuest QuestId="68844" NpcId="1027655"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68844) &gt; 0">
      <If Condition="GetQuestStep(68844) == 1">
        <If Condition="GetQuestById(68844).GetTodoArgs(1, 0).Item1 == 0">
          <GetTo ZoneId="816" XYZ="-213.2489, 37.8447, 358.0795"/>
          <UseObject NpcId="2009822" XYZ="-211.1086, 38.89526, 356.7711" Condition="GetQuestById(68844).GetTodoArgs(1, 0).Item1 == 0"/>
        </If>
        <If Condition="GetQuestById(68844).GetTodoArgs(1, 0).Item1 == 1">
          <GetTo ZoneId="816" XYZ="-259.0095, 38.20922, 291.1927"/>
          <UseObject NpcId="2009823" XYZ="-260.2427, 38.98682, 289.0516" Condition="GetQuestById(68844).GetTodoArgs(1, 0).Item1 == 1"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68844) == 255">
        <GetTo ZoneId="816" XYZ="-424.1453, 60.46432, 489.9934"/>
        <TurnIn ItemId="2002535" QuestId="68844" NpcId="1027655" XYZ="-424.6739, 60.46432, 490.0739"/>
      </If>
    </If>
    <!-- Oul Sigun’s Plea (Level 72) -->
    <If Condition="IsQuestCompleted(68844) and not HasQuest(68845) and not IsQuestCompleted(68845)">
      <GetTo ZoneId="816" XYZ="-292.5939, 40.32404, 457.3369"/>
      <If Condition="IsQuestAcceptQualified(68845)">
        <PickupQuest QuestId="68845" NpcId="1027656"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68845) &gt; 0">
      <If Condition="GetQuestStep(68845) == 1">
        <GetTo ZoneId="816" XYZ="-60.82149, 0.4029217, 282.0176"/>
        <UseObject NpcId="2009824" XYZ="-59.25079, 0.4729614, 279.9573" QuestId="68845" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68845) == 2">
        <If Condition="GetQuestById(68845).GetTodoArgs(2, 0).Item1 == 0">
          <GetTo ZoneId="816" XYZ="-123.7449, 16.17282, 412.8966"/>
          <UseItem ItemId="2002536" NpcId="2009825" XYZ="-122.3011, 17.80725, 413.2295" Condition="GetQuestById(68845).GetTodoArgs(2, 0).Item1 == 0"/>
        </If>
        <If Condition="GetQuestById(68845).GetTodoArgs(2, 0).Item1 == 1">
          <GetTo ZoneId="816" XYZ="-263.0797, 40.32403, 468.5172"/>
          <UseItem ItemId="2002536" NpcId="2009826" XYZ="-263.1724, 41.85547, 469.5963" Condition="GetQuestById(68845).GetTodoArgs(2, 0).Item1 == 1"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68845) == 255">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-290.6045, 40.32404, 457.3619"/>
        </If>
        <TurnIn ItemId="2002536" QuestId="68845" NpcId="1027656" XYZ="-291.6152, 40.32404, 456.6567"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>

    <!-- Unto the Truth (Level 72) -->
    <If Condition="IsQuestCompleted(68845) and not HasQuest(68846) and not IsQuestCompleted(68846)">
      <GetTo ZoneId="816" XYZ="-402.6659, 56.98001, 441.1852"/>
      <If Condition="IsQuestAcceptQualified(68846)">
        <PickupQuest QuestId="68846" NpcId="1028981"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68846) &gt; 0">
      <If Condition="GetQuestStep(68846) == 1">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-408.6436, 58.09317, 409.1154"/>
        </If>
        <MoveTo XYZ="-408.6436, 58.09317, 409.1154" Distance="1"/>
        <RunCode Name="68846"/>
        <WaitWhile Condition="not GetQuestStep(68846) == 4"/>
      </If>
      <If Condition="GetQuestStep(68846) == 4">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-361.3544, 46.09528, 472.5609"/>
        </If>
        <TalkTo NpcId="1028995" XYZ="-360.7081, 45.90706, 470.7255" QuestId="68846" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68846) == 255">
        <GetTo ZoneId="816" XYZ="-602.7722, 35.8357, -228.9509"/>
        <TurnIn QuestId="68846" NpcId="1028999" XYZ="-603.1434, 36.11779, -230.0603"/>
      </If>
    </If>

    <!-- Delightful Decorations -->
    <If Condition="IsQuestCompleted(68846) and not HasQuest(68934) and not IsQuestCompleted(68934)">
      <LisbethTravel Zone="816" Position="-613.0966, 36.36868, -213.4198"/>
      <If Condition="IsQuestAcceptQualified(68934)">
        <LLPickupQuest QuestId="68934" NpcId="1030618" XYZ="-613.3975, 36.54754, -215.4117"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68934) and not IsQuestCompleted(68934) and GetQuestStep(68934) == 1">
      <LisbethTravel Zone="816" Position="-446.3533, -0.6000298, -221.1962"/>
      <RunCode Name="68934"/>
      <If Condition="HasQuest(68934) and not IsQuestCompleted(68934) and GetQuestStep(68934) == 1 and GetQuestById(68934).GetTodoArgs(1, 0).Item1 == 0">
        <MoveTo XYZ="-458.0491, -41.55544, -233.0296" Distance="1" UseMesh="False"/>
        <UseObject NpcId="2010160" XYZ="-458.0491, -41.55544, -233.0296" Radius="5" UseTimes="1"/>
      </If>
      <If Condition="HasQuest(68934) and not IsQuestCompleted(68934) and GetQuestStep(68934) == 1 and GetQuestById(68934).GetTodoArgs(1, 0).Item1 == 1">
        <MoveTo XYZ="-341.5363, -36.07088, -211.5377" Distance="1" UseMesh="False"/>
        <UseObject NpcId="2010161" XYZ="-341.5363, -36.07088, -211.5377" Radius="5" UseTimes="1"/>
      </If>
      <If Condition="HasQuest(68934) and not IsQuestCompleted(68934) and GetQuestStep(68934) == 1 and GetQuestById(68934).GetTodoArgs(1, 0).Item1 == 2">
        <MoveTo XYZ="-342.1557, -57.74245, -159.3794" Distance="1" UseMesh="False"/>
        <UseObject NpcId="2010159" XYZ="-342.1557, -57.74245, -159.3794" Radius="5" UseTimes="1"/>
      </If>
      <If Condition="HasQuest(68934) and not IsQuestCompleted(68934) and GetQuestStep(68934) == 1 and GetQuestById(68934).GetTodoArgs(1, 0).Item1 == 3">
        <MoveTo XYZ="-346.8651, -49.87661, -122.2701" Distance="1" UseMesh="False"/>
        <UseObject NpcId="2010158" XYZ="-346.8651, -49.87661, -122.2701" Radius="5" UseTimes="1"/>
      </If>
    </If>
    <If Condition="HasQuest(68934) and not IsQuestCompleted(68934) and GetQuestStep(68934) == 2">
      <LisbethTravel Zone="816" Position="-612.2657, 36.3263, -214.5082"/>
      <LLHandOver ItemId="2002636" NpcId="1030618" XYZ="-613.3975, 36.54754, -215.4117" QuestId="68934" StepId="2"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68934) and not IsQuestCompleted(68934) and GetQuestStep(68934) == 3">
      <If Condition="not IsOnMap(816)">
        <LisbethTravel Zone="816" Position="-667.0483, 42.50862, -227.3595"/>
      </If>
      <UseItem ItemId="2002637" NpcIds="2010163,2010164,2010162" BlacklistAfter="True" QuestId="68934" StepId="3">
        <HotSpots>
          <HotSpot XYZ="-659.9985, 38.86462, -227.2527" Radius="10"/>
          <HotSpot XYZ="-664.0269, 40.66516, -225.0859" Radius="10"/>
          <HotSpot XYZ="-667.6585, 42.74048, -228.626" Radius="10"/>
        </HotSpots>
      </UseItem>
    </If>
    <If Condition="HasQuest(68934) and not IsQuestCompleted(68934) and GetQuestStep(68934) == 255">
      <If Condition="not IsOnMap(816)">
        <LisbethTravel Zone="816" Position="-612.5603, 36.51188, -217.3125"/>
      </If>
      <LLTurnIn QuestId="68934" NpcId="1030618" XYZ="-613.3975, 36.54754, -215.4117"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>

    <!-- Courting Cooperation (Level 72) -->
    <If Condition="IsQuestCompleted(68846) and not HasQuest(68847) and not IsQuestCompleted(68847)">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-643.1768, 35.86156, -223.9426"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68847)">
        <LLPickupQuest QuestId="68847" NpcId="1029017"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68847) &gt; 0">
      <If Condition="GetQuestStep(68847) == 1">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-614.252, 31.38261, -166.4375"/>
        </If>
        <SoUseItem ItemId="2002572" NpcId="8581" XYZ="-595.636, 22.76338, -154.4061" InCombatOnly="True" UseHealthPercent="25" QuestId="68847" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68847) == 2">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-642.8879, 35.86156, -223.8141"/>
        </If>
        <HandOver ItemId="2002573" NpcId="1029017" XYZ="-645.0142, 35.86156, -223.1022" QuestId="68847" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68847) == 255">
        <GetTo ZoneId="816" XYZ="-355.214, 46.97292, 483.4761"/>
        <TurnIn QuestId="68847" NpcId="1030535" XYZ="-355.3063, 46.68421, 482.0172" RewardSlot="4"/>
      </If>
    </If>

    <!-- The Path to Popularity -->
    <If Condition="IsQuestCompleted(68847) and not HasQuest(68940) and not IsQuestCompleted(68940)">
      <GetTo ZoneId="816" XYZ="-287.7688, 40.32404, 445.2542"/>
      <If Condition="IsQuestAcceptQualified(68940)">
        <LLPickupQuest QuestId="68940" NpcId="1030838" XYZ="-285.9083, 40.32404, 444.4188"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68940) and not IsQuestCompleted(68940) and GetQuestStep(68940) == 1">
      <GetTo ZoneId="816" XYZ="-631.447, 35.86156, -228.6249"/>
      <UseObject NpcIds="2010362,2010363,2010364" QuestId="68940" StepId="1">
        <HotSpots>
          <HotSpot XYZ="-622.4308, 37.36926, -232.3797" Radius="10"/>
          <HotSpot XYZ="-621.8815, 37.33875, -234.3328" Radius="10"/>
          <HotSpot XYZ="-627.7409, 37.0946, -245.655" Radius="10"/>
        </HotSpots>
      </UseObject>
    </If>
    <If Condition="HasQuest(68940) and not IsQuestCompleted(68940) and GetQuestStep(68940) == 2">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-627.8063, 35.86156, -240.494"/>
      </If>
      <LLTalkTo NpcId="1030839" XYZ="-628.1377, 35.86156, -238.2086" QuestId="68940" StepId="2"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68940) and not IsQuestCompleted(68940) and GetQuestStep(68940) == 3">
      <GetTo ZoneId="816" XYZ="-288.1535, 40.32404, 445.6237"/>
      <LLTalkTo NpcId="1030838" XYZ="-285.9083, 40.32404, 444.4188" QuestId="68940" StepId="3"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68940) and not IsQuestCompleted(68940) and GetQuestStep(68940) == 255">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-288.1535, 40.32404, 445.6237"/>
      </If>
      <LLTurnIn QuestId="68940" NpcId="1030838" XYZ="-285.9083, 40.32404, 444.4188"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(68940) and not IsQuestCompleted(68940) and GetQuestStep(68940) == 255">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-612.6672, 36.5118, -216.8956"/>
      </If>
      <LLTurnIn QuestId="68940" NpcId="1030618" XYZ="-613.3975, 36.54754, -215.4117"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- The Key to the Castle (Level 73) -->
    <If Condition="IsQuestCompleted(68847) and not HasQuest(68848) and not IsQuestCompleted(68848)">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-356.0784, 46.90136, 483.5364"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68848)">
        <PickupQuest QuestId="68848" NpcId="1030535"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68848) &gt; 0">
      <If Condition="GetQuestStep(68848) == 1">
        <GetTo ZoneId="816" XYZ="131.8605, 0.289115, 455.5944"/>
        <UseObject NpcId="2009828" XYZ="133.4095, -0.01531982, 455.9242" QuestId="68848" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68848) == 2">
        <LLoadProfile Path="Dungeons/Shadowbringers/73 Dohn Mheg.xml"/>
      </If>
      <If Condition="GetQuestStep(68848) == 3">
        <WaitWhile condition="GetQuestStep(68848) == 3"/>
      </If>
      <If Condition="GetQuestStep(68848) == 255">
        <If Condition="not IsAetherCurrentCompleted(816, 8)">
          <GetTo ZoneId="816" XYZ="-231.414, 4.70193, 160.844" />
          <UseObject NpcId="2010056" XYZ="-231.414, 4.70193, 160.844" Condition="not IsAetherCurrentCompleted(816, 8)" />
        </If>
        <GetTo ZoneId="816" XYZ="-298.1156, 1.205296, 180.5444"/>
        <TurnIn QuestId="68848" NpcId="1031669" XYZ="-300.0077, 1.49948, 182.8794"/>
      </If>
    </If>
    <!-- A Visit to the Nu Mou (Level 73) -->
    <If Condition="IsQuestCompleted(68848) and not HasQuest(68849) and not IsQuestCompleted(68849)">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-298.1156, 1.205296, 180.5444"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68849)">
        <PickupQuest QuestId="68849" NpcId="1029162"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68849) &gt; 0">
      <If Condition="GetQuestStep(68849) == 1">
        <GetTo ZoneId="816" XYZ="-548.0441, 26.00969, -227.0534"/>
        <TalkTo NpcId="1030577" XYZ="-547.57, 26.35893, -229.1143" QuestId="68849" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68849) == 2">
        <GetTo ZoneId="816" XYZ="-415.6534, 86.34199, -443.0841"/>
        <TalkTo NpcId="1030578" XYZ="-413.9926, 86.60777, -444.5716" QuestId="68849" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68849) == 3">
        <GetTo ZoneId="816" XYZ="-519.4133, 75.76588, -416.6114"/>
        <TalkTo NpcId="1030579" XYZ="-517.2656, 76.02325, -416.6782" QuestId="68849" StepId="3"/>
        <WaitWhile Condition="not Core.Me.HasAura(1151)"/>
      </If>
      <If Condition="GetQuestStep(68849) == 4">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-519.4133, 75.76588, -416.6114"/>
        </If>
        <If Condition="not Core.Me.HasAura(1151)">
          <TalkTo NpcId="1030579" XYZ="-517.2656, 76.02325, -416.6782"/>
        </If>
        <RunCode Name="68849"/>
        <NoCombatMoveTo XYZ="-213.4811, 55.12505, -563.1155" Distance="1"/>
        <WaitWhile Condition="not GetQuestStep(68849) == 255"/>
        <RunCode Name="68849"/>
      </If>
      <If Condition="GetQuestStep(68849) == 255">
        <GetTo ZoneId="816" XYZ="-131.5806, 58.49586, -678.4605"/>
        <TurnIn QuestId="68849" NpcId="1029562" XYZ="-130.6935, 58.75494, -680.4761"/>
      </If>
    </If>
    <!-- A Fitting Payment (Level 73) -->
    <If Condition="IsQuestCompleted(68849) and not HasQuest(68850) and not IsQuestCompleted(68850)">
      <GetTo ZoneId="816" XYZ="-146.0237, 99.8919, -848.6055"/>
      <If Condition="IsQuestAcceptQualified(68850)">
        <PickupQuest QuestId="68850" NpcId="1029564"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68850) &gt; 0">
      <If Condition="GetQuestStep(68850) == 1">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-45.31753, 104.8736, -857.7643"/>
        </If>
        <TalkTo NpcId="1029572" XYZ="-44.02228, 104.9151, -856.5347" QuestId="68850" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68850) == 2">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-88.08081, 53.65552, -648.1254"/>
        </If>
        <Grind GrindRef="68850" PostCombatDelay="3.0" While="not GetQuestStep(68850) == 255"/>
      </If>
      <If Condition="GetQuestStep(68850) == 255">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-46.4519, 104.7952, -857.6154"/>
        </If>
        <TurnIn ItemId="2002537" QuestId="68850" NpcId="1029572" XYZ="-44.02228, 104.9151, -856.5347"/>
      </If>
    </If>
    <!-- Spore Sweeper (Level 73) -->
    <If Condition="IsQuestCompleted(68850) and not HasQuest(68851) and not IsQuestCompleted(68851)">
      <GetTo ZoneId="816" XYZ="-82.70111, 101.685, -865.3964"/>
      <If Condition="IsQuestAcceptQualified(68851)">
        <PickupQuest QuestId="68851" NpcId="1029573"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68851) &gt; 0">
      <If Condition="GetQuestStep(68851) == 1">
        <If Condition="GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 0">
          <If Condition="not IsOnMap(816)">
            <GetTo ZoneId="816" XYZ="-111.7723, 103.1051, -865.7816"/>
          </If>
          <UseObject NpcId="2009830" XYZ="-111.7723, 103.1051, -865.7816" Condition="GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 0"/>
        </If>
        <If Condition="GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 1">
          <If Condition="not IsOnMap(816)">
            <GetTo ZoneId="816" XYZ="-49.04696, 104.576, -856.5419"/>
          </If>
          <MoveTo XYZ="-49.04696, 104.576, -856.5419" Distance="1"/>
          <RunCode Name="68851"/>
          <UseObject NpcId="2009831" XYZ="-39.84137, 116.2279, -839.292" Condition="GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 1"/>
          <MoveTo XYZ="-33.62787, 105.4577, -866.9728" UseMesh="False"/>
        </If>
        <If Condition="GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 2">
          <If Condition="not IsOnMap(816)">
            <GetTo ZoneId="816" XYZ="-111.7723, 103.1051, -865.7816"/>
          </If>
          <UseObject NpcId="2009832" XYZ="25.43677, 100.6942, -902.3118" Condition="GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 2"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68851) == 2">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-83.86695, 101.6036, -865.5789"/>
        </If>
        <TalkTo NpcId="1029573" XYZ="-85.83203, 101.6589, -866.0563" QuestId="68851" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68851) == 3">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-182.8789, 83.817, -787.0206"/>
        </If>
        <UseObject NpcId="2009833" XYZ="-181.1398, 84.09241, -786.2211" QuestId="68851" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68851) == 4">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-166.7645, 82.25686, -752.0114"/>
        </If>
        <TalkTo NpcId="1029574" XYZ="-164.6296, 82.30322, -751.9799" QuestId="68851" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68851) == 255">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-85.28179, 101.5422, -864.0886"/>
        </If>
        <TurnIn QuestId="68851" NpcId="1029573" XYZ="-85.83203, 101.6589, -866.0563"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- The Lawless Ones (Level 73) -->
    <If Condition="IsQuestCompleted(68851) and not HasQuest(68852) and not IsQuestCompleted(68852)">
      <GetTo ZoneId="816" XYZ="-100.4421, 101.8601, -840.1843"/>
      <If Condition="IsQuestAcceptQualified(68852)">
        <PickupQuest QuestId="68852" NpcId="1027672"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68852) &gt; 0">
      <If Condition="GetQuestStep(68852) == 1">
        <GetTo ZoneId="816" XYZ="476.9024, 90.93466, -330.5154"/>
        <TalkTo NpcId="1029575" XYZ="477.47, 90.93466, -328.5725" QuestId="68852" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68852) == 2">
        <If Condition="GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 0">
          <GetTo ZoneId="816" XYZ="516.113, 121.8382, -157.0513"/>
          <UseObject NpcId="2009836" XYZ="514.4578, 122.4536, -158.2819" Condition="GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 0"/>
        </If>
        <If Condition="GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 1">
          <GetTo ZoneId="816" XYZ="494.9538, 103.463, -119.4138"/>
          <UseObject NpcId="2009834" XYZ="496.7573, 103.9597, -116.4111" Condition="GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 1"/>
        </If>
        <If Condition="GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 2">
          <If Condition="not IsOnMap(816)">
            <GetTo ZoneId="816" XYZ="533.7747, 109.4174, -154.8044"/>
          </If>
          <NoCombatMoveTo XYZ="533.7747, 109.4174, -154.8044" Distance="1"/>
          <RunCode Name="68852"/>
          <UseObject NpcId="2009835" XYZ="570.0007, 119.1576, -145.7084" Condition="GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 2"/>
          <MoveTo XYZ="549.6824, 117.2716, -154.7098" Distance="1"/>
          <MoveTo XYZ="533.7747, 109.4174, -154.8044" Distance="1" UseMesh="False"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68852) == 3">
        <GetTo ZoneId="816" XYZ="295.1513, 67.24311, -408.0851"/>
        <TalkTo NpcId="1029576" XYZ="292.9274, 67.604, -408.1331" QuestId="68852" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68852) == 255">
        <GetTo ZoneId="816" XYZ="-99.34395, 101.694, -839.9088"/>
        <TurnIn ItemId="2002538" QuestId="68852" NpcId="1027672" XYZ="-101.5183, 101.8601, -838.4985"/>
      </If>
    </If>
    <!-- The Elder's Answer (Level 73) -->
    <If Condition="IsQuestCompleted(68852) and not HasQuest(68853) and not IsQuestCompleted(68853)">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-99.34395, 101.694, -839.9088"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68853)">
        <PickupQuest QuestId="68853" NpcId="1027672"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68853) &gt; 0">
      <If Condition="GetQuestStep(68853) == 1">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="12.24302, 100.161, -886.3259"/>
        </If>
        <TalkTo NpcId="1027666" XYZ="13.8399, 100.161, -886.3203" QuestId="68853" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68853) == 2">
        <GetTo ZoneId="816" XYZ="449.7774, 87.33919, -694.848"/>
        <LLTalkTo NpcId="1029580" DialogOption="1" XYZ="453.0555, 87.47449, -691.9509" QuestId="68853" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68853) == 3">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="417.9727, 87.75167, -748.7742"/>
        </If>
        <MoveTo XYZ="416.8002, 87.94778, -751.0948"/>
        <RunCode Name="68853"/>
        <WaitWhile Condition="not GetQuestStep(68853) == 4"/>
      </If>
      <If Condition="GetQuestStep(68853) == 4">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="384.3331, 86.61897, -619.7779"/>
        </If>
        <MoveTo XYZ="382.1317, 86.55059, -617.0901"/>
        <RunCode Name="68853"/>
        <WaitWhile Condition="not GetQuestStep(68853) == 5"/>
      </If>
      <If Condition="GetQuestStep(68853) == 5">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="365.4703, 86.98999, -712.2002"/>
        </If>
        <MoveTo XYZ="364.2786, 87.00109, -715.4193" QuestId="68853"/>
        <RunCode Name="68853"/>
        <WaitWhile Condition="not GetQuestStep(68853) == 255"/>
      </If>
      <If Condition="GetQuestStep(68853) == 255">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="454.1667, 86.14813, -710.8237"/>
        </If>
        <TurnIn QuestId="68853" NpcId="1029577" XYZ="456.8398, 86.13955, -710.0176"/>
      </If>
    </If>

    <!-- A Resounding Roar (Level 73) -->
    <If Condition="IsQuestCompleted(68853) and not HasQuest(68854) and not IsQuestCompleted(68854)">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="454.1667, 86.14813, -710.8237"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68854)">
        <PickupQuest QuestId="68854" NpcId="1029577"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68854) &gt; 0">
      <If Condition="GetQuestStep(68854) == 1">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="450.91, 87.6044, -694.7025"/>
        </If>
        <TalkTo NpcId="1027690" XYZ="452.9945, 87.48281, -691.9814" QuestId="68854" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68854) == 2">
        <GetTo ZoneId="816" XYZ="653.204, 102.6408, -610.7111"/>
        <TalkTo NpcId="1030874" XYZ="658.442, 102.7994, -608.9113" QuestId="68854" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68854) == 3">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="653.204, 102.6408, -610.7111"/>
        </If>
        <TalkTo NpcId="1030874" XYZ="658.442, 102.7994, -608.9113" QuestId="68854" StepId="3"/>
        <WaitWhile Condition="not GetQuestStep(68854) == 4"/>
      </If>
      <If Condition="GetQuestStep(68854) == 4">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="652.2428, 102.3967, -609.4046"/>
        </If>
        <TalkTo NpcId="1030874" XYZ="658.442, 102.7994, -608.9113" QuestId="68854" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68854) == 255">
        <GetTo ZoneId="816" XYZ="449.9993, 87.24177, -695.919"/>
        <TurnIn QuestId="68854" NpcId="1027690" XYZ="452.9945, 87.48281, -691.9814"/>
      </If>
    </If>

    <!-- A New Amaro -->
    <If Condition="IsQuestCompleted(68854) and not HasQuest(68963) and not IsQuestCompleted(68963)">
      <GetTo ZoneId="816" XYZ="441.4835, 89.6209, -654.8467"/>
      <If Condition="IsQuestAcceptQualified(68963)">
        <LLPickupQuest QuestId="68963" NpcId="1027695" XYZ="441.6418, 89.80711, -653.4371"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68963) and not IsQuestCompleted(68963) and GetQuestStep(68963) == 1">
      <GetTo ZoneId="816" XYZ="242.1951, 73.39855, -722.4362"/>
      <UseObject NpcId="2010481" XYZ="238.7273, 72.95337, -723.7202" QuestId="68963" StepId="1"/>
    </If>
    <If Condition="HasQuest(68963) and not IsQuestCompleted(68963) and GetQuestStep(68963) == 2">
      <GetTo ZoneId="816" XYZ="158.0783, 56.05956, -630.8952"/>
      <UseObject NpcId="2010482" XYZ="156.6338, 55.58862, -629.8467" QuestId="68963" StepId="2"/>
    </If>
    <If Condition="HasQuest(68963) and not IsQuestCompleted(68963) and GetQuestStep(68963) == 3">
      <GetTo ZoneId="816" XYZ="35.5085, 40.82598, -624.6527"/>
      <UseObject NpcId="2010483" XYZ="34.1344, 39.90234, -622.1866" QuestId="68963" StepId="3"/>
    </If>
    <If Condition="HasQuest(68963) and not IsQuestCompleted(68963) and GetQuestStep(68963) == 255">
      <GetTo ZoneId="816" XYZ="-77.7541, 38.15496, -532.3476"/>
      <LLTurnIn QuestId="68963" NpcId="1031025" XYZ="-79.75891, 37.96834, -531.8532"/>
    </If>


    <!-- Memento of a Friend (Level 73) -->
    <If Condition="IsQuestCompleted(68854) and not HasQuest(68855) and not IsQuestCompleted(68855)">
      <GetTo ZoneId="816" XYZ="449.9993, 87.24177, -695.919"/>
      <If Condition="IsQuestAcceptQualified(68855)">
        <PickupQuest QuestId="68855" NpcId="1027690"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68855) &gt; 0">
      <If Condition="GetQuestStep(68855) == 1">
        <GetTo ZoneId="816" XYZ="50.85175, -0.6, -438.7426"/>
        <RunCode Name="68855"/>
        <UseObject NpcId="2009837" XYZ="-361.9593, -52.50635, -302.4186" QuestId="68855" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68855) == 255">
        <GetTo ZoneId="816" XYZ="449.2203, 87.18832, -694.8893"/>
        <TurnIn ItemId="2002578" QuestId="68855" NpcId="1027690" XYZ="452.9945, 87.48281, -691.9814"/>
      </If>
    </If>
    <!-- Acht-la Ormh Inn (Level 73) -->
    <If Condition="IsQuestCompleted(68855) and not HasQuest(68856) and not IsQuestCompleted(68856)">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="449.2203, 87.18832, -694.8893"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68856)">
        <PickupQuest QuestId="68856" NpcId="1027690"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68856) &gt; 0">
      <If Condition="GetQuestStep(68856) == 1">
        <GetTo ZoneId="816" XYZ="-140.0103, 115.2709, -273.2854"/>
        <UseObject NpcId="2009840" XYZ="-143.3281, 116.8688, -274.1589" QuestId="68856" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68856) == 2">
        <If Condition="not IsOnMap(816)">
          <GetTo ZoneId="816" XYZ="-142.0314, 115.2709, -273.7599"/>
        </If>
        <UserDialog QuestId="68856" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete the trial The Dancing Plague." />
      </If>
      <If Condition="GetQuestStep(68856) == 3">
        <RunCode Name="Handle_Cutscene_Talking"/>
      </If>
      <If Condition="GetQuestStep(68856) == 255">
        <GetTo ZoneId="816" XYZ="-377.3563, 48.81937, 468.8152"/>
        <TurnIn QuestId="68856" NpcId="1029583" XYZ="-378.5001, 49.03859, 468.6503"/>
      </If>
    </If>

    <If Condition="IsQuestCompleted(68856)">
      <If Condition="not IsAetherCurrentCompleted(816, 8)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="816" XYZ="-231.414, 4.70193, 160.844" />
        <UseObject NpcId="2010056" XYZ="-231.414, 4.70193, 160.844" Condition="not IsAetherCurrentCompleted(816, 8)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(816, 7)">
        <GetTo ZoneId="816" XYZ="32.10767, 102.6907, -854.0199"/>
        <Dismount/>
        <RunCode Name="2010059"/>
        <UseObject NpcId="2010059" XYZ="12.8542, 110.753, -851.247" Condition="not IsAetherCurrentCompleted(816, 7)" />
        <MoveTo XYZ="10.33892, 103.3433, -857.1391" UseMesh="False"/>

      </If>
      <If Condition="not IsAetherCurrentCompleted(816, 6)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="816" XYZ="432.481, 90.4406, -770.4" />
        <UseObject NpcId="2010062" XYZ="432.481, 90.4406, -770.4" Condition="not IsAetherCurrentCompleted(816, 6)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(816, 5)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="816" XYZ="-8.99945, 89.3091, -247.64" />
        <UseObject NpcId="2010063" XYZ="-8.99945, 89.3091, -247.64" Condition="not IsAetherCurrentCompleted(816, 5)" />
      </If>
    </If>


    <!-- The Wheel Turns (Level 73) -->
    <If Condition="IsQuestCompleted(68856) and not HasQuest(68857) and not IsQuestCompleted(68857)">
      <GetTo ZoneId="816" XYZ="-374.2905, 48.27262, 472.4072"/>
      <If Condition="IsQuestAcceptQualified(68857)">
        <PickupQuest QuestId="68857" NpcId="1029584"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68857) &gt; 0">
      <If Condition="GetQuestStep(68857) == 1">
        <GetTo ZoneId="819" XYZ="18.70705, 0, 0.5403592"/>
        <TalkTo NpcId="1029595" XYZ="20.6759, 0.005891658, 0.7171631" QuestId="68857" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68857) == 2">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="18.70705, 5.960464E-08, 0.5403592"/>
        </If>
        <TalkTo NpcId="1029595" XYZ="20.6759, 0.005891658, 0.7171631" QuestId="68857" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68857) == 255">
        <GetTo ZoneId="819" XYZ="63.24646, 1.716012, 246.9475"/>
        <LLTurnIn QuestId="68857" NpcId="1030610" XYZ="65.11023, 1.716012, 249.7749"/>
      </If>
    </If>
    <!-- A Party Soon Divided (Level 74) -->
    <If Condition="IsQuestCompleted(68857) and not HasQuest(68858) and not IsQuestCompleted(68858)">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="62.24472, 1.716012, 248.964"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68858)">
        <PickupQuest QuestId="68858" NpcId="1027231"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68858) &gt; 0">
      <If Condition="GetQuestStep(68858) == 1">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        <WaitWhile Condition="not GetQuestStep(68858) == 2"/>
      </If>
      <If Condition="GetQuestStep(68858) == 2">
        <If Condition="not IsOnMap(844)">
          <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
          <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        </If>
        <TalkTo NpcId="1030883" XYZ="-0.01531982, 0, 4.28772" QuestId="68858" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68858) == 255">
        <If Condition="WorldManager.HasAetheryteId(132)">
          <GetTo ZoneId="813" XYZ="751.5616, 21.38111, -4.344109"/>
        </If>
        <If Condition="not WorldManager.HasAetheryteId(132)">
          <GetTo ZoneId="813" XYZ="685.8023, 13.26635, 217.5488"/>
          <NoCombatMoveTo ZoneId="813" XYZ="751.4609, 21.38111, -2.731445"/>
          <RunCode Name="68858_Learn_Aetheryte"/>
        </If>
        <TurnIn QuestId="68858" NpcId="1029167" XYZ="751.4609, 21.38111, -2.731445"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- A Little Faith (Level 74) -->
    <If Condition="IsQuestCompleted(68858) and not HasQuest(68859) and not IsQuestCompleted(68859)">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="751.5616, 21.38111, -4.344109"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68859)">
        <PickupQuest QuestId="68859" NpcId="1029167"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68859) &gt; 0">
      <If Condition="GetQuestStep(68859) == 1">
        <If Condition="not IsOnMap(813)">
          <GetTo ZoneId="813" XYZ="725.6536, -1.993655, -94.15028"/>
        </If>
        <UseObject NpcId="2009861" XYZ="725.3986, -1.999023, -93.33948" QuestId="68859" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68859) == 2">
        <If Condition="not IsOnMap(813)">
          <GetTo ZoneId="813" XYZ="723.1733, -1.898337, -92.94218"/>
        </If>
        <UserDialog QuestId="68859" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete the zoomie-zoom." />
      </If>
      <If Condition="GetQuestStep(68859) == 255">
        <If Condition="not IsOnMap(813)">
          <GetTo ZoneId="813" XYZ="700.0579, -1.707615, -94.74114"/>
        </If>
        <TurnIn QuestId="68859" NpcId="1030889" XYZ="699.4277, -1.707615, -94.52972"/>
      </If>
    </If>
    <!-- Into the Dark (Level 74) -->
    <If Condition="IsQuestCompleted(68859) and not HasQuest(68860) and not IsQuestCompleted(68860)">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="700.0579, -1.707615, -94.74114"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68860)">
        <PickupQuest QuestId="68860" NpcId="1030889"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68860) &gt; 0">
      <If Condition="GetQuestStep(68860) == 1">
        <GetTo ZoneId="813" XYZ="871.0352, 42.0433, -281.2524"/>
        <TalkTo NpcId="1028303" XYZ="872.7396, 42.18195, -281.2695" QuestId="68860" StepId="1"/>
        <WaitWhile Condition="not GetQuestStep(68860) == 3"/>
      </If>
      <If Condition="GetQuestStep(68860) == 3">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-719.7007, 9.231298, 682.9153"/>
        </If>
        <TalkTo NpcId="1029180" XYZ="-718.4406, 9.072794, 682.6123" QuestId="68860" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68860) == 4">
        <GetTo ZoneId="817" XYZ="-425.3905, 1.619092, 595.9363"/>
        <UseObject NpcId="2009862" XYZ="-424.4908, 1.602173, 594.5371" QuestId="68860" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68860) == 5">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-425.3905, 1.619092, 595.9363"/>
        </If>
        <TalkTo NpcId="1029188" XYZ="-421.1643, 1.621401, 594.7203" QuestId="68860" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68860) == 6">
        <GetTo ZoneId="817" XYZ="-235.9856, -2.885211, 333.2914"/>
        <TalkTo NpcId="1029189" XYZ="-234.5159, -3.102472, 332.0211" QuestId="68860" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(68860) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-123.316, -18.98619, 297.0508"/>
        </If>
        <TurnIn QuestId="68860" NpcId="1029190" XYZ="-121.9044, -18.97577, 297.2305"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- A Day in the Neighborhood (Level 74) -->
    <If Condition="IsQuestCompleted(68860) and not HasQuest(68861) and not IsQuestCompleted(68861)">
      <GetTo ZoneId="817" XYZ="-38.16271, -18.92046, 335.2363"/>
      <If Condition="IsQuestAcceptQualified(68861)">
        <LLPickupQuest QuestId="68861" NpcId="1029194"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68861) &gt; 0">
      <If Condition="GetQuestStep(68861) == 1">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-86.50735, -19.02146, 299.545"/>
        </If>
        <TalkTo NpcId="1029197" XYZ="-87.87671, -19.02213, 298.207" QuestId="68861" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68861) == 2">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-117.2668, -19.70876, 384.7875"/>
        </If>
        <TalkTo NpcId="1029198" XYZ="-118.1812, -19.71302, 385.5192" QuestId="68861" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68861) == 3">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-117.2668, -19.70876, 384.7875"/>
        </If>
        <RunCode Name="688613"/>
        <WaitWhile Condition="not GetQuestStep(68861) == 4"/>
      </If>
      <If Condition="GetQuestStep(68861) == 4">
        <If Condition="GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 0">
          <If Condition="not IsOnMap(817)">
            <GetTo ZoneId="817" XYZ="-112.5699, -18.53477, 325.5354"/>
          </If>
          <MoveTo XYZ="-113.1152, -18.48463, 324.2084"/>
          <RunCode Name="688614"/>
          <WaitWhile Condition="GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 0"/>
        </If>
        <If Condition="GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 1">
          <If Condition="not IsOnMap(817)">
            <GetTo ZoneId="817" XYZ="-26.30175, -25.31891, 305.4835"/>
          </If>
          <MoveTo XYZ="-24.73492, -25.32426, 305.5924"/>
          <RunCode Name="688614"/>
          <WaitWhile Condition="GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 1"/>
        </If>
        <If Condition="GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 2">
          <If Condition="not IsOnMap(817)">
            <GetTo ZoneId="817" XYZ="-129.5815, -18.48668, 247.5631"/>
          </If>
          <MoveTo XYZ="-130.2664, -18.48668, 246.5704"/>
          <RunCode Name="688614"/>
          <WaitWhile Condition="GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 2"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68861) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-115.8263, -19.70627, 385.3089"/>
        </If>
        <TurnIn QuestId="68861" NpcId="1029199" XYZ="-116.7162, -19.70673, 386.4957"/>
      </If>
    </If>

    <!-- What We Do for Family -->
    <If Condition="IsQuestCompleted(68861) and not HasQuest(68980) and not IsQuestCompleted(68980)">
      <GetTo ZoneId="817" XYZ="-128.5743, -17.23699, 314.8941"/>
      <If Condition="IsQuestAcceptQualified(68980)">
        <LLPickupQuest QuestId="68980" NpcId="1029023" XYZ="-131.3649, -16.4778, 316.3042"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(68980) and not IsQuestCompleted(68980) and GetQuestStep(68980) == 1">
      <GetTo ZoneId="817" XYZ="-303.9355, 8.462777, 712.5338"/>
      <RunCode Name="68980"/>
    </If>
    <If Condition="HasQuest(68980) and not IsQuestCompleted(68980) and GetQuestStep(68980) == 2">
      <GetTo ZoneId="817" XYZ="-375.4979, 9.709939, 455.3375"/>
      <UseObject NpcId="2009776" XYZ="-375.3873, 10.02515, 451.6517" QuestId="68980" StepId="2"/>
    </If>
    <If Condition="HasQuest(68980) and not IsQuestCompleted(68980) and GetQuestStep(68980) == 255">
      <GetTo ZoneId="817" XYZ="-303.813, 8.348971, 709.9684"/>
      <LLTurnIn ItemId="2002519" QuestId="68980" NpcId="1029024" XYZ="-301.5335, 8.681433, 711.2992"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- A Helping Hand (Level 74) -->
    <If Condition="IsQuestCompleted(68861) and not HasQuest(68862) and not IsQuestCompleted(68862)">
      <GetTo ZoneId="817" XYZ="-115.8263, -19.70627, 385.3089"/>
      <If Condition="IsQuestAcceptQualified(68862)">
        <PickupQuest QuestId="68862" NpcId="1029198"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68862) &gt; 0">
      <If Condition="GetQuestStep(68862) == 1">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-113.1797, -19.59206, 387.5388"/>
        </If>
        <TalkTo NpcId="1029200" XYZ="-112.9016, -19.59217, 388.8456" QuestId="68862" StepId="1"/>
        <WaitWhile Condition="not Core.Me.HasAura(404)"/>
      </If>
      <If Condition="GetQuestStep(68862) == 2">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-113.1212, -19.59208, 387.7769"/>
        </If>
        <If Condition="not Core.Me.HasAura(404)">
          <TalkTo NpcId="1029200" XYZ="-112.9016, -19.59217, 388.8456"/>
        </If>
        <UseObject NpcId="2009863" XYZ="-71.78751, -19.33637, 302.1084" QuestId="68862" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68862) == 3">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-113.1212, -19.59208, 387.7769"/>
        </If>
        <TalkTo NpcId="1029200" XYZ="-112.9016, -19.59217, 388.8456" QuestId="68862" StepId="3"/>
        <WaitWhile Condition="not Core.Me.HasAura(404)"/>
      </If>
      <If Condition="GetQuestStep(68862) == 4">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-113.1212, -19.59208, 387.7769"/>
        </If>
        <If Condition="not Core.Me.HasAura(404)">
          <TalkTo NpcId="1029200" XYZ="-112.9016, -19.59217, 388.8456"/>
        </If>
        <UseObject NpcId="2009864" XYZ="-71.03082, -19.39423, 293.4767" QuestId="68862" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68862) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-79.45036, -19.13264, 299.517"/>
        </If>
        <TurnIn QuestId="68862" NpcId="1027741" XYZ="-80.33875, -19.10103, 299.8245"/>
      </If>
    </If>
    <!-- Lost but Not Forgotten (Level 74) -->
    <If Condition="IsQuestCompleted(68862) and not HasQuest(68863) and not IsQuestCompleted(68863)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-86.13138, -19.02146, 298.3206"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68863)">
        <PickupQuest QuestId="68863" NpcId="1029197"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68863) &gt; 0">
      <If Condition="GetQuestStep(68863) == 1">
        <GetTo ZoneId="817" XYZ="-260.4119, 13.82956, 553.2424"/>
        <UseObject NpcId="2009866" XYZ="-260.731, 13.6568, 554.6805" QuestId="68863" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68863) == 2">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-285.7215, 8.648677, 604.9057"/>
        </If>
        <MoveTo XYZ="-285.7215, 8.648677, 604.9057" Distance="1"/>
        <WaitWhile Condition="not GetQuestStep(68863) == 3"/>
      </If>
      <If Condition="GetQuestStep(68863) == 3">
        <GetTo ZoneId="817" XYZ="-241.7118, 13.07346, 777.7673"/>
        <TalkTo NpcId="1029206" XYZ="-243.183, 13.32383, 778.9883" QuestId="68863" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68863) == 4">
        <GetTo ZoneId="817" XYZ="-310.1363, 7.026079, 702.9386"/>
        <UseObject NpcId="2009869" XYZ="-309.3156, 7.095398, 702.2355" QuestId="68863" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68863) == 5">
        <GetTo ZoneId="817" XYZ="-216.0518, 10.23428, 713.3605"/>
        <HandOver ItemId="2002545" NpcId="1029207" XYZ="-213.6111, 10.20786, 712.6116" QuestId="68863" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68863) == 255">
        <GetTo ZoneId="817" XYZ="-88.99014, -19.06378, 299.2285"/>
        <TurnIn ItemId="2002545" QuestId="68863" NpcId="1029197" XYZ="-87.87671, -19.02213, 298.207"/>
      </If>
    </If>
    <!-- Saying Goodbye (Level 74) -->
    <If Condition="IsQuestCompleted(68863) and not HasQuest(68864) and not IsQuestCompleted(68864)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-88.99014, -19.06378, 299.2285"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68864)">
        <PickupQuest QuestId="68864" NpcId="1029197"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68864) &gt; 0">
      <If Condition="GetQuestStep(68864) == 1">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-92.00209, -19.10205, 305.5115"/>
        </If>
        <TalkTo NpcId="1029209" XYZ="-92.48492, -19.11198, 307.1183" QuestId="68864" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68864) == 2">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-76.52748, -28.63224, 422.4229"/>
        </If>
        <TalkTo NpcId="1028989" XYZ="-77.86682, -28.63224, 423.6056" QuestId="68864" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68864) == 3">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-88.27672, -28.63224, 416.7342"/>
        </If>
        <UseItem ItemId="2002546" NpcId="2009871" XYZ="-89.49426, -28.64117, 416.0676" QuestId="68864" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68864) == 4">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-71.03035, -28.63224, 409.8978"/>
        </If>
        <UseObject NpcId="2009872" XYZ="-69.65747, -28.64117, 409.4757" QuestId="68864" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68864) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-38.5192, -18.90045, 334.791"/>
        </If>
        <TurnIn QuestId="68864" NpcId="1029194" XYZ="-37.2168, -18.92046, 336.6292"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- Stirring up Trouble (Level 74) -->
    <If Condition="IsQuestCompleted(68864) and not HasQuest(68865) and not IsQuestCompleted(68865)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-38.5192, -18.90045, 334.791"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68865)">
        <PickupQuest QuestId="68865" NpcId="1029194"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68865) &gt; 0">
      <If Condition="GetQuestStep(68865) == 1">
        <GetTo ZoneId="817" XYZ="-311.427, 5.097093, 287.1707"/>
        <TalkTo NpcId="1029212" XYZ="-313.5882, 5.156485, 285.603" QuestId="68865" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68865) == 2">
        <GetTo ZoneId="817" XYZ="-158.3112, 7.504869, -14.55397"/>
        <WaitWhile Condition="not GetQuestStep(68865) == 3"/>
      </If>
      <If Condition="GetQuestStep(68865) == 3">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-158.3112, 7.504869, -14.55397"/>
        </If>
        <UseObject NpcId="1029214" XYZ="-157.6409, 7.398206, -13.35168" QuestId="68865" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68865) == 4">
        <GetTo ZoneId="817" XYZ="-230.9161, 20.73055, -50.48281"/>
        <UseObject NpcId="2009874" XYZ="-231.8609, 21.71356, -49.302" QuestId="68865" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68865) == 5">
        <GetTo ZoneId="817" XYZ="-294.1297, 22.32833, -180.6126"/>
        <UseItem ItemId="2002547" NpcId="2009875" XYZ="-292.2561, 23.5141, -182.7574" QuestId="68865" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68865) == 6">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-294.1297, 22.32833, -180.6126"/>
        </If>
        <UseItem ItemId="2002548" NpcId="2010501" XYZ="-292.2866, 23.48358, -182.7878" QuestId="68865" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(68865) == 7">
        <GetTo ZoneId="817" XYZ="-188.8327, 1.4576, 2.301648"/>
        <UseItem ItemId="2002547" NpcId="2009876" XYZ="-190.4479, 3.036438, 2.578735" QuestId="68865" StepId="7"/>
      </If>
      <If Condition="GetQuestStep(68865) == 8">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-188.0979, 1.699434, 2.009343"/>
        </If>
        <UseItem ItemId="2002548" NpcId="2010502" XYZ="-190.4479, 3.036438, 2.578735" QuestId="68865" StepId="8"/>
      </If>
      <If Condition="GetQuestStep(68865) == 255">
        <GetTo ZoneId="817" XYZ="-236.5672, 19.16964, -69.52751"/>
        <TurnIn ItemId="2002549" QuestId="68865" NpcId="1029216" XYZ="-235.0958, 19.22425, -70.72565"/>
      </If>
    </If>
    <!-- A Beeautiful Plan (Level 74) -->
    <If Condition="IsQuestCompleted(68865) and not HasQuest(68866) and not IsQuestCompleted(68866)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-236.5672, 19.16965, -69.52751"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68866)">
        <PickupQuest QuestId="68866" NpcId="1029216"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68866) &gt; 0">
      <If Condition="GetQuestStep(68866) == 1">
        <GetTo ZoneId="817" XYZ="-701.8486, 14.32141, -46.21003"/>
        <TalkTo NpcId="1029218" XYZ="-704.4327, 14.65663, -45.5177" QuestId="68866" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68866) == 2">
        <GetTo ZoneId="817" XYZ="-765.4466, 36.49958, -330.3241"/>
        <TalkTo NpcId="1029764" XYZ="-763.7903, 36.49958, -332.2957" QuestId="68866" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68866) == 3">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-801.7847, 40.03511, -391.6189"/>
        </If>
        <TalkTo NpcId="1029220" XYZ="-801.4496, 40.02121, -393.6065" QuestId="68866" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68866) == 4">
        <GetTo ZoneId="817" XYZ="-818.3071, 38.56141, -358.0817"/>
        <UserDialog QuestId="68866" StepId="4" IsBotContinueAllowed="True" DialogText="Please manually complete the zoomie-zoom." />
      </If>
      <If Condition="GetQuestStep(68866) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-524.2527, 2.848195, -36.70269"/>
        </If>
        <TurnIn QuestId="68866" NpcId="1029221" XYZ="-523.0945, 2.95893, -35.62988"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- An Unwanted Proposal (Level 74) -->
    <If Condition="IsQuestCompleted(68866) and not HasQuest(68867) and not IsQuestCompleted(68867)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-524.2527, 2.848195, -36.70269"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68867)">
        <PickupQuest QuestId="68867" NpcId="1029221"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68867) &gt; 0">
      <If Condition="GetQuestStep(68867) == 1">
        <GetTo ZoneId="817" XYZ="-89.57124, -19.08071, 296.4792"/>
        <TalkTo NpcId="1029197" XYZ="-87.87671, -19.02213, 298.207" QuestId="68867" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68867) == 2">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-78.46378, -19.17026, 311.6172"/>
        </If>
        <UseObject NpcId="2009878" XYZ="-78.90448, -19.27222, 312.4895" QuestId="68867" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68867) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-38.77283, -18.90045, 334.3017"/>
        </If>
        <TurnIn QuestId="68867" NpcId="1029195" XYZ="-35.75189, -18.91939, 335.7137"/>
      </If>
    </If>

    <!-- The Great Deceiver -->
    <If Condition="IsQuestCompleted(68867) and not HasQuest(69192) and not IsQuestCompleted(69192)">
      <GetTo ZoneId="817" XYZ="-83.88918, -19.01869, 304.3128"/>
      <If Condition="IsQuestAcceptQualified(69192)">
        <LLPickupQuest QuestId="69192" NpcId="1030747" XYZ="-81.28485, -19.06188, 307.2098"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69192) and not IsQuestCompleted(69192) and GetQuestStep(69192) == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-30.05586, -24.64596, 318.0247"/>
      </If>
      <LLTalkTo NpcId="1030818" XYZ="-28.64117, -24.63142, 318.9899" QuestId="69192" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69192) and not IsQuestCompleted(69192) and GetQuestStep(69192) == 2">
      <GetTo ZoneId="817" XYZ="-352.3276, 7.205114, 268.3033"/>
      <UseObject NpcId="2010348" XYZ="-354.5739, 7.339539, 266.6514" QuestId="69192" StepId="2"/>
    </If>
    <If Condition="HasQuest(69192) and not IsQuestCompleted(69192) and GetQuestStep(69192) == 255">
      <GetTo ZoneId="817" XYZ="-521.203, 0.3112338, 229.0744"/>
      <LLTurnIn QuestId="69192" NpcId="1030821" XYZ="-524.4679, 0.08425587, 227.0084"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- Put to the Proof (Level 74) -->
    <If Condition="IsQuestCompleted(68867) and not HasQuest(68868) and not IsQuestCompleted(68868)">
      <GetTo ZoneId="817" XYZ="-38.77283, -18.90045, 334.3017"/>
      <If Condition="IsQuestAcceptQualified(68868)">
        <PickupQuest QuestId="68868" NpcId="1029195"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68868) &gt; 0">
      <If Condition="GetQuestStep(68868) == 1">
        <GetTo ZoneId="817" XYZ="-468.6848, 2.675845, 301.245"/>
        <TalkTo NpcId="1029223" XYZ="-470.9697, 2.3035, 301.4724" QuestId="68868" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68868) == 2">
        <GetTo ZoneId="817" XYZ="-589.2023, -0.5999999, 275.3768"/>
        <RunCode Name="688682"/>
        <LLTalkTo NpcId="2009879" XYZ="-591.9738, -90.56238, 291.6151" QuestId="68868" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68868) == 3">
        <If Condition="not MovementManager.IsDiving">
          <GetTo ZoneId="817" XYZ="-589.2023, -0.5999999, 275.3768"/>
          <RunCode Name="688682"/>
        </If>
        <RunCode Name="688683"/>
        <LLTalkTo NpcId="2009880" XYZ="-670.2526, -90.68439, 449.9427" QuestId="68868" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68868) == 4">
        <If Condition="not MovementManager.IsDiving">
          <GetTo ZoneId="817" XYZ="-589.2023, -0.5999999, 275.3768"/>
          <RunCode Name="688682"/>
          <RunCode Name="688683"/>
        </If>
        <RunCode Name="688684"/>
        <LLTalkTo NpcId="2009882" XYZ="-880.1556, -90.68439, 289.9977" QuestId="68868" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68868) == 5">
        <If Condition="not MovementManager.IsDiving">
          <GetTo ZoneId="817" XYZ="-589.2023, -0.5999999, 275.3768"/>
          <RunCode Name="688682"/>
          <RunCode Name="688683"/>
          <RunCode Name="688684"/>
        </If>
        <RunCode Name="688685"/>
        <LLTalkTo NpcId="2009884" XYZ="-593.164, -95.23157, 256.0005" QuestId="68868" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68868) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="-472.1012, 2.099238, 301.9255"/>
        </If>
        <If Condition="MovementManager.IsDiving">
          <RunCode Name="68868255"/>
        </If>
        <TurnIn ItemId="2002550" QuestId="68868" NpcId="1029223" XYZ="-470.9697, 2.3035, 301.4724"/>
      </If>
    </If>
    <!-- Into the Wood (Level 75) -->
    <If Condition="IsQuestCompleted(68868) and not HasQuest(68869) and not IsQuestCompleted(68869)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-472.7278, 2.050346, 301.6569"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68869)">
        <PickupQuest QuestId="68869" NpcId="1029223"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68869) &gt; 0">
      <If Condition="GetQuestStep(68869) == 1">
        <GetTo ZoneId="817" XYZ="-9.85315, 0.7475371, 205.32"/>
        <TalkTo NpcId="1029224" XYZ="-7.492188, 0.7475371, 205.4016" QuestId="68869" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68869) == 2">
        <GetTo ZoneId="817" XYZ="286.555, -0.1910915, 223.237"/>
        <UseObject NpcId="2009886" XYZ="288.197, -0.1068726, 221.6677" QuestId="68869" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68869) == 255">
        <GetTo ZoneId="817" XYZ="456.0369, 18.97871, -55.67069"/>
        <TurnIn QuestId="68869" NpcId="1029228" XYZ="454.8867, 18.97871, -57.14508"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- Top of the Tree (Level 75) -->
    <If Condition="IsQuestCompleted(68869) and not HasQuest(68870) and not IsQuestCompleted(68870)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="456.0369, 18.97871, -55.67069"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68870)">
        <PickupQuest QuestId="68870" NpcId="1030374"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68870) &gt; 0">
      <If Condition="GetQuestStep(68870) == 1">
        <GetTo ZoneId="817" XYZ="451.2815, 33.66181, -156.8034"/>
        <TalkTo NpcId="1029231" XYZ="453.0555, 33.66181, -156.9696" QuestId="68870" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68870) == 2">
        <If Condition="GetQuestById(68870).GetTodoArgs(2, 0).Item1 == 0">
          <If Condition="not IsOnMap(817)">
            <GetTo ZoneId="817" XYZ="428.6209, 33.83217, -113.3862"/>
          </If>
          <TalkTo NpcId="1027711" XYZ="429.8618, 34.05174, -114.8547" QuestId="68870"/>
        </If>
        <If Condition="GetQuestById(68870).GetTodoArgs(2, 0).Item1 == 1">
          <If Condition="not IsOnMap(817)">
            <GetTo ZoneId="817" XYZ="452.6311, 6.955061, -194.3491"/>
          </If>
          <TalkTo NpcId="1027712" XYZ="454.1847, 6.955061, -193.0724" QuestId="68870"/>
        </If>
        <If Condition="GetQuestById(68870).GetTodoArgs(2, 0).Item1 == 2">
          <If Condition="not IsOnMap(817)">
            <GetTo ZoneId="817" XYZ="336.7299, 7.960763, -143.0307"/>
          </If>
          <TalkTo NpcId="1027717" XYZ="334.1877, 7.960763, -141.4664" QuestId="68870"/>
        </If>
        <If Condition="GetQuestById(68870).GetTodoArgs(2, 0).Item1 == 3">
          <If Condition="not IsOnMap(817)">
            <GetTo ZoneId="817" XYZ="305.2731, 34.24282, -147.8935"/>
          </If>
          <TalkTo NpcId="1027719" XYZ="303.5172, 34.24282, -146.6545" QuestId="68870"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68870) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="451.3877, 33.66181, -157.8517"/>
        </If>
        <TurnIn ItemId="2002551" QuestId="68870" NpcId="1029231" XYZ="453.0555, 33.66181, -156.9696"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>

    <!-- Suit Up -->
    <If Condition="IsQuestCompleted(68870) and not HasQuest(69003) and not IsQuestCompleted(69003)">
      <GetTo ZoneId="817" XYZ="394.206, 20.42252, -180.891"/>
      <If Condition="IsQuestAcceptQualified(69003)">
        <LLPickupQuest QuestId="69003" NpcId="1027736" XYZ="396.3835, 20.42252, -179.1257"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69003) and not IsQuestCompleted(69003) and GetQuestStep(69003) == 1 and GetQuestById(69003).GetTodoArgs(1, 0).Item1 == 0">
      <GetTo ZoneId="817" XYZ="557.1024, 27.28193, 150.9372"/>
      <LLHandOver ItemId="2002887" NpcId="1031381" XYZ="558.6479, 27.37839, 152.4224" QuestId="69003"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69003) and not IsQuestCompleted(69003) and GetQuestStep(69003) == 1 and GetQuestById(69003).GetTodoArgs(1, 0).Item1 == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="567.158, 27.28872, 142.9543"/>
      </If>
      <LLHandOver ItemId="2002887" NpcId="1031383" XYZ="569.5125, 27.33106, 143.6942" QuestId="69003"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69003) and not IsQuestCompleted(69003) and GetQuestStep(69003) == 1 and GetQuestById(69003).GetTodoArgs(1, 0).Item1 == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="574.5402, 27.84469, 160.2848"/>
      </If>
      <LLHandOver ItemId="2002887" NpcId="1031382" XYZ="575.1887, 27.87211, 161.3945" QuestId="69003"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69003) and not IsQuestCompleted(69003) and GetQuestStep(69003) == 255">
      <GetTo ZoneId="817" XYZ="394.6198, 20.42252, -181.0416"/>
      <LLTurnIn QuestId="69003" NpcId="1027736" XYZ="396.3835, 20.42252, -179.1257"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- Look to the Stars (Level 75) -->
    <If Condition="IsQuestCompleted(68870) and not HasQuest(68871) and not IsQuestCompleted(68871)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="451.3877, 33.66181, -157.8517"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68871)">
        <PickupQuest QuestId="68871" NpcId="1029231"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68871) &gt; 0">
      <If Condition="GetQuestStep(68871) == 1">
        <GetTo ZoneId="817" XYZ="207.2146, -5.82502, -351.2257"/>
        <TalkTo NpcId="1029238" XYZ="206.5613, -6.300962, -352.4682" QuestId="68871" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68871) == 2">
        <GetTo ZoneId="817" XYZ="169.6709, -19.94671, -453.0002"/>
        <TalkTo NpcId="1030944" XYZ="169.604, -19.98162, -455.5276" QuestId="68871" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68871) == 3">
        <If Condition="GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 0">
          <If Condition="not IsOnMap(817)">
            <GetTo ZoneId="817" XYZ="148.5226, -19.26303, -427.2848"/>
          </If>
          <MoveTo XYZ="148.5226, -19.26303, -427.2848" Distance="1"/>
          <RunCode Name="68871"/>
          <UseItem ItemId="2002552" NpcId="2009887" XYZ="124.3762, 10.87964, -429.4346" Condition="GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 0"/>
          <MoveTo XYZ="149.5139, -19.26999, -427.4168" Distance="1" UseMesh="False"/>
        </If>
        <If Condition="GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 1">
          <If Condition="not IsOnMap(817)">
            <GetTo ZoneId="817" XYZ="193.5523, -19.16317, -427.3897"/>
          </If>
          <MoveTo XYZ="193.5523, -19.16317, -427.3897" Distance="1"/>
          <RunCode Name="68871"/>
          <UseItem ItemId="2002552" NpcId="2009890" XYZ="218.4634, 10.5744, -425.2537" Condition="GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 1"/>
          <MoveTo XYZ="193.6682, -19.1361, -427.0147" Distance="1" UseMesh="False"/>
        </If>
        <If Condition="GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 2">
          <If Condition="not IsOnMap(817)">
            <GetTo ZoneId="817" XYZ="195.6621, -19.64349, -516.6057"/>
          </If>
          <MoveTo XYZ="195.6621, -19.64349, -516.6057" Distance="1"/>
          <RunCode Name="68871"/>
          <UseItem ItemId="2002552" NpcId="2009889" XYZ="218.9211, 8.957031, -514.4579" Condition="GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 2"/>
          <MoveTo XYZ="194.5647, -19.67619, -516.3932" Distance="1" UseMesh="False"/>
        </If>
        <If Condition="GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 3">
          <If Condition="not IsOnMap(817)">
            <GetTo ZoneId="817" XYZ="144.2598, -20, -508.2463"/>
          </If>
          <MoveTo XYZ="144.2598, -20, -508.2463" Distance="1"/>
          <RunCode Name="68871"/>
          <UseItem ItemId="2002552" NpcId="2009888" XYZ="119.9207, 10.69653, -510.5211" Condition="GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 3"/>
          <MoveTo XYZ="144.2598, -20, -508.2463" Distance="1" UseMesh="False"/>
        </If>
      </If>
      <If Condition="GetQuestStep(68871) == 4">
        <GetTo ZoneId="817" XYZ="175.7899, -19.6145, -533.0338"/>
        <HandOver ItemId="2002846" NpcId="1029241" XYZ="177.203, -19.54451, -533.5317" QuestId="68871" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68871) == 5">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
        </If>
        <SelectStringOverride Index="3"/>
        <LLTalkTo NpcId="1030946" XYZ="174.8342, -19.58986, -534.7708" QuestId="68871" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(68871) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
        </If>
        <TurnIn QuestId="68871" NpcId="1029240" XYZ="173.2356, -19.58539, -536.8276"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- Mi Casa, Toupasa (Level 75) -->
    <If Condition="IsQuestCompleted(68871) and not HasQuest(68872) and not IsQuestCompleted(68872)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68872)">
        <PickupQuest QuestId="68872" NpcId="1029240"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68872) &gt; 0">
      <If Condition="GetQuestStep(68872) == 1">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
        </If>
        <!-- Bad Mesh -->
        <RunCode Name="688721"/>
        <!--<GetTo ZoneId="817" XYZ="121.0243, -8.781985, -891.2568"/>-->
        <TalkTo NpcId="1029242" XYZ="122.6978, -8.781985, -891.4168" QuestId="68872" StepId="1"/>
      </If>
      <RunCode Name="ToggleSideStep"/>
      <If Condition="GetQuestStep(68872) == 2">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
          <!-- Bad Mesh -->
          <RunCode Name="688721"/>
        </If>
        <!--<GetTo ZoneId="817" XYZ="217.7762, 11.20001, -711.9302"/>-->
        <RunCode Name="688722"/>
        <UseObject NpcId="2010218" XYZ="220.1724, 12.4361, -711.9707" QuestId="68872" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68872) == 3">
        <If Condition="not Core.Me.HasAura(404)">
          <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
          <!-- Bad Mesh -->
          <RunCode Name="688721"/>
          <RunCode Name="688722"/>
          <!--<GetTo ZoneId="817" XYZ="217.7762, 11.20001, -711.9302"/>-->
          <UseObject NpcId="2010218" XYZ="220.1724, 12.4361, -711.9707" Condition="not Core.Me.HasAura(404)"/>
        </If>
        <RunCode Name="688723"/>
        <UseObject NpcId="2010217" XYZ="115.4344, -7.400635, -895.4757" QuestId="68872" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68872) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
          <!-- Bad Mesh -->
          <RunCode Name="688721"/>
          <!--<GetTo ZoneId="817" XYZ="120.0231, -8.781985, -891.4398"/>-->
        </If>
        <TurnIn QuestId="68872" NpcId="1029242" XYZ="122.6978, -8.781985, -891.4168"/>
        <LLDiscardItem ItemId="27869"/>
      </If>
    </If>
    <!-- Legend of the Not-so-hidden Temple (Level 75)  -->
    <If Condition="IsQuestCompleted(68872) and not HasQuest(68873) and not IsQuestCompleted(68873)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
        <!-- Bad Mesh -->
        <RunCode Name="688721"/>
        <!--<GetTo ZoneId="817" XYZ="120.0231, -8.781985, -891.4398"/>-->
      </If>
      <If Condition="IsQuestAcceptQualified(68873)">
        <PickupQuest QuestId="68873" NpcId="1029242"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68873) &gt; 0">
      <If Condition="GetQuestStep(68873) == 1">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
          <!-- Bad Mesh -->
          <RunCode Name="688721"/>
          <!--<GetTo ZoneId="817" XYZ="120.0231, -8.781985, -891.4398"/>-->
        </If>
        <RunCode Name="Enable_SideStep"/>
        <If Condition="not DutyManager.InInstance">
          <GetTo ZoneId="817" XYZ="119.5406, -8.781985, -890.7127"/>
          <RunCode Name="DutyCommence"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(14.10143, 1.331474, 84.74783)) &lt; 15">
          <RunCode Name="68873_Move_1"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(14.28022, 0.0792532, 39.68767)) &lt; 15">
          <RunCode Name="68873_Move_2"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(-14.47001, 0.6967973, -17.82236)) &lt; 15">
          <RunCode Name="68873_Move_3"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(8.014305, 1.123665, -83.41588)) &lt; 15">
          <RunCode Name="68873_Move_4"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(12.22497, 5.928957, -213.1264)) &lt; 15">
          <RunCode Name="68873_Move_5"/>
        </If>
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(158.8843, 12.67619, -174.5024)) &lt; 15">
          <RunCode Name="68873_Move_6"/>
          <RunCode Name="68873_Move_7"/>
        </If>
        <If Condition="NumAttackableEnemies(50, Array[int]([8347,8373])) &gt; 0">
          <Grind grindRef="68873_Fight" while="NumAttackableEnemies(50, Array[int]([8347,8373])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
          <RunCode Name="68873_Grab_Heart"/>
        </If>
        <RunCode Name="Handle_Cutscene_Talking"/>
      </If>
      <If Condition="GetQuestStep(68873) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="169.8996, -19.72804, -536.5112"/>
        </If>
        <TurnIn QuestId="68873" NpcId="1029244" XYZ="171.1909, -19.76173, -534.0505"/>
      </If>
    </If>
    <!-- The Aftermath (Level 75) -->
    <If Condition="IsQuestCompleted(68873) and not HasQuest(68874) and not IsQuestCompleted(68874)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="169.8996, -19.72804, -536.5112"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68874)">
        <PickupQuest QuestId="68874" NpcId="1029247"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68874) &gt; 0">
      <If Condition="GetQuestStep(68874) == 1">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="450.8891, 6.955061, -205.045"/>
        </If>
        <TalkTo NpcId="1029249" XYZ="449.8817, 6.955061, -208.7587" QuestId="68874" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68874) == 2">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="450.8891, 6.955061, -205.045"/>
        </If>
        <UseItem ItemId="2002553" NpcId="1029250" XYZ="448.2948, 7.479243, -208.1484" QuestId="68874" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68874) == 3">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="450.3094, 6.955061, -206.3256"/>
        </If>
        <UseObject NpcId="1029250" XYZ="448.2948, 7.479243, -208.1484" QuestId="68874" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68874) == 4">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="450.3094, 6.955061, -206.3256"/>
        </If>
        <UseObject NpcId="1029250" XYZ="448.2948, 7.479243, -208.1484" QuestId="68874" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68874) == 255">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="450.3094, 6.955061, -206.3256"/>
        </If>
        <TurnIn QuestId="68874" NpcId="1029249" XYZ="449.8817, 6.955061, -208.7587" RewardSlot="3"/>
      </If>
    </If>
    <!-- In Good Faith (Level 75) -->
    <If Condition="IsQuestCompleted(68874) and not HasQuest(68875) and not IsQuestCompleted(68875)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="450.3094, 6.955061, -206.3256"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68875)">
        <PickupQuest QuestId="68875" NpcId="1029249"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68875) &gt; 0">
      <If Condition="GetQuestStep(68875) == 1">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="450.3094, 6.955061, -206.3256"/>
        </If>
        <TalkTo NpcId="1029251" XYZ="450.0037, 6.955061, -202.3804" QuestId="68875" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68875) == 2">
        <GetTo ZoneId="817" XYZ="579.7407, 18.75851, -44.72193"/>
        <RunCode Name="68875"/>
        <WaitWhile Condition="not GetQuestStep(68875) == 3"/>
      </If>
      <If Condition="GetQuestStep(68875) == 3">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="579.7407, 18.75851, -44.72193"/>
        </If>
        <UseObject NpcId="2009892" XYZ="580.9263, 18.75323, -43.01526" QuestId="68875" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68875) == 4">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="582.9424, 18.38379, -58.98642"/>
        </If>
        <LLTalkTo NpcId="1029554" XYZ="585.7174, 18.38616, -59.18976" QuestId="68875" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(68875) == 255">
        <GetTo ZoneId="817" XYZ="451.6051, 6.955061, -203.6617"/>
        <TurnIn QuestId="68875" NpcId="1029555" XYZ="453.2692, 6.955061, -204.3947"/>
      </If>
    </If>

    <!-- Stand on Ceremony -->
    <If Condition="IsQuestCompleted(68875) and not HasQuest(69014) and not IsQuestCompleted(69014)">
      <GetTo ZoneId="817" XYZ="493.2754, -6.555339, -227.5039"/>
      <If Condition="IsQuestAcceptQualified(69014)">
        <LLPickupQuest QuestId="69014" NpcId="1027716" XYZ="494.9873, -6.555339, -224.9333"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69014) and not IsQuestCompleted(69014) and GetQuestStep(69014) == 1">
      <GetTo ZoneId="817" XYZ="167.9489, -20, -468.2461"/>
      <LLTalkTo NpcId="1031001" XYZ="167.7118, -20, -471.0002" QuestId="69014" Step="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69014) and not IsQuestCompleted(69014) and GetQuestStep(69014) == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="167.9489, -20, -468.2461"/>
      </If>
      <MoveTo XYZ="167.8365, -20, -483.4485" Distance="1"/>
      <WaitWhile Condition="HasQuest(69014) and not IsQuestCompleted(69014) and not GetQuestStep(69014) == 3"/>
    </If>
    <If Condition="HasQuest(69014) and not IsQuestCompleted(69014) and GetQuestStep(69014) == 3">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="167.9558, -20, -475.9467"/>
      </If>
      <LLTalkTo NpcId="1031001" XYZ="167.7118, -20, -471.0002" QuestId="69014" StepId="3"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69014) and not IsQuestCompleted(69014) and GetQuestStep(69014) == 255">
      <GetTo ZoneId="817" XYZ="493.7979, -6.555339, -227.7605"/>
      <LLTurnIn QuestId="69014" NpcId="1027716" XYZ="494.9873, -6.555339, -224.9333"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- The Burden of Knowledge (Level 75) -->
    <If Condition="IsQuestCompleted(68875) and not HasQuest(68876) and not IsQuestCompleted(68876)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="451.6051, 6.955061, -203.6617"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68876)">
        <PickupQuest QuestId="68876" NpcId="1029255"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68876) &gt; 0">
      <If Condition="GetQuestStep(68876) == 1">
        <GetTo ZoneId="817" XYZ="852.7293, -65.42493, -393.7355"/>
        <UseObject NpcId="2009893" XYZ="854.3984, -63.85907, -394.4305" QuestId="68876" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68876) == 2">
        <If Condition="not IsOnMap(817)">
          <GetTo ZoneId="817" XYZ="852.7293, -65.42493, -393.7355"/>
        </If>
        <LLoadProfile Path="Dungeons/Shadowbringers/75 The Qitana Ravel.xml"/>
      </If>
      <If Condition="GetQuestStep(68876) == 3">
        <WaitWhile condition="GetQuestStep(68876) == 3"/>
      </If>
      <If Condition="GetQuestStep(68876) == 255">
        <If Condition="not IsOnMap(617)">
          <GetTo ZoneId="817" XYZ="849.2484, -65.42493, -391.7697"/>
        </If>
        <TurnIn QuestId="68876" NpcId="1029557" XYZ="848.7831, -65.42493, -394.6746"/>
      </If>
    </If>

    <If Condition="IsQuestCompleted(68876)">
      <If Condition="not IsAetherCurrentCompleted(817, 8)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="817" XYZ="-405.955, 7.1691, 506.544" />
        <UseObject NpcId="2010064" XYZ="-405.955, 7.1691, 506.544" Condition="not IsAetherCurrentCompleted(817, 8)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(817, 7)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="817" XYZ="-141.571, -0.88243, 49.7631" />
        <UseObject NpcId="2010066" XYZ="-141.571, -0.88243, 49.7631" Condition="not IsAetherCurrentCompleted(817, 7)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(817, 6)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="817" XYZ="338.635, 24.1467, 203.184" />
        <UseObject NpcId="2010069" XYZ="338.635, 24.1467, 203.184" Condition="not IsAetherCurrentCompleted(817, 6)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(817, 5)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="817" XYZ="681.139, -39.1963, -262.754" />
        <UseObject NpcId="2010073" XYZ="681.139, -39.1963, -262.754" Condition="not IsAetherCurrentCompleted(817, 5)" />
      </If>
    </If>

    <!-- Bearing With It (Level 75) -->
    <If Condition="IsQuestCompleted(68876) and not HasQuest(68877) and not IsQuestCompleted(68877)">
      <GetTo ZoneId="817" XYZ="849.2484, -65.42493, -391.7697"/>
      <If Condition="IsQuestAcceptQualified(68877)">
        <PickupQuest QuestId="68877" NpcId="1029557"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68877) &gt; 0">
      <If Condition="GetQuestStep(68877) == 1">
        <GetTo ZoneId="817" XYZ="451.7372, 33.66181, -157.6828"/>
        <TalkTo NpcId="1029231" XYZ="453.0555, 33.66181, -156.9696" QuestId="68877" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68877) == 255">
        <GetTo ZoneId="817" XYZ="-89.28886, -19.07656, 297.5061"/>
        <TurnIn QuestId="68877" NpcId="1029197" XYZ="-87.87671, -19.02213, 298.207"/>
      </If>
    </If>
    <!-- Out of the Wood (Level 76) -->
    <If Condition="IsQuestCompleted(68877) and not HasQuest(68878) and not IsQuestCompleted(68878)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-90.31696, -19.09831, 295.4149"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68878)">
        <PickupQuest QuestId="68878" NpcId="1029011"/>
      </If>
    </If>
    <If Condition="GetQuestStep(68878) &gt; 0">
      <If Condition="GetQuestStep(68878) == 1">
        <If Condition="not IsOnMap(617)">
          <GetTo ZoneId="817" XYZ="-38.43863, -18.90045, 334.9906"/>
        </If>
        <TalkTo NpcId="1029194" XYZ="-37.2168, -18.92046, 336.6292" QuestId="68878" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(68878) == 2">
        <If Condition="not IsOnMap(617)">
          <GetTo ZoneId="817" XYZ="-258.5579, -2.444983, 332.8816"/>
        </If>
        <UseObject NpcId="2009894" XYZ="-259.5103, -2.395752, 332.8145" QuestId="68878" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(68878) == 3">
        <GetTo ZoneId="819" XYZ="27.58623, 0, 1.84133"/>
        <TalkTo NpcId="1029558" XYZ="28.73267, 0, 1.87677" QuestId="68878" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(68878) == 255">
        <GetTo ZoneId="819" XYZ="63.16325, 1.716012, 247.3455"/>
        <LLTurnIn QuestId="68878" NpcId="1030610" XYZ="65.11023, 1.716012, 249.7749" RewardSlot="4"/>
      </If>
    </If>
    <!-- When It Rains (Level 76) -->
    <If Condition="IsQuestCompleted(68878) and not HasQuest(69142) and not IsQuestCompleted(69142)">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="62.80261, 1.716012, 251.9886"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69142)">
        <PickupQuest QuestId="69142" NpcId="1027231"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69142) &gt; 0">
      <If Condition="GetQuestStep(69142) == 1">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="25.82332, 0, 74.71614"/>
        </If>
        <UseObject NpcId="2009895" XYZ="26.04712, -0.01531982, 73.92993" QuestId="69142" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69142) == 2">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="-223.4699, 20.13131, -57.55558"/>
        </If>
        <UseObject NpcId="2009896" XYZ="-224.445, 21.37787, -58.06067" QuestId="69142" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69142) == 3">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="-223.41, 20.13131, 57.77267"/>
        </If>
        <UseObject NpcId="2009897" XYZ="-224.4755, 21.22528, 58.03003" QuestId="69142" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69142) == 4">
        <RunCode Name="Enable_SideStep"/>
        <If Condition="not DutyManager.InInstance">
          <GetTo ZoneId="819" XYZ="-105.6068, 20, 13.17086"/>
          <RunCode Name="DutyCommence"/>
        </If>
        <MoveTo XYZ="235.2166, 10.74193, 110.6053"/>
        <If Condition="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0">
          <Grind grindRef="69142_Fight_1" while="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        </If>
        <MoveTo XYZ="159.5509, 8.058731, 102.3267"/>
        <While Condition="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0">
          <Grind grindRef="69142_Fight_2" while="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
          <WaitTimer WaitTime="3"/>
        </While>
        <MoveTo XYZ="63.71878, 4.020514, -31.37898"/>
        <While Condition="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0">
          <Grind grindRef="69142_Fight_3" while="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
          <WaitTimer WaitTime="3"/>
        </While>
        <MoveTo XYZ="7.886411, 5.825142, -61.44268"/>
        <If Condition="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0">
          <Grind grindRef="69142_Fight_4" while="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        </If>
        <MoveTo XYZ="-190.0944, 5.761391, -110.5918"/>
        <If Condition="NumAttackableEnemies(80, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0">
          <Grind grindRef="69142_Fight_5" while="NumAttackableEnemies(80, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        </If>
        <MoveTo XYZ="-154.8175, 5.779212, -89.62446"/>
        <If Condition="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0">
          <Grind grindRef="69142_Fight_6" while="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        </If>
        <MoveTo XYZ="-223.7483, 2.946483, -126.5132"/>
        <MoveTo XYZ="-337.2843, 2.978339, -117.2031"/>
        <WaitTimer WaitTime="3"/>
        <MoveTo XYZ="-389.9886, 4.214468, -125.5163"/>
        <If Condition="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0">
          <Grind grindRef="69142_Fight_7" while="NumAttackableEnemies(40, Array[int]([8302,8303,8304,8308,8310,8264,8388])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        </If>
        <MoveTo XYZ="-490.4012, 11.55268, -230.2767"/>
        <RunCode Name="69142_Move_1"/>
        <RunCode Name="Handle_Cutscene_Talking"/>
        <Grind grindRef="69142_Fight_8" while="not QuestLogManager.InCutscene"/>
        <RunCode Name="Handle_Cutscene_Talking"/>
      </If>
      <If Condition="GetQuestStep(69142) == 255">
        <If Condition="not IsOnMap(813)">
          <GetTo ZoneId="813" XYZ="-705.9352, 51.50115, -242.0136"/>
        </If>
        <TurnIn QuestId="69142" NpcId="1029601" XYZ="-707.5456, 51.50115, -241.5656"/>
      </If>
    </If>
    <!-- Word from On High (Level 76) -->
    <If Condition="IsQuestCompleted(69142) and not HasQuest(69143) and not IsQuestCompleted(69143)">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-705.9352, 51.50115, -242.0136"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69143)">
        <PickupQuest QuestId="69143" NpcId="1029601"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69143) &gt; 0">
      <If Condition="GetQuestStep(69143) == 1">
        <If Condition="GetQuestById(69143).GetTodoArgs(1, 0).Item1 == 0">
          <If Condition="not IsOnMap(813)">
            <GetTo ZoneId="813" XYZ="-690.3859, 52.7832, -299.1367"/>
          </If>
          <TalkTo NpcId="1030314" XYZ="-690.0587, 52.7832, -302.205" QuestId="69143"/>
        </If>
        <If Condition="GetQuestById(69143).GetTodoArgs(1, 0).Item1 == 1">
          <If Condition="not IsOnMap(813)">
            <GetTo ZoneId="813" XYZ="-690.3859, 52.7832, -299.1367"/>
          </If>
          <TalkTo NpcId="1030313" XYZ="-649.134, 53.2081, -178.0881" QuestId="69143"/>
        </If>
        <If Condition="GetQuestById(69143).GetTodoArgs(1, 0).Item1 == 2">
          <If Condition="not IsOnMap(813)">
            <GetTo ZoneId="813" XYZ="-690.3859, 52.7832, -299.1367"/>
          </If>
          <TalkTo NpcId="1030312" XYZ="-694.0261, 52.60457, -124.7425" QuestId="69143"/>
        </If>
      </If>
      <If Condition="GetQuestStep(69143) == 255">
        <GetTo ZoneId="813" XYZ="-732.9548, 52.60457, -146.6566"/>
        <TurnIn QuestId="69143" NpcId="1029606" XYZ="-734.5541, 52.60457, -147.1123"/>
      </If>
    </If>
    <!-- Small Favors (Level 76) -->
    <If Condition="IsQuestCompleted(69143) and not HasQuest(69144) and not IsQuestCompleted(69144)">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-727.5766, 52.60456, -149.2348"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69144)">
        <PickupQuest QuestId="69144" NpcId="1030587"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69144) &gt; 0">
      <If Condition="GetQuestStep(69144) == 1">
        <GetTo ZoneId="819" XYZ="-30.95235, -0.65, -44.39217"/>
        <TalkTo NpcId="1029607" XYZ="-32.79169, -0.6250627, -44.66321" QuestId="69144" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69144) == 2">
        <GetTo ZoneId="819" XYZ="-119.9236, -47.55994, -166.3823"/>
        <TalkTo NpcId="1029608" XYZ="-120.8362, -47.55994, -166.1556" QuestId="69144" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69144) == 3">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="-119.9236, -47.55994, -166.3823"/>
        </If>
        <RunCode Name="69144"/>
        <LLTalkTo NpcId="1029608" DialogOption="1" XYZ="-120.8362, -47.55994, -166.1556" QuestId="69144" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69144) == 4">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="-141.9851, -45.72086, -155.5366"/>
        </If>
        <UseObject NpcIds="2009899,2009900" XYZ="-141.9851, -45.72086, -155.5366" QuestId="69144" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69144) == 255">
        <GetTo ZoneId="819" XYZ="-28.61159, -0.65, -50.10339"/>
        <TurnIn ItemId="2002555" QuestId="69144" NpcId="1027248" XYZ="-30.80798, -0.6499991, -51.43823"/>
      </If>
    </If>
    <!-- The Best Way Out (Level 76) -->
    <If Condition="IsQuestCompleted(69144) and not HasQuest(69145) and not IsQuestCompleted(69145)">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-28.61159, -0.65, -50.10339"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69145)">
        <PickupQuest QuestId="69145" NpcId="1029853"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69145) &gt; 0">
      <If Condition="GetQuestStep(69145) == 1">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        <LLTalkTo NpcId="1028923" XYZ="-0.01531982, -7.450581E-09, -6.027344" QuestId="69145" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69145) == 2">
        <If Condition="not IsOnMap(844)">
          <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
          <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        </If>
        <TalkTo NpcId="1029597" XYZ="2.487183, -7.450581E-09, 1.51062" QuestId="69145" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69145) == 3">
        <If Condition="not IsOnMap(819)">
          <If Condition="IsOnMap(844)">
            <UseTransport InteractDistance="3.0" NpcId="2009758" XYZ="-0.01531982, 1.022339, 14.20605"/>
          </If>
          <GetTo ZoneId="819" XYZ="-176.9135, 0, -0.3326983"/>
        </If>
        <UseObject NpcId="2009903" XYZ="-177.5693, -0.01531982, -0.3815308" QuestId="69145" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69145) == 4">
        <GetTo ZoneId="813" XYZ="577.3132, 6.635094, 635.2165"/>
        <TalkTo NpcId="1029611" XYZ="576.9589, 6.697608, 636.7131" QuestId="69145" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69145) == 5">
        <GetTo ZoneId="813" XYZ="526.7331, -5.232692, 851.1409"/>
        <TalkTo NpcId="1028305" XYZ="525.658, -5.232692, 854.2457" QuestId="69145" StepId="5"/>
        <WaitWhile Condition="not GetQuestStep(69145) == 255"/>
      </If>
      <If Condition="GetQuestStep(69145) == 255">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-555.7542, 36.31599, -669.1152"/>
        </If>
        <TurnIn QuestId="69145" NpcId="1029614" XYZ="-554.1314, 35.8008, -669.7032"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- Free Trade (Level 76) -->
    <If Condition="IsQuestCompleted(69145) and not HasQuest(69146) and not IsQuestCompleted(69146)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-555.7542, 36.31599, -669.1152"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69146)">
        <PickupQuest QuestId="69146" NpcId="1029615"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69146) &gt; 0">
      <If Condition="GetQuestStep(69146) == 1">
        <GetTo ZoneId="815" XYZ="-404.8435, -20.25974, -589.8311"/>
        <TalkTo NpcId="1030438" XYZ="-403.6774, -20.21407, -589.9901" QuestId="69146" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69146) == 2">
        <If Condition="GetQuestById(69146).GetTodoArgs(2, 0).Item1 == 0">
          <If Condition="not IsOnMap(815)">
            <GetTo ZoneId="815" XYZ="-389.7589, -17.72485, -584.7122"/>
          </If>
          <TalkTo NpcId="1027918" XYZ="-389.7612, -17.72484, -586.1448" QuestId="69146"/>
        </If>
        <If Condition="GetQuestById(69146).GetTodoArgs(2, 0).Item1 == 1">
          <If Condition="not IsOnMap(815)">
            <GetTo ZoneId="815" XYZ="-405.1766, -17.85281, -550.7883"/>
          </If>
          <TalkTo NpcId="1027919" XYZ="-404.5015, -17.85281, -549.9504" QuestId="69146"/>
        </If>
        <If Condition="GetQuestById(69146).GetTodoArgs(2, 0).Item1 == 2">
          <If Condition="not IsOnMap(815)">
            <GetTo ZoneId="815" XYZ="-445.3577, -20.03782, -555.4911"/>
          </If>
          <TalkTo NpcId="1027917" XYZ="-448.3559, -20.01652, -554.6807" QuestId="69146"/>
        </If>
      </If>
      <If Condition="GetQuestStep(69146) == 255">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-422.5355, -20.14536, -578.1143"/>
        </If>
        <LLTurnIn ItemIds="2002556,2002557,2002558" QuestId="69146" NpcId="1029617" DialogOption="2" XYZ="-419.3942, -20.14579, -578.8815"/>
      </If>
    </If>
    <!-- The Trolley Problem (Level 76) -->
    <If Condition="IsQuestCompleted(69146) and not HasQuest(69147) and not IsQuestCompleted(69147)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-405.1667, -20.23014, -589.2198"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69147)">
        <PickupQuest QuestId="69147" NpcId="1030438"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69147) &gt; 0">
      <If Condition="GetQuestStep(69147) == 1">
        <GetTo ZoneId="815" XYZ="-462.6006, -1.252241, -373.8559"/>
        <TalkTo NpcId="1030947" XYZ="-461.9364, -1.218392, -372.0607" QuestId="69147" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69147) == 2">
        <GetTo ZoneId="815" XYZ="-3.106345, 45.61908, -582.3674"/>
        <TalkTo NpcId="1029620" XYZ="-2.090576, 45.61908, -583.4897" QuestId="69147" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69147) == 3">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-3.106345, 45.61908, -582.3674"/>
        </If>
        <If Condition="GetQuestById(69147).GetTodoArgs(3, 0).Item1 == 0">
          <UseObject NpcId="2009904" XYZ="-3.106345, 45.61908, -582.3674" QuestId="69147" StepId="3" Condition="GetQuestById(69147).GetTodoArgs(3, 0).Item1 == 0"/>
        </If>
        <If Condition="GetQuestById(69147).GetTodoArgs(3, 0).Item1 == 1">
          <UseObject NpcId="2009905" XYZ="-3.106345, 45.61908, -582.3674" QuestId="69147" StepId="3" Condition="GetQuestById(69147).GetTodoArgs(3, 0).Item1 == 1"/>
        </If>
        <If Condition="GetQuestById(69147).GetTodoArgs(3, 0).Item1 == 2">
          <UseObject NpcId="2009906" XYZ="-3.007016, 47.86063, -532.1017" QuestId="69147" StepId="3" Condition="GetQuestById(69147).GetTodoArgs(3, 0).Item1 == 2"/>
        </If>
      </If>
      <If Condition="GetQuestStep(69147) == 4">
        <If Condition="not IsAetherCurrentCompleted(815, 6)">
          <!-- TODO: Verify pathing works -->
          <GetTo ZoneId="815" XYZ="-336.2909, 45.48743, -242.0724" />
          <UseObject NpcId="2010050" XYZ="-343.801, 46.9847, -235.432" Condition="not IsAetherCurrentCompleted(815, 6)" />
        </If>
        <GetTo ZoneId="815" XYZ="81.10422, 45.65749, -638.9812"/>
        <TalkTo NpcId="1029622" XYZ="80.33875, 45.62259, -641.5351" QuestId="69147" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69147) == 5">
        <GetTo ZoneId="815" XYZ="-62.91722, 45.61908, -603.2533"/>
        <TalkTo NpcId="1029623" XYZ="-62.76044, 45.61908, -606.3783" QuestId="69147"/>
        <WaitWhile Condition="not GetQuestStep(69147) == 255"/>
      </If>
      <If Condition="GetQuestStep(69147) == 255">
        <GetTo ZoneId="815" XYZ="89.05998, 45.71687, -599.6733"/>
        <TurnIn QuestId="69147" NpcId="1029624" XYZ="90.19604, 45.72853, -598.9014"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- Rust and Ruin (Level 76) -->
    <If Condition="IsQuestCompleted(69147) and not HasQuest(69148) and not IsQuestCompleted(69148)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="89.05998, 45.71687, -599.6733"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69148)">
        <PickupQuest QuestId="69148" NpcId="1029629"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69148) &gt; 0">
      <If Condition="GetQuestStep(69148) == 1">
        <GetTo ZoneId="815" XYZ="-92.97266, 41.43798, -538.6989"/>
        <TalkTo NpcId="1029631" XYZ="-94.65173, 41.25798, -537.5906" QuestId="69148" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69148) == 2">
        <GetTo ZoneId="815" XYZ="-135.9536, 28.88254, -377.2365"/>
        <TalkTo NpcId="1029632" XYZ="-136.3699, 28.48048, -374.9905" QuestId="69148" StepId="2"/>
        <WaitWhile Condition="Core.Me.InCombat"/>
      </If>
      <If Condition="GetQuestStep(69148) == 3">
        <GetTo ZoneId="815" XYZ="-276.3764, 18.8688, -244.253"/>
        <WaitWhile Condition="not GetQuestStep(69148) == 4"/>
      </If>
      <If Condition="GetQuestStep(69148) == 4">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-276.3764, 18.8688, -244.253"/>
        </If>
        <TalkTo NpcId="1029633" XYZ="-278.0347, 19.06778, -249.1951" QuestId="69148" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69148) == 5">
        <GetTo ZoneId="815" XYZ="-477.8716, 44.9727, -214.0533"/>
        <TalkTo NpcId="1029634" XYZ="-479.7895, 45.16138, -213.6416" QuestId="69148" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(69148) == 6">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-479.2991, 47.7777, -191.1592"/>
        </If>
        <TalkTo NpcId="1029635" XYZ="-479.4537, 47.7777, -189.7765" QuestId="69148" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(69148) == 255">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-483.3396, 45.54626, -209.5282"/>
        </If>
        <TurnIn QuestId="69148" NpcId="1029637" XYZ="-483.238, 45.47338, -211.3222"/>
      </If>
    </If>

    <If Condition="IsQuestCompleted(69148)">
      <If Condition="not IsAetherCurrentCompleted(815, 6)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="815" XYZ="-343.801, 46.9847, -235.432" />
        <UseObject NpcId="2010050" XYZ="-343.801, 46.9847, -235.432" Condition="not IsAetherCurrentCompleted(815, 6)" />
      </If>

    </If>

    <!-- On Track (Level 76) -->
    <If Condition="IsQuestCompleted(69148) and not HasQuest(69149) and not IsQuestCompleted(69149)">
      <GetTo ZoneId="815" XYZ="-483.1545, 45.54557, -209.5177"/>
      <If Condition="IsQuestAcceptQualified(69149)">
        <PickupQuest QuestId="69149" NpcId="1029637"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69149) &gt; 0">
      <If Condition="GetQuestStep(69149) == 1">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-544.5434, 45.43337, -230.0736"/>
        </If>
        <TalkTo NpcId="1029640" XYZ="-545.3116, 45.51285, -230.6402" QuestId="69149" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69149) == 2">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-410.8294, 46.1913, -245.9504"/>
        </If>
        <MoveTo XYZ="-410.8294, 46.1913, -245.9504" Distance="1"/>
        <SelectStringOverride Index="1"/>
        <RunCode Name="69149"/>
        <WaitWhile Condition="not GetQuestStep(69149) == 3"/>
      </If>
      <If Condition="GetQuestStep(69149) == 3">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-226.186, 46.19128, -246.424"/>
        </If>
        <MoveTo XYZ="-226.186, 46.19128, -246.424" Distance="1"/>
        <SelectStringOverride Index="2"/>
        <RunCode Name="69149"/>
        <WaitWhile Condition="not GetQuestStep(69149) == 4"/>
      </If>
      <If Condition="GetQuestStep(69149) == 4">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-226.186, 46.19128, -246.424"/>
        </If>
        <RunCode Name="ToggleSideStep"/>
        <UseObject NpcIds="2009910,2009911,2009912" QuestId="69149" StepId="4">
          <HotSpots>
            <HotSpot XYZ="-170.4891, 46.18909, -279.5605" Radius="10"/>
            <HotSpot XYZ="-181.5061, 46.18909, -362.6917" Radius="10"/>
            <HotSpot XYZ="-127.5807, 45.91431, -456.5958" Radius="10"/>
          </HotSpots>
        </UseObject>
        <RunCode Name="ToggleSideStep"/>
      </If>
      <If Condition="GetQuestStep(69149) == 5">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-226.2698, 46.19128, -246.2191"/>
        </If>
        <TalkTo NpcId="1029642" XYZ="-226.3066, 46.19127, -247.2114" QuestId="69149" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(69149) == 255">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-451.9255, 45.52073, -238.6015"/>
        </If>
        <TurnIn QuestId="69149" NpcId="1029643" XYZ="-453.605, 45.48443, -236.8658"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>

    <!-- Scavengers Assemble -->
    <If Condition="IsQuestCompleted(69149) and not HasQuest(69039) and not IsQuestCompleted(69039)">
      <GetTo ZoneId="815" XYZ="-424.1465, 31.49794, -225.1674"/>
      <If Condition="IsQuestAcceptQualified(69039)">
        <LLPickupQuest QuestId="69039" NpcId="1030979" XYZ="-424.6129, 31.90083, -226.6423"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69039) and not IsQuestCompleted(69039) and GetQuestStep(69039) == 1">
      <GetTo ZoneId="815" XYZ="-52.66523, -17.25763, 36.35574"/>
      <WaitWhile Condition="HasQuest(69039) and not IsQuestCompleted(69039) and not GetQuestStep(69039) == 2"/>
    </If>
    <If Condition="HasQuest(69039) and not IsQuestCompleted(69039) and GetQuestStep(69039) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-52.66523, -17.25763, 36.35574"/>
      </If>
      <UseObject NpcId="1030980" XYZ="-53.75763, -17.25763, 35.41614" QuestId="69039" StepId="2"/>
    </If>
    <If Condition="HasQuest(69039) and not IsQuestCompleted(69039) and GetQuestStep(69039) == 3">
      <GetTo ZoneId="815" XYZ="56.73333, -30.26674, 102.8251"/>
      <WaitWhile Condition="HasQuest(69039) and not IsQuestCompleted(69039) and not GetQuestStep(69039) == 4"/>
    </If>
    <If Condition="HasQuest(69039) and not IsQuestCompleted(69039) and GetQuestStep(69039) == 4">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="56.73333, -30.26674, 102.8251"/>
      </If>
      <UseObject NpcId="1030981" XYZ="56.44312, -30.17301, 101.7625" QuestId="69039" StepId="4"/>
    </If>
    <If Condition="HasQuest(69039) and not IsQuestCompleted(69039) and GetQuestStep(69039) == 255">
      <GetTo ZoneId="815" XYZ="15.38471, -47.52571, 168.71"/>
      <LLTurnIn QuestId="69039" NpcId="1030982" XYZ="13.96191, -47.88784, 169.7871"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>

    <!-- Down for Maintenance (Level 76) -->
    <If Condition="IsQuestCompleted(69149) and not HasQuest(69150) and not IsQuestCompleted(69150)">
      <GetTo ZoneId="815" XYZ="-451.9255, 45.52073, -238.6015"/>
      <If Condition="IsQuestAcceptQualified(69150)">
        <PickupQuest QuestId="69150" NpcId="1029643"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69150) &gt; 0">
      <If Condition="GetQuestStep(69150) == 1">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-501.5937, 45.70163, -257.1002"/>
        </If>
        <UseObject NpcId="1029645" XYZ="-503.1663, 45.71098, -258.32" QuestId="69150" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69150) == 2">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-403.9846, 24.92054, -206.6773"/>
        </If>
        <Grind GrindRef="69150" PostCombatDelay="3.0" While="not GetQuestStep(69150) == 255"/>
      </If>
      <If Condition="GetQuestStep(69150) == 255">
        <GetTo ZoneId="815" XYZ="-501.4053, 45.77505, -252.255"/>
        <TurnIn ItemId="2002560" QuestId="69150" NpcId="1029761" XYZ="-503.1968, 45.72556, -254.017"/>
      </If>
    </If>
    <!-- The Truth Hurts (Level 76) -->
    <If Condition="IsQuestCompleted(69150) and not HasQuest(69151) and not IsQuestCompleted(69151)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-501.4053, 45.77505, -252.255"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69151)">
        <PickupQuest QuestId="69151" NpcId="1030569"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69151) &gt; 0">
      <If Condition="GetQuestStep(69151) == 1">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-479.8596, 47.7777, -192.3584"/>
        </If>
        <TalkTo NpcId="1029639" XYZ="-478.6908, 47.7777, -191.3635" QuestId="69151" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69151) == 2">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-547.3218, 49.9646, -191.3449"/>
        </If>
        <TalkTo NpcId="1029649" XYZ="-549.5842, 49.9646, -189.0441" QuestId="69151" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69151) == 255">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-464.3316, 45.44201, -206.0586"/>
        </If>
        <TurnIn QuestId="69151" NpcId="1029755" XYZ="-462.5468, 45.36777, -205.3102"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>

    <!-- Charmless Man -->
    <If Condition="IsQuestCompleted(69151) and not HasQuest(69047) and not IsQuestCompleted(69047)">
      <GetTo ZoneId="815" XYZ="-478.894, 47.78905, -200.6438"/>
      <If Condition="IsQuestAcceptQualified(69047)">
        <LLPickupQuest QuestId="69047" NpcId="1027927" XYZ="-476.9512, 47.78906, -200.6104"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69047) and not IsQuestCompleted(69047) and GetQuestStep(69047) == 1">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-557.3815, 52.409, -188.8508"/>
      </If>
      <LLHandOver ItemId="2002733" NpcId="1030759" XYZ="-558.9227, 52.40899, -188.7999" QuestId="69047" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69047) and not IsQuestCompleted(69047) and GetQuestStep(69047) == 255">
      <GetTo ZoneId="815" XYZ="-336.9016, 19.2985, 77.47129"/>
      <LLTurnIn ItemId="2002733" QuestId="69047" NpcId="1030807" XYZ="-336.6903, 19.24816, 75.91357"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>

    <!-- A Convenient Distraction (Level 77) -->
    <If Condition="IsQuestCompleted(69151) and not HasQuest(69152) and not IsQuestCompleted(69152)">
      <GetTo ZoneId="815" XYZ="-464.1078, 45.44326, -205.9777"/>
      <If Condition="IsQuestAcceptQualified(69152)">
        <PickupQuest QuestId="69152" NpcId="1029755"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69152) &gt; 0">
      <If Condition="GetQuestStep(69152) == 1">
        <GetTo ZoneId="815" XYZ="-341.9569, 17.71486, 40.78313"/>
        <TalkTo NpcId="1029756" XYZ="-344.9608, 18.14789, 40.66516" QuestId="69152" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69152) == 2">
        <GetTo ZoneId="815" XYZ="-593.3912, 5.313056, 38.24243"/>
        <TalkTo NpcId="1029757" XYZ="-595.7275, 5.317616, 38.16284" QuestId="69152" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69152) == 3">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-593.3912, 5.313056, 38.24243"/>
        </If>
        <TalkTo NpcId="1029758" XYZ="-594.812, 5.311219, 41.45874" QuestId="69152" StepId="3"/>
        <WaitWhile Condition="not Core.Me.HasAura(1152)"/>
      </If>
      <If Condition="GetQuestStep(69152) == 4">
        <If Condition="not Core.Me.HasAura(1152)">
          <GetTo ZoneId="815" XYZ="-593.3912, 5.313056, 38.24243"/>
          <TalkTo NpcId="1029758" XYZ="-594.812, 5.311219, 41.45874"/>
        </If>
        <GetTo ZoneId="815" XYZ="-639.0535, -1.703672, 150.4293"/>
        <UseObject NpcId="2009913" XYZ="-641.4435, -1.419189, 147.2953" QuestId="69152" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69152) == 5">
        <GetTo ZoneId="815" XYZ="-593.0407, 5.309672, 42.66826"/>
        <LLHandOver ItemId="2002561" NpcId="1029758" XYZ="-594.812, 5.311219, 41.45874" QuestId="69152" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(69152) == 255">
        <GetTo ZoneId="815" XYZ="-593.0407, 5.309672, 42.66826"/>
        <TurnIn ItemId="2002561" QuestId="69152" NpcId="1029757" XYZ="-595.7275, 5.317616, 38.16284"/>
      </If>
    </If>
    <!-- A Dirty Job (Level 77) -->
    <If Condition="IsQuestCompleted(69152) and not HasQuest(69153) and not IsQuestCompleted(69153)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-593.0407, 5.309672, 42.66826"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69153)">
        <PickupQuest QuestId="69153" NpcId="1029757"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69153) &gt; 0">
      <If Condition="GetQuestStep(69153) == 1">
        <GetTo ZoneId="815" XYZ="-342.7695, 18.98414, 74.51338"/>
        <TalkTo NpcId="1029759" XYZ="-342.3362, 19.00405, 77.04285" QuestId="69153" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69153) == 2">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-323.117, 19.15084, 97.932"/>
        </If>
        <UseObject NpcId="2010009" XYZ="-321.3092, 20.00452, 99.83972" QuestId="69153" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69153) == 3">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-424.9985, 17.22812, 7.797758"/>
        </If>
        <UseItem ItemId="2002562" NpcIds="2009916,2009917,2009918" BlacklistAfter="True" WaitTime="3000" QuestId="69153" StepId="3">
          <HotSpots>
            <HotSpot XYZ="-453.0861, 11.70367, 185.5039" Radius="10"/>
            <HotSpot XYZ="-426.6575, 17.19684, 5.142273" Radius="10"/>
            <HotSpot XYZ="-610.4677, -0.656189, 135.9425" Radius="10"/>
          </HotSpots>
        </UseItem>
      </If>
      <If Condition="GetQuestStep(69153) == 4">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-419.2111, 11.97827, 181.4144"/>
        </If>
        <UseObject ItemId="2002562" NpcIds="2010274,2010275,2010276,2010277,2010279,2010281,2010283" QuestId="69153" StepId="4">
          <HotSpots>
            <HotSpot XYZ="-419.2111, 11.97827, 181.4144" Radius="10"/>
            <HotSpot XYZ="-503.0747, 10.66602, 191.8516" Radius="10"/>
            <HotSpot XYZ="-589.1356, 1.754761, 179.1866" Radius="10"/>
            <HotSpot XYZ="-627.039, 0.9307861, 131.4564" Radius="10"/>
            <HotSpot XYZ="-580.8958, 6.088318, 119.7985" Radius="10"/>
            <HotSpot XYZ="-492.8512, 10.5744, 9.445313" Radius="10"/>
            <HotSpot XYZ="-411.0628, 16.89172, 9.536865" Radius="10"/>
          </HotSpots>
        </UseObject>
      </If>
      <If Condition="GetQuestStep(69153) == 255">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-343.0269, 19.00613, 75.42869"/>
        </If>
        <TurnIn ItemId="2002563" QuestId="69153" NpcId="1029759" XYZ="-342.3362, 19.00405, 77.04285" RewardSlot="3"/>
      </If>
    </If>

    <!-- A Vein Pursuit -->
    <If Condition="IsQuestCompleted(69153) and not HasQuest(69061) and not IsQuestCompleted(69061)">
      <GetTo ZoneId="815" XYZ="-506.098, 45.61607, -197.2799"/>
      <If Condition="IsQuestAcceptQualified(69061)">
        <LLPickupQuest QuestId="69061" NpcId="1030419" XYZ="-506.6148, 45.6145, -194.5068"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69061) and not IsQuestCompleted(69061) and GetQuestStep(69061) == 1">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-465.1343, 45.51725, -269.3111"/>
      </If>
      <LLTalkTo NpcId="1030720" XYZ="-464.6525, 45.50817, -270.4662" QuestId="69061" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69061) and not IsQuestCompleted(69061) and GetQuestStep(69061) == 2">
      <GetTo ZoneId="815" XYZ="-478.3472, 10.44109, 192.0116"/>
      <WaitWhile Condition="HasQuest(69061) and not IsQuestCompleted(69061) and not GetQuestStep(69061) == 255"/>
    </If>
    <If Condition="HasQuest(69061) and not IsQuestCompleted(69061) and GetQuestStep(69061) == 255">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-478.3472, 10.44109, 192.0116"/>
      </If>
      <LLTurnIn QuestId="69061" NpcId="1030718" XYZ="-478.2025, 10.54953, 193.1334"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>

    <!-- Have a Heart (Level 77) -->
    <If Condition="IsQuestCompleted(69153) and not HasQuest(69154) and not IsQuestCompleted(69154)">
      <GetTo ZoneId="815" XYZ="-343.0269, 19.00613, 75.42869"/>
      <If Condition="IsQuestAcceptQualified(69154)">
        <PickupQuest QuestId="69154" NpcId="1029759"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69154) &gt; 0">
      <If Condition="GetQuestStep(69154) == 1">
        <GetTo ZoneId="815" XYZ="-543.1568, 49.96461, -173.8473"/>
        <TalkTo NpcId="1029754" XYZ="-543.6942, 49.9646, -172.4728" QuestId="69154" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69154) == 2">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-504.3503, 45.75237, -253.0897"/>
        </If>
        <HandOver ItemId="2002565" NpcId="1029761" XYZ="-503.1968, 45.72556, -254.017" QuestId="69154" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69154) == 255">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-486.3867, 45.55881, -210.9215"/>
        </If>
        <TurnIn QuestId="69154" NpcId="1029638" XYZ="-484.4893, 45.55326, -212.2988"/>
      </If>
    </If>
    <!-- Full Steam Ahead (Level 77) -->
    <If Condition="IsQuestCompleted(69154) and not HasQuest(69155) and not IsQuestCompleted(69155)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-456.3744, 45.63527, -239.5437"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69155)">
        <PickupQuest QuestId="69155" NpcId="1029765"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69155) &gt; 0">
      <If Condition="GetQuestStep(69155) == 1">
        <GetTo ZoneId="815" XYZ="7.517127, 45.61908, -583.0801"/>
        <TalkTo NpcId="1029768" XYZ="7.980469, 45.61908, -583.7339" QuestId="69155" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69155) == 2">
        <GetTo ZoneId="815" XYZ="3.931121, 45.61908, -590.1807"/>
        <UserDialog QuestId="69155" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete the solo duty Full Steam Ahead.\n\nThis is the Thancred vs. Ran'jit fight.\n\nYes, it sucks." />
      </If>
      <If Condition="GetQuestStep(69155) == 3">
        <WaitWhile condition="GetQuestStep(69155) == 3"/>
      </If>
      <If Condition="GetQuestStep(69155) == 255">
        <GetTo ZoneId="815" XYZ="19.65151, -90.93282, 511.7431"/>
        <TurnIn QuestId="69155" NpcId="1029775" XYZ="20.6759, -91.19236, 509.7886"/>
      </If>
    </If>
    <!-- Crossroads (Level 77) -->
    <If Condition="IsQuestCompleted(69155) and not HasQuest(69156) and not IsQuestCompleted(69156)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="19.65151, -90.93282, 511.7431"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69156)">
        <PickupQuest QuestId="69156" NpcId="1029775"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69156) &gt; 0">
      <If Condition="GetQuestStep(69156) == 1">
        <GetTo ZoneId="815" XYZ="139.1297, -77.95128, 620.3334"/>
        <UseObject NpcId="2009921" XYZ="138.9639, -77.83636, 621.3627" QuestId="69156" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69156) == 2">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="147.6348, -75.16154, 641.277"/>
        </If>
        <UseObject NpcId="1029777" XYZ="147.9362, -75.01646, 642.359" QuestId="69156" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69156) == 255">
        <GetTo ZoneId="815" XYZ="-281.8258, -62.86976, 382.4308"/>
        <TurnIn QuestId="69156" NpcId="1029778" XYZ="-282.0936, -62.82141, 380.5447"/>
      </If>
    </If>
    <!-- A Fresh Start (Level 77) -->
    <If Condition="IsQuestCompleted(69156) and not HasQuest(69157) and not IsQuestCompleted(69157)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-281.8258, -62.86976, 382.4308"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69157)">
        <PickupQuest QuestId="69157" NpcId="1029783"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69157) &gt; 0">
      <If Condition="GetQuestStep(69157) == 1">
        <GetTo ZoneId="815" XYZ="-506.8639, -95.96886, 490.0764"/>
        <UseObject NpcId="2009922" XYZ="-508.5069, -96.02509, 490.0739" QuestId="69157" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69157) == 2">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-506.8639, -95.96886, 490.0764"/>
        </If>
        <LLoadProfile Path="Dungeons/Shadowbringers/77 Malikah's Well.xml"/>
      </If>
      <If Condition="GetQuestStep(69157) == 3">
        <WaitWhile condition="GetQuestStep(69157) == 3"/>
      </If>
      <If Condition="GetQuestStep(69157) == 255">
        <If Condition="not IsOnMap(815)">
          <GetTo ZoneId="815" XYZ="-430.9525, -86.32272, 464.3591"/>
        </If>
        <TurnIn QuestId="69157" NpcId="1029784" XYZ="-429.923, -86.05476, 464.5914"/>
      </If>
    </If>
    <!-- More than a Hunch (Level 77) -->
    <If Condition="IsQuestCompleted(69157) and not HasQuest(69158) and not IsQuestCompleted(69158)">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-430.9525, -86.32272, 464.3591"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69158)">
        <PickupQuest QuestId="69158" NpcId="1029786"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69158) &gt; 0">
      <If Condition="not IsAetherCurrentCompleted(815, 5)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="815" XYZ="158.804, -61.0948, 674.891" />
        <UseObject NpcId="2010052" XYZ="158.804, -61.0948, 674.891" Condition="not IsAetherCurrentCompleted(815, 5)" />
      </If>
      <If Condition="GetQuestStep(69158) == 1">
        <GetTo ZoneId="819" XYZ="27.35625, 0, 1.132881"/>
        <TalkTo NpcId="1029558" XYZ="28.73267, 0, 1.87677" QuestId="69158" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69158) == 255">
        <GetTo ZoneId="819" XYZ="63.39049, 1.716012, 247.2518"/>
        <LLTurnIn QuestId="69158" NpcId="1030610" XYZ="65.11023, 1.716012, 249.7749"/>
      </If>
    </If>
    <!-- Return to Eulmore (Level 77) -->
    <If Condition="IsQuestCompleted(69158) and not HasQuest(69166) and not IsQuestCompleted(69166)">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="62.82765, 1.716012, 251.6988"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69166)">
        <PickupQuest QuestId="69166" NpcId="1027231"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69166) &gt; 0">
      <If Condition="GetQuestStep(69166) == 1">
        <If Condition="not IsOnMap(844)">
          <GetTo ZoneId="819" XYZ="115.3979, 14.6491, 5.333879"/>
          <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        </If>
        <WaitWhile Condition="not GetQuestStep(69166) == 2"/>
      </If>
      <If Condition="GetQuestStep(69166) == 2">
        <GetTo ZoneId="814" XYZ="-248.9876, 18.5699, 398.5424"/>
        <TalkTo NpcId="1030165" XYZ="-249.2867, 18.60391, 399.3132" QuestId="69166" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69166) == 3">
        <If Condition="GetQuestById(69166).GetTodoArgs(3, 0).Item1 == 0">
          <GetTo ZoneId="814" XYZ="-89.31939, 10.71513, 313.7085"/>
          <TalkTo NpcId="1030170" XYZ="-87.32745, 11.11521, 312.0928" QuestId="69166"/>
        </If>
        <If Condition="GetQuestById(69166).GetTodoArgs(3, 0).Item1 == 1">
          <If Condition="not IsOnMap(814)">
            <GetTo ZoneId="814" XYZ="-39.08541, 6.621846, 370.3964"/>
          </If>
          <TalkTo NpcId="1030167" XYZ="-37.6441, 7.035154, 372.4269" QuestId="69166"/>
          <WaitWhile Condition="GetQuestById(69166).GetTodoArgs(3, 0).Item1 == 1"/>
        </If>
        <If Condition="GetQuestById(69166).GetTodoArgs(3, 0).Item1 == 2">
          <If Condition="not IsOnMap(814)">
            <GetTo ZoneId="814" XYZ="142.3369, 13.08414, 358.3173"/>
          </If>
          <TalkTo NpcId="1030169" XYZ="144.5792, 13.26848, 356.8322" QuestId="69166"/>
        </If>
      </If>
      <If Condition="GetQuestStep(69166) == 255">
        <GetTo ZoneId="814" XYZ="165.5094, 39.90656, 561.9901"/>
        <TurnIn QuestId="69166" NpcId="1030171" XYZ="164.4159, 39.90218, 564.9957" RewardSlot="4"/>
      </If>
    </If>
    <!-- A Feast of Lies (Level 77) (This Quest Unlocks Eulmore Aetheryte) -->
    <If Condition="IsQuestCompleted(69166) and not HasQuest(69167) and not IsQuestCompleted(69167)">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="165.5094, 39.90656, 561.9901"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69167)">
        <PickupQuest QuestId="69167" NpcId="1030172"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69167) &gt; 0">
      <If Condition="GetQuestStep(69167) == 1">
        <RunCode Name="Enable_SideStep"/>
        <If Condition="not DutyManager.InInstance">
          <GetTo ZoneId="814" XYZ="167.3889, 39.97662, 562.0764"/>
          <RunCode Name="DutyCommence"/>
        </If>
        <NoCombatMoveTo XYZ="-0.9722645, -17.22939, -149.3191"/>
        <If Condition="NumAttackableEnemies(30, Array[int]([8643,8644,8645])) &gt; 0">
          <Grind grindRef="69167_Fight_1" while="NumAttackableEnemies(22, Array[int]([8643,8644,8645])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        </If>
        <NoCombatMoveTo XYZ="0.1077758, -5.094624, -101.0378"/>
        <If Condition="NumAttackableEnemies(30, Array[int]([8643,8644,8645])) &gt; 0">
          <Grind grindRef="69167_Fight_2" while="NumAttackableEnemies(22, Array[int]([8643,8644,8645])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        </If>
        <NoCombatMoveTo XYZ="0.01244677, 5.912031, -58.19322"/>
        <If Condition="NumAttackableEnemies(30, Array[int]([8643,8644,8645])) &gt; 0">
          <Grind grindRef="69167_Fight_3" while="NumAttackableEnemies(22, Array[int]([8643,8644,8645])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        </If>
        <NoCombatMoveTo XYZ="-0.3730417, 6, -28.11166"/>
        <If Condition="NumAttackableEnemies(30, Array[int]([8648,8649])) &gt; 0">
          <Grind grindRef="69167_Fight_Jongluers" while="NumAttackableEnemies(22, Array[int]([8648,8649])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        </If>
        <RunCode Name="69167_Move_1"/>
        <RunCode Name="Handle_Cutscene_Talking"/>
        <Grind grindRef="69167_Fight_Ranjit" while="Core.Me.IsAlive and DutyManager.InInstance and NumAttackableEnemies(60, Array[int]([8374,8652])) &gt; 0 and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        <RunCode Name="Handle_Cutscene_Talking"/>
      </If>
      <If Condition="GetQuestStep(69167) == 255">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="2.939304, 82.83, 46.3633"/>
        </If>
        <TurnIn QuestId="69167" NpcId="1030184" XYZ="4.257263, 82.8, 44.66309"/>
      </If>
    </If>
    <!-- Paradise Fallen (Level 77) -->
    <If Condition="IsQuestCompleted(69167) and not HasQuest(69168) and not IsQuestCompleted(69168)">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="2.939304, 82.83, 46.3633"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69168)">
        <PickupQuest QuestId="69168" NpcId="1030184"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69168) &gt; 0">
      <If Condition="GetQuestStep(69168) == 1">
        <GetTo ZoneId="820" XYZ="-69.4132, -0.8904957, 65.91019"/>
        <TalkTo NpcId="1030190" XYZ="-71.39697, -0.8649193, 66.11731" QuestId="69168" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69168) == 2">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="-69.4132, -0.8904957, 65.91019"/>
        </If>
        <UseItem ItemId="2002609" NpcId="1030190" XYZ="-71.39697, -0.8649193, 66.11731" QuestId="69168" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69168) == 3">
        <GetTo ZoneId="820" XYZ="-7.063517, 45, -24.35859"/>
        <TalkTo NpcId="1030191" XYZ="-6.729248, 44.99961, -22.5376" QuestId="69168" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69168) == 4">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="-7.063517, 45, -24.35859"/>
        </If>
        <UseItem ItemId="2002609" NpcId="1030191" XYZ="-6.729248, 44.99961, -22.5376" QuestId="69168" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69168) == 5">
        <GetTo ZoneId="820" XYZ="19.23537, 82.83513, -49.76351"/>
        <TalkTo NpcId="1030193" XYZ="20.95062, 82.83513, -49.60712" QuestId="69168" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(69168) == 6">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="19.73318, 82.83513, -49.77707"/>
        </If>
        <UseItem ItemId="2002609" NpcId="1030193" XYZ="20.95062, 82.83513, -49.60712" QuestId="69168" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(69168) == 255">
        <If Condition="not IsOnMap(820)">
          <GetTo ZoneId="820" XYZ="25.68305, 82.78251, 21.68807"/>
        </If>
        <LLTurnIn QuestId="69168" NpcId="1030194" XYZ="27.35938, 82.90395, 22.38489"/>
      </If>
    </If>
    <!-- The Ladder (Level 78) -->
    <If Condition="IsQuestCompleted(69168) and not HasQuest(69169) and not IsQuestCompleted(69169)">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="20.20625, 82.78254, 23.25897"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69169)">
        <PickupQuest QuestId="69169" NpcId="1030196"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69169) &gt; 0">
      <If Condition="GetQuestStep(69169) == 1">
        <GetTo ZoneId="814" XYZ="-457.3658, 65.77815, 80.94901"/>
        <TalkTo NpcId="1030197" XYZ="-456.6873, 65.77815, 79.9115" QuestId="69169" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69169) == 2">
        <GetTo ZoneId="814" XYZ="-457.6837, 8.987028, 535.5839"/>
        <TalkTo NpcId="1027288" XYZ="-457.3587, 8.987028, 537.0413" QuestId="69169" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69169) == 3">
        <If Condition="GetQuestById(69169).GetTodoArgs(3, 0).Item1 == 0">
          <If Condition="not IsOnMap(814)">
            <GetTo ZoneId="814" XYZ="-451.1348, 8.987026, 546.1807"/>
          </If>
          <UseObject NpcId="2010088" XYZ="-451.1348, 8.987026, 546.1807" UseDistance="3.0" Condition="GetQuestById(69169).GetTodoArgs(3, 0).Item1 == 0"/>
        </If>
        <If Condition="GetQuestById(69169).GetTodoArgs(3, 0).Item1 == 1">
          <If Condition="not IsOnMap(814)">
            <GetTo ZoneId="814" XYZ="-465.2389, 8.987029, 554.0947"/>
          </If>
          <TalkTo NpcId="1027441" XYZ="-465.3239, 8.987028, 555.4131" QuestId="69169"/>
        </If>
        <If Condition="GetQuestById(69169).GetTodoArgs(3, 0).Item1 == 2">
          <If Condition="not IsOnMap(814)">
            <GetTo ZoneId="814" XYZ="-458.325, 18.8181, 480.253"/>
          </If>
          <UseObject NpcId="2010089" XYZ="-458.2437, 20.00452, 481.59" Condition="GetQuestById(69169).GetTodoArgs(3, 0).Item1 == 2"/>
        </If>
      </If>
      <If Condition="GetQuestStep(69169) == 4">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-457.516, 8.987028, 535.7527"/>
        </If>
        <LLTalkTo NpcId="1027288" DialogOption="5,0" XYZ="-457.3587, 8.987028, 537.0413" QuestId="69169" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69169) == 255">
        <GetTo ZoneId="814" XYZ="-457.6563, 65.77815, 82.31489"/>
        <TurnIn QuestId="69169" NpcId="1030197" XYZ="-456.6873, 65.77815, 79.9115"/>
      </If>
    </If>
    <!-- The View from Above (Level 78) -->
    <If Condition="IsQuestCompleted(69169) and not HasQuest(69170) and not IsQuestCompleted(69170)">
      <GetTo ZoneId="814" XYZ="-457.6563, 65.77815, 82.31489"/>
      <If Condition="IsQuestAcceptQualified(69170)">
        <PickupQuest QuestId="69170" NpcId="1030197"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69170) &gt; 0">
      <If Condition="GetQuestStep(69170) == 1">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-479.7643, 65.77815, 93.16869"/>
        </If>
        <UseObject NpcId="2010124" XYZ="-482.0783, 65.7511, 93.12573" QuestId="69170" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69170) == 2">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-449.972, 334.0526, -35.08344"/>
        </If>
        <TalkTo NpcId="1030207" XYZ="-448.661, 334.0526, -36.91156" QuestId="69170" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69170) == 3">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-420.7014, 354.3414, 25.30536"/>
        </If>
        <TalkTo NpcId="1030208" XYZ="-418.3871, 354.3414, 25.28406" QuestId="69170" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69170) == 4">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-417.3336, 354.3414, 22.40183"/>
        </If>
        <UserDialog QuestId="69170" StepId="4" IsBotContinueAllowed="True" DialogText="Please manually complete the zoomie-zoom." />
      </If>
      <If Condition="GetQuestStep(69170) == 5">
        <GetTo ZoneId="814" XYZ="-149.2363, 352.3582, -216.6674"/>
        <UseObject NpcIds="2010091,2010092,2010093" XYZ="-149.2363, 352.3582, -216.6674" QuestId="69170" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(69170) == 255">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-135.8674, 352.3582, -190.0838"/>
        </If>
        <TurnIn QuestId="69170" NpcId="1030211" XYZ="-137.3465, 352.3582, -188.037"/>
      </If>
    </If>
    <!-- In Mt. Gulg's Shadow (Level 78) -->
    <If Condition="IsQuestCompleted(69170) and not HasQuest(69171) and not IsQuestCompleted(69171)">
      <GetTo ZoneId="814" XYZ="-126.1204, 352.3582, -190.7336"/>
      <If Condition="IsQuestAcceptQualified(69171)">
        <PickupQuest QuestId="69171" NpcId="1030213"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69171) &gt; 0">
      <If Condition="GetQuestStep(69171) == 1">
        <GetTo ZoneId="814" XYZ="-119.1603, 362.4734, -344.1997"/>
        <TalkTo NpcId="1030214" XYZ="-119.7376, 362.5605, -346.1509" QuestId="69171" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69171) == 2">
        <GetTo ZoneId="814" XYZ="-279.1706, 378.2881, -402.71"/>
        <UseObject NpcId="2010094" XYZ="-279.0723, 378.6831, -404.3793" QuestId="69171" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69171) == 3">
        <GetTo ZoneId="814" XYZ="-169.812, 396.6775, -467.8703"/>
        <UseObject NpcId="2010095" XYZ="-168.9021, 396.8108, -468.3146" QuestId="69171" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69171) == 4">
        <GetTo ZoneId="814" XYZ="-160.5942, 455.1951, -739.8885"/>
        <TalkTo NpcId="1030215" XYZ="-160.5402, 455.2343, -740.261" QuestId="69171" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69171) == 255">
        <GetTo ZoneId="814" XYZ="-446.3127, 334.0526, -56.33099"/>
        <TurnIn QuestId="69171" NpcId="1030216" XYZ="-445.4872, 334.0526, -55.40558"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- A Gigantic Undertaking (Level 78) -->
    <If Condition="IsQuestCompleted(69171) and not HasQuest(69172) and not IsQuestCompleted(69172)">
      <GetTo ZoneId="814" XYZ="-446.3127, 334.0526, -56.33099"/>
      <If Condition="IsQuestAcceptQualified(69172)">
        <PickupQuest QuestId="69172" NpcId="1030216"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69172) &gt; 0">
      <If Condition="GetQuestStep(69172) == 1">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-438.2332, 334.0526, -46.01204"/>
        </If>
        <SelectStringOverride Index="1,2,1,1"/>
        <TalkTo NpcId="1030224" XYZ="-437.4609, 334.0526, -45.05994" QuestId="69172"/>
        <WaitWhile Condition="not GetQuestStep(69172) == 2"/>
      </If>
      <If Condition="GetQuestStep(69172) == 2">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-438.2332, 334.0526, -46.01204"/>
        </If>
        <SelectStringOverride Index="1,2,1,1"/>
        <TalkTo NpcId="1030223" XYZ="-436.5454, 334.0526, -46.70789" QuestId="69172" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69172) == 255">
        <GetTo ZoneId="814" XYZ="-122.1066, 352.3582, -191.4411"/>
        <TurnIn QuestId="69172" NpcId="1027462" XYZ="-120.2259, 352.3579, -190.6615"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- Meet the Tholls (Level 78) -->
    <If Condition="IsQuestCompleted(69172) and not HasQuest(69173) and not IsQuestCompleted(69173)">
      <GetTo ZoneId="814" XYZ="-122.1066, 352.3582, -191.4411"/>
      <If Condition="IsQuestAcceptQualified(69173)">
        <PickupQuest QuestId="69173" NpcId="1027462"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69173) &gt; 0">
      <If Condition="GetQuestStep(69173) == 1">
        <GetTo ZoneId="814" XYZ="-424.6227, 416.5849, -584.522"/>
        <TalkTo NpcId="1030229" XYZ="-425.803, 416.7673, -586.2974" QuestId="69173" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69173) == 2">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-467.9887, 417.2273, -647.9368"/>
        </If>
        <TalkTo NpcId="1027296" XYZ="-469.7795, 417.2296, -649.2561" QuestId="69173" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69173) == 3">
        <GetTo ZoneId="814" XYZ="-442.9381, 417.1726, -618.2719"/>
        <UserDialog QuestId="69173" StepId="3" IsBotContinueAllowed="True" DialogText="Please manually complete the zoomie-zoom.\n\nShoot the dwarf with the red hat." />
      </If>
      <If Condition="GetQuestStep(69173) == 4">
        <GetTo ZoneId="814" XYZ="-442.9381, 417.1726, -618.2719"/>
        <UserDialog QuestId="69173" StepId="4" IsBotContinueAllowed="True" DialogText="Please manually complete the zoomie-zoom.\n\nShoot the dwarf with the red hat." />
      </If>
      <If Condition="GetQuestStep(69173) == 255">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-468.5157, 417.2283, -648.5204"/>
        </If>
        <TurnIn QuestId="69173" NpcId="1027296" XYZ="-469.7795, 417.2296, -649.2561"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>

    <!-- A Disagreeable Dwarf -->
    <If Condition="IsQuestCompleted(69173) and not HasQuest(69092) and not IsQuestCompleted(69092)">
      <GetTo ZoneId="814" XYZ="-447.2847, 417.1024, -610.7085"/>
      <If Condition="IsQuestAcceptQualified(69092)">
        <LLPickupQuest QuestId="69092" NpcId="1030776" XYZ="-450.8583, 417.1344, -610.8644"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69092) and not IsQuestCompleted(69092) and GetQuestStep(69092) == 1">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-430.9892, 417.2927, -675.2963"/>
      </If>
      <LLTalkTo NpcId="1030778" XYZ="-429.3126, 417.298, -677.2107" QuestId="69092" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69092) and not IsQuestCompleted(69092) and GetQuestStep(69092) == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-438.4014, 417.2882, -639.3514"/>
      </If>
      <LLTalkTo NpcId="1030779" XYZ="-436.4844, 417.2195, -641.3824" QuestId="69092" StepId="2"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69092) and not IsQuestCompleted(69092) and GetQuestStep(69092) == 3">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-491.654, 417.1482, -608.3272"/>
      </If>
      <LLTalkTo NpcId="1030780" XYZ="-493.2479, 417.1531, -610.9866" QuestId="69092" StepId="3"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69092) and not IsQuestCompleted(69092) and GetQuestStep(69092) == 255">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-398.1559, 417.5051, -659.8394"/>
      </If>
      <LLTurnIn ItemId="2002701" QuestId="69092" NpcId="1030800" XYZ="-396.6888, 417.5182, -657.9232"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- A-Digging We Will Go (Level 78) -->
    <If Condition="IsQuestCompleted(69173) and not HasQuest(69174) and not IsQuestCompleted(69174)">
      <GetTo ZoneId="814" XYZ="-468.5157, 417.2283, -648.5204"/>
      <If Condition="IsQuestAcceptQualified(69174)">
        <PickupQuest QuestId="69174" NpcId="1027296"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69174) &gt; 0">
      <If Condition="GetQuestStep(69174) == 1">
        <RunCode Name="Enable_SideStep"/>
        <If Condition="not DutyManager.InInstance">
          <GetTo ZoneId="814" XYZ="-466.5659, 417.2291, -648.8931"/>
          <RunCode Name="DutyCommence"/>
        </If>
        <NoCombatMoveTo XYZ="-292.8396, 384.3114, -429.7322"/>
        <If Condition="not NumAttackableEnemies(15, Array[int]([8310,8308,8219,8264])) &gt; 0">
          <RunCode Name="Wait_For_Enemies"/>
        </If>
        <Grind grindRef="69174_Fight_1" while="NumAttackableEnemies(40, Array[int]([8310,8308,8219,8264])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        <NoCombatMoveTo XYZ="-275.2827, 375.8011, -390.4547"/>
        <NoCombatMoveTo XYZ="-230.0161, 371.6526, -363.1591"/>
        <If Condition="not NumAttackableEnemies(15, Array[int]([8310,8308,8219,8264])) &gt; 0">
          <RunCode Name="Wait_For_Enemies"/>
        </If>
        <Grind grindRef="69174_Fight_2" while="NumAttackableEnemies(40, Array[int]([8310,8308,8219,8264])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        <NoCombatMoveTo XYZ="-120.5046, 362.3075, -342.2753"/>
        <If Condition="not NumAttackableEnemies(15, Array[int]([8310,8308,8219,8264])) &gt; 0">
          <RunCode Name="Wait_For_Enemies"/>
        </If>
        <Grind grindRef="69174_Fight_3" while="NumAttackableEnemies(40, Array[int]([8310,8308,8219,8264])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        <NoCombatMoveTo XYZ="-9.643806, 360.0383, -389.6931"/>
        <If Condition="not NumAttackableEnemies(15, Array[int]([8310,8308,8219,8264])) &gt; 0">
          <RunCode Name="Wait_For_Enemies"/>
        </If>
        <Grind grindRef="69174_Fight_4" while="NumAttackableEnemies(40, Array[int]([8310,8308,8219,8264])) &gt; 0 and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        <WaitWhile Condition="not QuestLogManager.InCutscene"/>
        <RunCode Name="Handle_Cutscene_Talking"/>
        <RunCode Name="69174_Move_1"/>
        <Grind grindRef="69174_Fight_5" while="Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > 0)"/>
        <RunCode Name="Handle_Cutscene_Talking"/>
      </If>
      <If Condition="GetQuestStep(69174) == 255">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="348.2301, 314.8299, -374.01"/>
        </If>
        <TurnIn QuestId="69174" NpcId="1030233" XYZ="349.2942, 315.2037, -373.251"/>
      </If>
    </If>
    <!-- The Duergar's Tewel (Level 78) -->
    <If Condition="IsQuestCompleted(69174) and not HasQuest(69175) and not IsQuestCompleted(69175)">
      <GetTo ZoneId="814" XYZ="348.2301, 314.8299, -374.01"/>
      <If Condition="IsQuestAcceptQualified(69175)">
        <PickupQuest QuestId="69175" NpcId="1030233"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69175) &gt; 0">
      <If Condition="GetQuestStep(69175) == 1">
        <GetTo ZoneId="814" XYZ="610.4, 278.207, -511.0002"/>
        <TalkTo NpcId="1030375" XYZ="611.9325, 278.146, -512.4437" QuestId="69175" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69175) == 2">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="610.4, 278.207, -511.0002"/>
        </If>
        <TalkTo NpcId="1030375" XYZ="611.9325, 278.146, -512.4437" QuestId="69175" StepId="2"/>
        <WaitWhile Condition="not Core.Me.HasAura(416)"/>
      </If>
      <If Condition="GetQuestStep(69175) == 3">
        <If Condition="not Core.Me.HasAura(416)">
          <If Condition="not IsOnMap(814)">
            <GetTo ZoneId="814" XYZ="610.4, 278.207, -511.0002"/>
          </If>
          <TalkTo NpcId="1030375" XYZ="611.9325, 278.146, -512.4437"/>
        </If>
        <UseItem ItemId="2002610" NpcIds="1030235,1030237,1030236" QuestId="69175" StepId="3">
          <HotSpots>
            <HotSpot XYZ="705.0431, 270.0769, -492.9122" Radius="10"/>
            <HotSpot XYZ="747.1274, 270, -477.4395" Radius="10"/>
            <HotSpot XYZ="744.5334, 270, -515.4955" Radius="10"/>
          </HotSpots>
        </UseItem>
      </If>
      <If Condition="GetQuestStep(69175) == 255">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="616.7777, 277.7269, -512.6447"/>
        </If>
        <TurnIn QuestId="69175" NpcId="1030375" XYZ="611.9325, 278.146, -512.4437"/>
      </If>
    </If>
    <!-- Rich Veins of Hope (Level 78) -->
    <If Condition="IsQuestCompleted(69175) and not HasQuest(69176) and not IsQuestCompleted(69176)">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="616.7777, 277.7269, -512.6447"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69176)">
        <PickupQuest QuestId="69176" NpcId="1030375" XYZ="616.7777, 277.7269, -512.6447"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69176) &gt; 0">
      <If Condition="GetQuestStep(69176) == 1">
        <GetTo ZoneId="814" XYZ="-468.9019, 417.2273, -647.9505"/>
        <TalkTo NpcId="1027296" XYZ="-469.7795, 417.2296, -649.2561" QuestId="69176" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69176) == 2">
        <GetTo ZoneId="814" XYZ="-463.6761, 334.0526, -83.40401"/>
        <TalkTo NpcId="1030292" XYZ="-463.7369, 334.0526, -81.04071" QuestId="69176" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69176) == 3">
        <If Condition="not IsTodoChecked(69176, 3, 0)">
          <If Condition="not IsOnMap(814)">
            <GetTo ZoneId="814" XYZ="-464.5488, 334.0526, -67.13285"/>
          </If>
          <HandOver ItemId="2002611" NpcId="1030240" XYZ="-464.4999, 334.0526, -65.53754" QuestId="69176"/>
        </If>
        <If Condition="not IsTodoChecked(69176, 3, 1)">
          <If Condition="not IsOnMap(814)">
            <GetTo ZoneId="814" XYZ="-471.8777, 334.0526, -71.53595"/>
          </If>
          <HandOver ItemId="2002611" NpcId="1030243" XYZ="-473.4417, 334.0526, -71.15283" QuestId="69176"/>
        </If>
        <If Condition="not IsTodoChecked(69176, 3, 2)">
          <If Condition="not IsOnMap(814)">
            <GetTo ZoneId="814" XYZ="-454.1078, 334.0526, -77.0933"/>
          </If>
          <HandOver ItemId="2002611" NpcId="1030244" XYZ="-453.2388, 334.0526, -76.27985" QuestId="69176"/>
        </If>
      </If>
      <If Condition="GetQuestStep(69176) == 255">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-462.2831, 334.0526, -79.26407"/>
        </If>
        <TurnIn QuestId="69176" NpcId="1030292" XYZ="-463.7369, 334.0526, -81.04071"/>
        <LLDiscardItem ItemId="27874"/>
      </If>
    </If>

    <!-- Fugitive of Fear -->
    <If Condition="IsQuestCompleted(69176) and not HasQuest(69073) and not IsQuestCompleted(69073)">
      <GetTo ZoneId="814" XYZ="-130.5229, 354.3582, -178.4895"/>
      <If Condition="IsQuestAcceptQualified(69073)">
        <LLPickupQuest QuestId="69073" NpcId="1027956" XYZ="-128.7709, 354.3582, -179.1868"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69073) and not IsQuestCompleted(69073) and GetQuestStep(69073) == 1">
      <GetTo ZoneId="814" XYZ="-515.1837, 334.1159, -7.864386"/>
      <LLTalkTo NpcId="1030748" XYZ="-514.8852, 334.116, -9.262268" QuestId="69073" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69073) and not IsQuestCompleted(69073) and GetQuestStep(69073) == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-506.4615, 333.0726, -112.5898"/>
      </If>
      <LLTalkTo NpcId="1030749" XYZ="-504.5701, 332.9331, -112.0775" QuestId="69073" StepId="2"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69073) and not IsQuestCompleted(69073) and GetQuestStep(69073) == 3">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-506.4615, 333.0726, -112.5898"/>
      </If>
      <RunCode Name="69073"/>
    </If>
    <If Condition="HasQuest(69073) and not IsQuestCompleted(69073) and GetQuestStep(69073) == 255">
      <GetTo ZoneId="814" XYZ="-130.435, 354.3582, -178.799"/>
      <LLTurnIn QuestId="69073" NpcId="1027956" XYZ="-128.7709, 354.3582, -179.1868"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- That None Shall Ever Again (Level 78) -->
    <If Condition="IsQuestCompleted(69176) and not HasQuest(69177) and not IsQuestCompleted(69177)">
      <GetTo ZoneId="814" XYZ="-466.2632, 334.0526, -79.65466"/>
      <If Condition="IsQuestAcceptQualified(69177)">
        <PickupQuest QuestId="69177" NpcId="1030238"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69177) &gt; 0">
      <If Condition="GetQuestStep(69177) == 1">
        <GetTo ZoneId="814" XYZ="-137.6214, 352.3582, -192.302"/>
        <TalkTo NpcId="1030250" XYZ="-137.5906, 352.3582, -190.9056" QuestId="69177" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69177) == 2">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-137.6214, 352.3582, -192.302"/>
        </If>
        <TalkTo NpcId="1030250" XYZ="-137.5906, 352.3582, -190.9056" QuestId="69177" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69177) == 3">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-137.6214, 352.3582, -192.302"/>
        </If>
        <UseObject NpcId="2010098" XYZ="-137.5906, 353.5363, -192.5231" QuestId="69177" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69177) == 255">
        <GetTo ZoneId="814" XYZ="-139.4529, 352.3582, -190.012"/>
        <TurnIn QuestId="69177" NpcId="1030253" XYZ="-141.2223, 352.3582, -188.9525" RewardSlot="3"/>
      </If>
    </If>
    <!-- A Breath of Respite (Level 78) -->
    <If Condition="IsQuestCompleted(69177) and not HasQuest(69178) and not IsQuestCompleted(69178)">
      <GetTo ZoneId="814" XYZ="-139.4529, 352.3582, -190.012"/>
      <If Condition="IsQuestAcceptQualified(69178)">
        <PickupQuest QuestId="69178" NpcId="1030253"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69178) &gt; 0">
      <If Condition="GetQuestStep(69178) == 1">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-132.3061, 354.3582, -177.9143"/>
        </If>
        <TalkTo NpcId="1030254" XYZ="-132.8298, 354.3582, -177.2031" QuestId="69178" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69178) == 2">
        <GetTo ZoneId="814" XYZ="-7.816596, 324.3652, 190.941"/>
        <UseObject NpcId="1030293" XYZ="-5.172852, 324.3521, 190.5088" QuestId="69178" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69178) == 255">
        <GetTo ZoneId="814" XYZ="-141.1699, 352.3582, -192.2932"/>
        <TurnIn QuestId="69178" NpcId="1030294" XYZ="-142.1378, 352.3582, -189.4714"/>
      </If>
    </If>
    <!-- Extinguishing the Last Light (Level 79) -->
    <If Condition="IsQuestCompleted(69178) and not HasQuest(69179) and not IsQuestCompleted(69179)">
      <GetTo ZoneId="814" XYZ="-140.3834, 352.3582, -190.0665"/>
      <If Condition="IsQuestAcceptQualified(69179)">
        <PickupQuest QuestId="69179" NpcId="1030295"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69179) &gt; 0">
      <If Condition="GetQuestStep(69179) == 1">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-140.9958, 352.3582, -190.0621"/>
        </If>
        <LLTalkTo NpcId="1030294" XYZ="-142.1378, 352.3582, -189.4714" QuestId="69179" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69179) == 2">
        <GetTo ZoneId="814" XYZ="-173.4306, 460.431, -796.9117"/>
        <TalkTo NpcId="1030302" XYZ="-173.4493, 460.4707, -797.3602" QuestId="69179" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69179) == 3">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="-173.4306, 460.431, -796.9117"/>
        </If>
        <LLoadProfile Path="Dungeons/Shadowbringers/79 Mt Gulg.xml"/>
      </If>
      <If Condition="GetQuestStep(69179) == 5">
        <If Condition="not IsOnMap(880)">
          <GetTo ZoneId="814" XYZ="-173.4306, 460.431, -796.9117"/>
          <UseTransport InteractDistance="3.0" NpcId="1030320" XYZ="-164.2329, 460.689, -804.5319"/>
        </If>
        <UserDialog QuestId="69179" StepId="5" IsBotContinueAllowed="True" DialogText="Please manually complete the trial Crown of the Immaculate." />
      </If>
      <If Condition="GetQuestStep(69179) == 255">
        <If Condition="not IsOnMap(880)">
          <GetTo ZoneId="814" XYZ="-173.4306, 460.431, -796.9117"/>
          <UseTransport InteractDistance="3.0" NpcId="1030320" XYZ="-164.2329, 460.689, -804.5319"/>
        </If>
        <TurnIn QuestId="69179" NpcId="1030303" XYZ="109.2393, 0.01407149, 108.7205"/>
      </If>
    </If>
    <!-- Reassuring the Masses (Level 79) -->
    <If Condition="IsQuestCompleted(69179) and not HasQuest(69180) and not IsQuestCompleted(69180)">
      <GetTo ZoneId="819" XYZ="63.3789, 1.716012, 251.9367"/>
      <If Condition="IsQuestAcceptQualified(69180)">
        <PickupQuest QuestId="69180" NpcId="1027231"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69180) &gt; 0">
      <If Condition="GetQuestStep(69180) == 1">
        <GetTo ZoneId="819" XYZ="-55.72869, -7.482, 118.7893"/>
        <TalkTo NpcId="1027224" XYZ="-57.3587, -7.482, 118.0895" QuestId="69180" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69180) == 2">
        <GetTo ZoneId="819" XYZ="-29.14879, -0.65, -50.65533"/>
        <TalkTo NpcId="1027248" XYZ="-30.80798, -0.6499991, -51.43823" QuestId="69180" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69180) == 3">
        <GetTo ZoneId="819" XYZ="-61.14761, -17.72201, -267.8642"/>
        <TalkTo NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="69180" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69180) == 255">
        <GetTo ZoneId="819" XYZ="-11.43554, 20.1973, -137.6693"/>
        <TurnIn QuestId="69180" NpcId="1027232" XYZ="-9.323303, 20.1973, -136.5225"/>
        <LLSmallTalk/>
      </If>
    </If>
    <!-- In His Garden (Level 79) -->
    <If Condition="IsQuestCompleted(69180) and not HasQuest(69181) and not IsQuestCompleted(69181)">
      <GetTo ZoneId="819" XYZ="-11.43554, 20.1973, -137.6693"/>
      <If Condition="IsQuestAcceptQualified(69181)">
        <LLSmallTalk/>
        <PickupQuest QuestId="69181" NpcId="1027232"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69181) &gt; 0">
      <If Condition="GetQuestStep(69181) == 1">
        <GetTo ZoneId="819" XYZ="-195.8405, 1.192093E-07, -81.81522"/>
        <RunCode Name="69181"/>
        <UseObject NpcId="2010136" XYZ="-223.4684, 38.59009, -86.86963" QuestId="69181" StepId="1"/>
        <MoveTo XYZ="-180.156, 1.192093E-07, -74.98458" UseMesh="False" Distance="1"/>
      </If>
      <If Condition="GetQuestStep(69181) == 2">
        <If Condition="GetQuestById(69181).GetTodoArgs(2, 0).Item1 == 0">
          <If Condition="IsOnMap(819)">
            <GetTo ZoneId="819" XYZ="-140.1232, 0, -75.14251"/>
          </If>
          <TalkTo NpcId="1027246" XYZ="-136.9802, 0, -73.77747" QuestId="69181"/>
        </If>
        <If Condition="GetQuestById(69181).GetTodoArgs(2, 0).Item1 == 1">
          <GetTo ZoneId="819" XYZ="-60.65808, -17.72201, -267.3898"/>
          <TalkTo NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="69181"/>
        </If>
        <If Condition="GetQuestById(69181).GetTodoArgs(2, 0).Item1 == 2">
          <GetTo ZoneId="819" XYZ="42.51077, 36.19769, -159.1732"/>
          <TalkTo NpcId="1027854" XYZ="40.57373, 36.19769, -160.235" QuestId="69181"/>
        </If>
      </If>
      <If Condition="GetQuestStep(69181) == 255">
        <GetTo ZoneId="813" XYZ="613.9008, 13.30975, 306.5868"/>
        <TurnIn QuestId="69181" NpcId="1030369" XYZ="614.4961, 13.30975, 305.806"/>
      </If>
    </If>
    <!-- The Unbroken Thread (Level 79) -->
    <If Condition="IsQuestCompleted(69181) and not HasQuest(69182) and not IsQuestCompleted(69182)">
      <GetTo ZoneId="813" XYZ="613.9008, 13.30975, 306.5868"/>
      <If Condition="IsQuestAcceptQualified(69182)">
        <PickupQuest QuestId="69182" NpcId="1030369"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69182) &gt; 0">
      <If Condition="GetQuestStep(69182) == 1">
        <GetTo ZoneId="819" XYZ="115.0558, 14.64909, 5.87816"/>
        <UseTransport InteractDistance="3.0" NpcId="1030533" XYZ="117.9979, 14.64903, 7.156433"/>
        <WaitWhile Condition="not GetQuestStep(69182) == 2"/>
      </If>
      <If Condition="GetQuestStep(69182) == 2">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="68.43396, -3.576279E-07, 12.17688"/>
        </If>
        <LLTalkTo NpcId="1030370" DialogOption="1" XYZ="66.84973, -2.980232E-07, 13.32104" QuestId="69182" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69182) == 3">
        <GetTo ZoneId="819" XYZ="59.45224, 36.19769, -167.9817"/>
        <TalkTo NpcId="1027225" XYZ="61.90588, 36.24769, -169.1768" QuestId="69182" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69182) == 255">
        <If Condition="not IsOnMap(819)">
          <GetTo ZoneId="819" XYZ="59.18567, 36.19769, -165.6519"/>
        </If>
        <TurnIn QuestId="69182" NpcId="1030327" XYZ="58.42676, 36.19769, -162.4018"/>
      </If>
    </If>
    <!-- To Storm-tossed Seas (Level 79) -->
    <If Condition="IsQuestCompleted(69182) and not HasQuest(69183) and not IsQuestCompleted(69183)">
      <GetTo ZoneId="819" XYZ="59.18567, 36.19769, -165.6519"/>
      <If Condition="IsQuestAcceptQualified(69183)">
        <PickupQuest QuestId="69183" NpcId="1030327"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69183) &gt; 0">
      <If Condition="GetQuestStep(69183) == 1">
        <GetTo ZoneId="813" XYZ="-143.3783, 9.572956, 703.9947"/>
        <TalkTo NpcId="1030346" XYZ="-145.0981, 9.572956, 704.6769" QuestId="69183" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69183) == 2">
        <If Condition="not IsOnMap(813)">
          <GetTo ZoneId="813" XYZ="-272.3878, -0.8264023, 723.4526"/>
        </If>
        <If Condition="not MovementManager.IsDiving and Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(328.8632, 121.794, -134.7224)) &gt; 20">
          <MoveTo XYZ="-272.3878, -0.8264023, 723.4526" Distance="1"/>
          <MoveTo XYZ="-288.1823, -2.483416, 720.9448" Distance="1" UseMesh="False"/>
        </If>
        <RunCode Name="69183"/>
      </If>
      <If Condition="GetQuestStep(69183) == 3">
        <GetTo ZoneId="813" XYZ="-614.0067, 27.72864, 815.555"/>
        <LLTalkTo NpcId="1030333" Dialogoption="1" XYZ="-612.2377, 27.72864, 817.6547" QuestId="69183" StepId="3"/>
        <WaitWhile Condition="not GetQuestStep(69183) == 255"/>
      </If>
      <If Condition="GetQuestStep(69183) == 255">
        <GetTo ZoneId="818" XYZ="281.505, 414.7568, -858.151"/>
        <TurnIn QuestId="69183" NpcId="1030339" XYZ="282.4292, 414.7814, -857.0229"/>
        <LLDiscardItem ItemId="27882"/>
      </If>
    </If>
    <!-- Waiting in the Depths (Level 79) -->
    <If Condition="IsQuestCompleted(69183) and not HasQuest(69184) and not IsQuestCompleted(69184)">
      <GetTo ZoneId="818" XYZ="278.0268, 414.807, -852.7608"/>
      <If Condition="IsQuestAcceptQualified(69184)">
        <PickupQuest QuestId="69184" NpcId="1030336"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69184) &gt; 0">
      <If Condition="GetQuestStep(69184) == 1">
        <GetTo ZoneId="818" XYZ="478.7299, 368.9448, -342.8227"/>
        <UseObject NpcId="1030514" XYZ="479.5758, 368.8783, -340.9933" QuestId="69184" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69184) == 2">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="602.8371, 350.3518, -197.7916"/>
        </If>
        <TalkTo NpcId="1030515" XYZ="605.3711, 350.3518, -196.9177" QuestId="69184" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69184) == 3">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="570.8414, 349.8863, -226.9085"/>
        </If>
        <TalkTo NpcId="1030516" XYZ="569.4209, 350.0365, -227.9545" QuestId="69184" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69184) == 4">
        <GetTo ZoneId="818" XYZ="767.079, 449.6789, -684.2198"/>
        <Grind GrindRef="69184" PostCombatDelay="3.0" While="not GetQuestStep(69184) == 255"/>
      </If>
      <If Condition="GetQuestStep(69184) == 255">
        <GetTo ZoneId="818" XYZ="568.1878, 350.0769, -227.8502"/>
        <TurnIn QuestId="69184" NpcId="1027758" XYZ="568.1085, 350.2004, -230.3655"/>
      </If>
    </If>

    <!-- Koal of the Cups -->
    <If Condition="IsQuestCompleted(69184) and not HasQuest(69124) and not IsQuestCompleted(69124)">
      <GetTo ZoneId="818" XYZ="534.5916, 353.7596, -240.047"/>
      <If Condition="IsQuestAcceptQualified(69124)">
        <LLPickupQuest QuestId="69124" NpcId="1031015" XYZ="530.5103, 353.5436, -244.007"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69124) and not IsQuestCompleted(69124) and GetQuestStep(69124) == 1">
      <GetTo ZoneId="818" XYZ="347.3562, 342.7529, -309.7823"/>
      <LLTalkTo NpcId="1031016" XYZ="344.0452, 342.6954, -310.5364" QuestId="69124" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69124) and not IsQuestCompleted(69124) and GetQuestStep(69124) == 2 and GetQuestById(69124).GetTodoArgs(2, 0).Item1 == 0">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="345.2866, 342.7329, -309.9009"/>
      </If>
      <LLTalkTo NpcId="2010463" DialogOption="1" XYZ="340.9324, 342.6719, -310.4753" InteractDistance="3.0" QuestId="69124"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69124) and not IsQuestCompleted(69124) and GetQuestStep(69124) == 2 and GetQuestById(69124).GetTodoArgs(2, 0).Item1 == 1">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="345.2866, 342.7329, -309.9009"/>
      </If>
      <LLTalkTo NpcId="2010464" XYZ="341.5426, 342.7634, -308.7053" QuestId="69124"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69124) and not IsQuestCompleted(69124) and GetQuestStep(69124) == 3">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="345.2866, 342.7329, -309.9009"/>
      </If>
      <LLTalkTo NpcId="1031016" XYZ="344.0452, 342.6954, -310.5364" QuestId="69124" StepId="3"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69124) and not IsQuestCompleted(69124) and GetQuestStep(69124) == 4">
      <GetTo ZoneId="818" XYZ="601.4193, 347.9564, -168.1747"/>
      <LLTalkTo NpcId="1031017" XYZ="603.0212, 348.0125, -165.301" QuestId="69124" StepId="4"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69124) and not IsQuestCompleted(69124) and GetQuestStep(69124) == 255">
      <GetTo ZoneId="818" XYZ="505.6281, 370.8383, -339.8196"/>
      <LLTurnIn QuestId="69124" NpcId="1031019" XYZ="505.8823, 371.189, -342.7939"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- City of the Ancients (Level 79) -->
    <If Condition="IsQuestCompleted(69184) and not HasQuest(69185) and not IsQuestCompleted(69185)">
      <GetTo ZoneId="818" XYZ="576.1929, 349.9715, -230.3251"/>
      <If Condition="IsQuestAcceptQualified(69185)">
        <PickupQuest QuestId="69185" NpcId="1030517"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69185) &gt; 0">
      <If Condition="GetQuestStep(69185) == 1">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="401.4548, 363.7026, -438.9862"/>
        </If>
        <TalkTo NpcId="1030518" XYZ="400.3813, 363.6555, -439.6582" QuestId="69185" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69185) == 2">
        <If Condition="not IsTodoChecked(69185, 2, 1)">
          <If Condition="not IsOnMap(818)">
            <GetTo ZoneId="818" XYZ="322.4754, 353.6687, -476.461"/>
          </If>
          <NoCombatMoveTo XYZ="323.8708, 353.7634, -476.6916" Distance="2"/>
          <UseItem ItemId="2002673" NpcId="2010142" XYZ="322.4754, 353.6687, -476.461" QuestId="69185" Condition="not IsTodoChecked(69185, 2, 1)"/>
        </If>
        <If Condition="not IsTodoChecked(69185, 2, 0)">
          <If Condition="not IsOnMap(818)">
            <GetTo ZoneId="818" XYZ="405.5002, 361.2451, -415.4251"/>
          </If>
          <NoCombatMoveTo XYZ="394.4427, 360.71, -429.5342" Distance="2"/>
          <UserDialog QuestId="69185" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete the zoomie-zoom." />
        </If>
      </If>
      <If Condition="GetQuestStep(69185) == 3">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="399.1653, 363.446, -437.8478"/>
        </If>
        <TalkTo NpcId="1030518" XYZ="400.3813, 363.6555, -439.6582" QuestId="69185" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69185) == 4">
        <GetTo ZoneId="818" XYZ="26.4468, 381.7419, -523.5912"/>
        <UseObject NpcId="2010143" XYZ="25.71143, 381.6128, -522.3316" QuestId="69185" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69185) == 255">
        <GetTo ZoneId="818" XYZ="26.4468, 381.7419, -523.5912"/>
        <TurnIn QuestId="69185" NpcId="1030225" XYZ="28.82422, 381.8191, -524.4374"/>
      </If>
    </If>
    <!-- The Light of Inspiration (Level 79) -->
    <If Condition="IsQuestCompleted(69185) and not HasQuest(69186) and not IsQuestCompleted(69186)">
      <GetTo ZoneId="818" XYZ="26.4468, 381.7419, -523.5912"/>
      <If Condition="IsQuestAcceptQualified(69186)">
        <PickupQuest QuestId="69186" NpcId="1030225"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69186) &gt; 0">
      <If Condition="GetQuestStep(69186) == 1">
        <GetTo ZoneId="818" XYZ="567.4061, 350.1394, -228.7093"/>
        <LLTalkTo NpcId="1027758" DialogOption="1" XYZ="568.1085, 350.2004, -230.3655" QuestId="69186" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69186) == 2">
        <GetTo ZoneId="818" XYZ="640.3073, 402.24, 210.8794"/>
        <TalkTo NpcId="1030519" XYZ="638.9716, 402.24, 212.787" QuestId="69186" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69186) == 3">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="640.3073, 402.24, 210.8794"/>
        </If>
        <RunCode Name="69186"/>
        <WaitWhile Condition="not GetQuestStep(69186) == 255"/>
      </If>
      <If Condition="not IsQuestCompleted(68784) and not IsQuestCompleted(68808) and not IsQuestCompleted(68814) and not IsQuestCompleted(69164)">
        <RunCode Name="Role_Quests"/>
      </If>
      <If Condition="IsQuestCompleted(68784) or IsQuestCompleted(68808) or IsQuestCompleted(68814) or IsQuestCompleted(69164)">
        <If Condition="GetQuestStep(69186) == 255">
          <GetTo ZoneId="818" XYZ="640.3073, 402.24, 210.8794"/>
          <LLTurnIn QuestId="69186" NpcId="1030586" XYZ="638.9716, 402.24, 212.787"/>
        </If>
      </If>
    </If>
    <!-- The Illuminated Land (Level 80)  -->
    <If Condition="IsQuestCompleted(69186) and not HasQuest(69187) and not IsQuestCompleted(69187)">
      <GetTo ZoneId="818" XYZ="641.0081, 402.24, 209.3931"/>
      <If Condition="IsQuestAcceptQualified(69187)">
        <PickupQuest QuestId="69187" NpcId="1030586"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69187) &gt; 0">
      <If Condition="GetQuestStep(69187) == 1">
        <GetTo ZoneId="818" XYZ="606.9302, 350.3518, -198.0767"/>
        <HandOver ItemId="2002675" NpcId="1027757" XYZ="609.7047, 350.3518, -197.9553" QuestId="69187" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69187) == 2">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="514.2737, 356.9507, -271.0156"/>
        </If>
        <TalkTo NpcId="1031279" XYZ="514.6715, 356.5845, -268.5131" QuestId="69187" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69187) == 3">
        <!-- GetTo keeps walking over the geyser -->
        <GetTo ZoneId="818" XYZ="496.1966, 319.1849, -296.0325"/>
        <RunCode Name="Geyser"/>
        <GetTo ZoneId="818" XYZ="403.1016, 303.3107, -245.2823"/>
        <TalkTo NpcId="1030570" XYZ="400.595, 303.5103, -245.1057" QuestId="69187" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69187) == 4">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="496.1966, 319.1849, -296.0325"/>
          <RunCode Name="Geyser"/>
          <GetTo ZoneId="818" XYZ="403.1016, 303.3107, -245.2823"/>
        </If>
        <RunCode Name="69187"/>
        <GetTo ZoneId="818" XYZ="303.8245, 238.2643, -344.4436"/>
        <TalkTo NpcId="1030532" XYZ="302.0217, 238.7522, -346.1509" QuestId="69187" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69187) == 5">
        <GetTo ZoneId="818" XYZ="89.68027, 199.5726, -144.8761"/>
        <TalkTo NpcId="1030527" XYZ="87.93774, 199.5617, -143.0534" QuestId="69187" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(69187) == 6">
        <GetTo ZoneId="818" XYZ="-181.2583, 139.7943, -219.9855"/>
        <TalkTo NpcId="1030528" XYZ="-182.6658, 139.7686, -220.9354" QuestId="69187" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(69187) == 7">
        <GetTo ZoneId="818" XYZ="-500.5859, 127.1682, -257.8966"/>
        <TalkTo NpcId="1030534" XYZ="-501.915, 127.1898, -257.435" QuestId="69187" StepId="7"/>
      </If>
      <If Condition="GetQuestStep(69187) == 8">
        <GetTo ZoneId="818" XYZ="-812.9244, 80.06553, -280.9034"/>
        <WaitWhile Condition="not GetQuestStep(69187) == 255"/>
      </If>
      <If Condition="GetQuestStep(69187) == 255">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="-789.7743, 73.83459, -217.7062"/>
        </If>
        <TurnIn QuestId="69187" NpcId="1030344" XYZ="-792.9656, 73.24448, -211.6274" RewardSlot="3"/>
        <LLDiscardItem ItemId="25186"/>
      </If>
    </If>
    <!-- The End of a World (Level 80) -->
    <If Condition="IsQuestCompleted(69187) and not HasQuest(69188) and not IsQuestCompleted(69188)">
      <GetTo ZoneId="818" XYZ="-794.5211, 72.54343, -204.7149"/>
      <If Condition="IsQuestAcceptQualified(69188)">
        <PickupQuest QuestId="69188" NpcId="1030341"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69188) &gt; 0">
      <If Condition="GetQuestStep(69188) == 1">
        <GetTo ZoneId="818" XYZ="-610.2485, 45.47874, 96.53845"/>
        <UseObject NpcId="2010144" XYZ="-610.5898, 46.34167, 94.01074" QuestId="69188" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69188) == 2">
        <GetTo ZoneId="818" XYZ="-593.228, -288.0688, 148.8005"/>
        <TalkTo NpcId="1030546" XYZ="-592.9503, -288.0688, 151.2017" QuestId="69188" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69188) == 3">
        <If Condition="GetQuestById(69188).GetTodoArgs(3, 0).Item1 == 0">
          <GetTo ZoneId="818" XYZ="-701.9691, -245.368, 508.066"/>
          <TalkTo NpcId="1030551" XYZ="-703.6088, -245.368, 509.1478" QuestId="69188"/>
        </If>
        <If Condition="GetQuestById(69188).GetTodoArgs(3, 0).Item1 == 1">
          <GetTo ZoneId="818" XYZ="-498.0663, -250.896, 367.5488"/>
          <TalkTo NpcId="1030552" XYZ="-494.1635, -250.896, 365.7129" QuestId="69188"/>
        </If>
        <If Condition="GetQuestById(69188).GetTodoArgs(3, 0).Item1 == 2">
          <GetTo ZoneId="818" XYZ="-364.709, -260.1766, 293.7258"/>
          <TalkTo NpcId="1030553" XYZ="-364.2786, -260.1766, 291.0963" QuestId="69188"/>
        </If>
      </If>
      <If Condition="GetQuestStep(69188) == 255">
        <GetTo ZoneId="818" XYZ="-631.8526, -288.0688, 250.9897"/>
        <TurnIn QuestId="69188" NpcId="1030554" XYZ="-633.9971, -288.0688, 251.606" RewardSlot="3"/>
        <LLDiscardItem ItemId="25186"/>
      </If>
    </If>

    <!-- Responsible Creation -->
    <If Condition="IsQuestCompleted(69188) and not HasQuest(69128) and not IsQuestCompleted(69128)">
      <GetTo ZoneId="818" XYZ="-388.4057, -260.1766, 312.7331"/>
      <If Condition="IsQuestAcceptQualified(69128)">
        <LLPickupQuest QuestId="69128" NpcId="1027775" XYZ="-390.8599, -260.1766, 308.4611"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69128) and not IsQuestCompleted(69128) and GetQuestStep(69128) == 1">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-408.7637, -260.1766, 259.7647"/>
      </If>
      <LLTalkTo NpcId="1030473" XYZ="-410.1778, -260.1766, 256.092" QuestId="69128" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69128) and not IsQuestCompleted(69128) and GetQuestStep(69128) == 2">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-368.903, -260.1766, 275.9329"/>
      </If>
      <LLTalkTo NpcId="1027774" XYZ="-365.5909, -260.1766, 276.9359" QuestId="69128" StepId="2"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69128) and not IsQuestCompleted(69128) and GetQuestStep(69128) == 3">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-385.9279, -260.1766, 283.8392"/>
      </If>
      <LLTalkTo NpcId="1030474" XYZ="-390.9209, -260.1766, 284.9316" QuestId="69128" StepId="3"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69128) and not IsQuestCompleted(69128) and GetQuestStep(69128) == 4">
      <GetTo ZoneId="818" XYZ="-499.6969, -250.906, 448.8011"/>
      <UseItem ItemId="2002612" NpcId="2010125" XYZ="-502.7085, -250.9346, 449.9733" QuestId="69128" StepId="4"/>
    </If>
    <If Condition="HasQuest(69128) and not IsQuestCompleted(69128) and GetQuestStep(69128) == 255">
      <GetTo ZoneId="818" XYZ="-389.6642, -260.1766, 288.5068"/>
      <LLTurnIn QuestId="69128" NpcId="1030474" XYZ="-390.9209, -260.1766, 284.9316"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>

    <!-- Debate and Discourse -->
    <If Condition="IsQuestCompleted(69188) and not HasQuest(69129) and not IsQuestCompleted(69129)">
      <GetTo ZoneId="818" XYZ="-709.4703, -245.368, 497.7509"/>
      <If Condition="IsQuestAcceptQualified(69129)">
        <LLPickupQuest QuestId="69129" NpcId="1027778" XYZ="-713.283, -245.368, 498.4968"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69129) and not IsQuestCompleted(69129) and GetQuestStep(69129) == 1">
      <GetTo ZoneId="818" XYZ="-628.6682, -250.756, 547.2688"/>
      <LLTalkTo NpcId="1030475" XYZ="-627.7715, -250.756, 550.6523" QuestId="69129" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69129) and not IsQuestCompleted(69129) and GetQuestStep(69129) == 2">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-628.6682, -250.756, 547.2688"/>
      </If>
      <LLTalkTo NpcId="1030475" XYZ="-627.7715, -250.756, 550.6523" QuestId="69129" StepId="2"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69129) and not IsQuestCompleted(69129) and GetQuestStep(69129) == 3">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-628.6682, -250.756, 547.2688"/>
      </If>
      <LLTalkTo NpcId="1030475" XYZ="-627.7715, -250.756, 550.6523" QuestId="69129" StepId="3"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69129) and not IsQuestCompleted(69129) and GetQuestStep(69129) == 4">
      <GetTo ZoneId="818" XYZ="-709.9706, -245.368, 498.8062"/>
      <LLTalkTo NpcId="1027778" XYZ="-713.283, -245.368, 498.4968" QuestId="69129" StepId="4"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69129) and not IsQuestCompleted(69129) and GetQuestStep(69129) == 255">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-709.9706, -245.368, 498.8062"/>
      </If>
      <LLTurnIn QuestId="69129" NpcId="1027778" XYZ="-713.283, -245.368, 498.4968"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>

    <!-- Community Cohesion -->
    <If Condition="IsQuestCompleted(69188) and not HasQuest(69130) and not IsQuestCompleted(69130)">
      <GetTo ZoneId="818" XYZ="-590.7681, -266.7698, 338.6785"/>
      <If Condition="IsQuestAcceptQualified(69130)">
        <LLPickupQuest QuestId="69130" NpcId="1030477" XYZ="-594.6593, -266.7698, 338.7045"/>
        <LLSmallTalk WaitTime="1500"/>
      </If>
    </If>
    <If Condition="HasQuest(69130) and not IsQuestCompleted(69130) and GetQuestStep(69130) == 1">
      <GetTo ZoneId="818" XYZ="-650.8147, -250.756, 472.0215"/>
      <LLTalkTo NpcId="1030478" XYZ="-654.3527, -250.896, 475.7609" QuestId="69130" StepId="1"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69130) and not IsQuestCompleted(69130) and GetQuestStep(69130) == 2">
      <GetTo ZoneId="818" XYZ="-360.2217, -260.1766, 280.8073"/>
      <LLTalkTo NpcId="1027777" XYZ="-355.2453, -260.1766, 278.6754" InteractDistance="8.0" QuestId="69130" StepId="2"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>
    <If Condition="HasQuest(69130) and not IsQuestCompleted(69130) and GetQuestStep(69130) == 3">
      <GetTo ZoneId="818" XYZ="7.878439, -302.668, 508.5659"/>
      <UseItem ItemId="2002613" NpcId="8621" XYZ="47.65366, -302.668, 517.4946" InCombatOnly="True" UseHealthPercent="25" QuestId="69130" StepId="3"/>
    </If>
    <If Condition="HasQuest(69130) and not IsQuestCompleted(69130) and GetQuestStep(69130) == 255">
      <GetTo ZoneId="818" XYZ="-360.2177, -260.1766, 280.8086"/>
      <LLTurnIn ItemId="2002614" QuestId="69130" NpcId="1027777" XYZ="-355.2453, -260.1766, 278.6754" InteractDistance="8.0"/>
      <LLSmallTalk WaitTime="1500"/>
    </If>


    <!-- A Greater Purpose (Level 80) -->
    <If Condition="IsQuestCompleted(69188) and not HasQuest(69189) and not IsQuestCompleted(69189)">
      <GetTo ZoneId="818" XYZ="-631.8526, -288.0688, 250.9897"/>
      <If Condition="IsQuestAcceptQualified(69189)">
        <PickupQuest QuestId="69189" NpcId="1030554"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69189) &gt; 0">
      <If Condition="GetQuestStep(69189) == 1">
        <GetTo ZoneId="818" XYZ="0.1938559, -276.906, 269.1127"/>
        <TalkTo NpcId="1027772" XYZ="5.386414, -276.906, 271.5953" InteractDistance="8.0" QuestId="69189" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69189) == 2">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="0.9235325, -276.906, 262.4896"/>
        </If>
        <UseObject NpcId="2010147" XYZ="1.51062, -276.936, 261.6464" QuestId="69189" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69189) == 3">
        <GetTo ZoneId="818" XYZ="0.06965434, -276.906, 269.3676"/>
        <TalkTo NpcId="1027772" XYZ="5.386414, -276.906, 271.5953" InteractDistance="8.0" QuestId="69189" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69189) == 4">
        <GetTo ZoneId="818" XYZ="314.424, -274.1735, 658.7684"/>
        <HandOver ItemId="2002676" NpcId="1027773" XYZ="316.4568, -274.1735, 653.6506" InteractDistance="8.0" QuestId="69189" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69189) == 5">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="286.3062, -274.1735, 671.0741"/>
        </If>
        <UseObject NpcId="2010148" XYZ="285.6946, -272.7856, 672.0225" QuestId="69189" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(69189) == 6">
        <GetTo ZoneId="818" XYZ="314.3522, -274.1735, 658.7352"/>
        <TalkTo NpcId="1027773" XYZ="316.4568, -274.1735, 653.6506" InteractDistance="8.0" QuestId="69189" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(69189) == 255">
        <GetTo ZoneId="818" XYZ="-240.5752, -266.0001, 441.9357"/>
        <TurnIn ItemId="2002677" QuestId="69189" NpcId="1030558" XYZ="-241.3215, -266.0001, 444.0833" RewardSlot="3"/>
        <LLDiscardItem ItemId="25186"/>
      </If>
    </If>
    <!-- Shadowbringers (Level 80) -->
    <If Condition="IsQuestCompleted(69189) and not HasQuest(69190) and not IsQuestCompleted(69190)">
      <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
      <If Condition="IsQuestAcceptQualified(69190)">
        <PickupQuest QuestId="69190" NpcId="1030557"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69190) &gt; 0">
      <If Condition="GetQuestStep(69190) == 1">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
        </If>
        <TalkTo NpcId="1030556" XYZ="-246.2959, -266.0001, 446.1891" QuestId="69190" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69190) == 2">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
        </If>
        <TalkTo NpcId="1030561" XYZ="-243.3967, -266.0001, 442.4657" QuestId="69190" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69190) == 3">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
        </If>
        <TalkTo NpcId="1030560" XYZ="-246.0212, -266.0001, 443.4729" QuestId="69190" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69190) == 4">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
        </If>
        <TalkTo NpcId="1030558" XYZ="-241.3215, -266.0001, 444.0833" QuestId="69190" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69190) == 5">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
        </If>
        <TalkTo NpcId="1030559" XYZ="-242.6642, -266.0001, 447.837" QuestId="69190" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(69190) == 6">
        <GetTo ZoneId="818" XYZ="-355.5938, -229.0648, 697.7014"/>
        <TalkTo NpcId="1030562" XYZ="-356.8628, -229.0648, 700.3433" QuestId="69190" StepId="6"/>
      </If>
      <If Condition="GetQuestStep(69190) == 7">
        <If Condition="not IsOnMap(818)">
          <GetTo ZoneId="818" XYZ="-421.7408, -229.0648, 844.2729"/>
        </If>
        <UserDialog QuestId="69190" StepId="7" IsBotContinueAllowed="True" DialogText="Please manually complete the dungeon Amaurot." />
      </If>
      <If Condition="GetQuestStep(69190) == 9">
        <If Condition="not IsOnMap(847)">
          <GetTo ZoneId="818" XYZ="-423.6298, -229.0648, 856.9341"/>
          <UseTransport InteractDistance="3.0" NpcId="1030575" XYZ="-422.8733, -229.0648, 859.4644"/>
        </If>
        <UserDialog QuestId="69190" StepId="9" IsBotContinueAllowed="True" DialogText="Please manually complete the trial The Dying Gasp." />
      </If>
      <If Condition="GetQuestStep(69190) == 11">
        <If Condition="not IsOnMap(844)">
          <GetTo ZoneId="819" XYZ="116.9591, 14.64905, 6.470417"/>
          <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        </If>
        <TalkTo NpcId="1030576" XYZ="-0.01531982, -7.450581E-09, -6.027344" QuestId="69190" StepId="11"/>
        <WaitWhile Condition="not GetQuestStep(69190) == 255"/>
      </If>
      <If Condition="GetQuestStep(69190) == 255">
        <If Condition="IsOnMap(842)">
          <UseTransport InteractDistance="3.0" NpcId="2010599" XYZ="-72.19049, 6.454529, 80.61328"/>
        </If>
        <GetTo ZoneId="156" XYZ="21.99846, 21.25272, -634.2601"/>
        <UseTransport InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
        <TurnIn QuestId="69190" NpcId="1031257" XYZ="-2.426208, 7.450581E-09, -9.10968"/>
        <UseInventoryItem ItemIds="27904, 23992"/>
      </If>
    </If>

    <If Condition="IsQuestCompleted(69190)">
      <!-- The Tempest -->
      <If Condition="not IsAetherCurrentCompleted(818, 8)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="818" XYZ="358.212, 396.552, -715.9" />
        <UseObject NpcId="2010074" XYZ="358.212, 396.552, -715.9" Condition="not IsAetherCurrentCompleted(818, 8)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(818, 7)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="818" XYZ="50.2051, 380.098, -512.073" />
        <UseObject NpcId="2010076" XYZ="50.2051, 380.098, -512.073" Condition="not IsAetherCurrentCompleted(818, 7)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(818, 6)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="818" XYZ="339.116, 298.717, -280.016" />
        <UseObject NpcId="2010079" XYZ="339.116, 298.717, -280.016" Condition="not IsAetherCurrentCompleted(818, 6)" />
      </If>
      <If Condition="not IsAetherCurrentCompleted(818, 5)">
        <!-- TODO: Verify pathing works -->
        <GetTo ZoneId="818" XYZ="-774.229, 63.1922, -97.7103" />
        <UseObject NpcId="2010083" XYZ="-774.229, 63.1922, -97.7103" Condition="not IsAetherCurrentCompleted(818, 5)" />
      </If>
    </If>

    <!-- (Patch 5.1) Shaken Resolve (Level 80) -->
    <If Condition="IsQuestCompleted(69190) and not HasQuest(69209) and not IsQuestCompleted(69209)">
      <If Condition="not IsOnMap(351)">
        <LisbethTravel ZoneId="156" XYZ="21.79132, 21.25273, -632.7344"/>
        <UseTransport InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69209)">
        <LLPickupQuest QuestId="69209" NpcId="1031257"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69209) &gt; 0">
      <If Condition="GetQuestStep(69209) == 1">
        <If Condition="not IsOnMap(156)">
          <If Condition="IsOnMap(351)">
            <UseTransport InteractDistance="3.0" NpcId="2002879" XYZ="-0.01531982, 2.975464, 27.48145"/>
          </If>
          <LisbethTravel ZoneId="156" XYZ="49.95147, 50, -774.6207"/>
        </If>
        <TalkTo NpcId="1018433" XYZ="50.76672, 50, -772.3964" QuestId="69209" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69209) == 2">
        <LisbethTravel ZoneId="156" XYZ="21.79132, 21.25273, -632.7344"/>
        <UseTransport InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
        <TalkTo NpcId="1032081" XYZ="-2.426208, 7.450581E-09, -9.10968" QuestId="69209" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69209) == 255">
        <GetTo ZoneId="819" XYZ="116.9591, 14.64905, 6.470417"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        <TurnIn QuestId="69209" NpcId="1032121" XYZ="0.04577637, 0, -5.539063" RewardSlot="4"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
    </If>
    <!-- A Grand Adventure (Level 80) -->
    <If Condition="IsQuestCompleted(69209) and not HasQuest(69210) and not IsQuestCompleted(69210)">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1030533" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69210)">
        <PickupQuest QuestId="69210" NpcId="1032121"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69210) &gt; 0">
      <TeleportTo AetheryteId="136" Name="The Ostall Imperative"/>
      <If Condition="GetQuestStep(69210) == 1">
        <FlyTo XYZ="-60.08709, 2.944966, 685.0726" Land="True"/>
        <TalkTo NpcId="1031726" XYZ="-116.8079, -0.6811357, 651.026" QuestId="69210" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69210) == 2">
        <UserDialog QuestId="69210" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete the dungeon The Grand Cosmos." />
      </If>
      <If Condition="GetQuestStep(69210) == 255">
        <TurnIn QuestId="69210" NpcId="1032451" XYZ="-113.3593, -0.6671538, 656.7941"/>
      </If>
    </If>
    <!-- A Welcome Guest (Level 80) -->
    <If Condition="IsQuestCompleted(69210) and not HasQuest(69211) and not IsQuestCompleted(69211)">
      <If Condition="not IsOnMap(813)">
        <TeleportTo AetheryteId="136" Name="The Ostall Imperative"/>
        <FlyTo XYZ="-118.3055, -0.6704141, 653.5891" Land="True"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69211)">
        <PickupQuest QuestId="69211" NpcId="1032451"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69211) &gt; 0">
      <If Condition="GetQuestStep(69211) == 1">
        <GetTo ZoneId="819" XYZ="116.9591, 14.64905, 6.470417"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        <WaitWhile Condition="not GetQuestStep(69211) == 2"/>
      </If>
      <If Condition="GetQuestStep(69211) == 2">
        <TalkTo NpcId="1032122" XYZ="2.182007, 0, -5.142395" QuestId="69211" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69211) == 3">
        <LisbethTravel Zone="815" Subzone="3129" Position="368.5159, -27.966, 304.7847"/>
        <TalkTo NpcId="1031732" XYZ="366.6895, -27.966, 305.1957" QuestId="69211" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69211) == 4">
        <UseItem ItemId="2002904" NpcIds="1027939,1027909,1027910" BlacklistAfter="True" QuestId="69211" StepId="4">
          <HotSpots>
            <HotSpot XYZ="415.854, -28.3578, 335.4391" Radius="10"/>
            <HotSpot XYZ="357.4731, -27.14587, 317.2808" Radius="10"/>
            <HotSpot XYZ="356.7101, -27.8172, 310.048" Radius="10"/>
          </HotSpots>
        </UseItem>
      </If>
      <If Condition="GetQuestStep(69211) == 255">
        <TurnIn QuestId="69211" NpcId="1031732" XYZ="366.6895, -27.966, 305.1957" RewardSlot="3"/>
      </If>
    </If>
    <!-- Good for the Soul (Level 80) -->
    <If Condition="IsQuestCompleted(69211) and not HasQuest(69212) and not IsQuestCompleted(69212)">
      <If Condition="not IsOnMap(815)">
        <LisbethTravel ZoneId="815" XYZ="369.8847, -27.966, 306.3198"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69212)">
        <PickupQuest QuestId="69212" NpcId="1031732"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69212) &gt; 0">
      <If Condition="GetQuestStep(69212) == 1">
        <LLTalkTo NpcId="1031732" XYZ="366.6895, -27.966, 305.1957" QuestId="69212" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69212) == 2">
        <LisbethTravel Zone="815" Subzone="3135" Position="-483.7581, 45.57822, -233.1999"/>
        <TalkTo NpcId="1031792" XYZ="-483.7873, 45.58319, -235.462" QuestId="69212" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69212) == 3">
        <LisbethTravel Zone="815" Subzone="3132" Position="-24.35408, 42.1549, -470.4574"/>
        <UseObject NpcIds="2010809,2010810,2010811" QuestId="69212" StepId="3">
          <HotSpots>
            <HotSpot XYZ="19.76038, 42.13013, -463.3402" Radius="10"/>
            <HotSpot XYZ="8.682312, 42.13013, -471.9463" Radius="10"/>
            <HotSpot XYZ="-16.9223, 42.28271, -470.4814" Radius="10"/>
          </HotSpots>
        </UseObject>
      </If>
      <If Condition="GetQuestStep(69212) == 4">
        <If Condition="Clio.Utilities.Vector3.Distance(Core.Player.Location, Vector3(30.72503, 42.06473, -469.505)) &lt; 30">
          <NoCombatMoveTo XYZ="30.72503, 42.06473, -469.505" UseMesh="False"/>
        </If>
        <LisbethTravel Zone="815" Subzone="3129" Position="368.5159, -27.966, 304.7847"/>
        <LLHandOver ItemId="2002905" NpcId="1031732" XYZ="366.6895, -27.966, 305.1957" QuestId="69212" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69212) == 255">
        <TurnIn QuestId="69212" NpcId="1031734" XYZ="364.5837, -27.966, 304.1274"/>
      </If>
    </If>
    <!-- Nowhere to Turn (Level 80) -->
    <If Condition="IsQuestCompleted(69212) and not HasQuest(69213) and not IsQuestCompleted(69213)">
      <If Condition="not IsOnMap(815)">
        <LisbethTravel ZoneId="815" XYZ="369.1272, -27.966, 305.0632"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69213)">
        <PickupQuest QuestId="69213" NpcId="1031736"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69213) &gt; 0">
      <If Condition="GetQuestStep(69213) == 1">
        <GetTo ZoneId="820" XYZ="19.98935, 82.05, 16.26546"/>
        <TalkTo NpcId="1031737" XYZ="20.95062, 82.05, 17.83771" QuestId="69213" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69213) == 255">
        <TurnIn QuestId="69213" NpcId="1031739" XYZ="-19.36377, 82.83509, -50.55316" RewardSlot="3"/>
      </If>
    </If>
    <!-- A Notable Absence (Level 80) -->
    <If Condition="IsQuestCompleted(69213) and not HasQuest(69214) and not IsQuestCompleted(69214)">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="-15.56506, 82.85881, -49.37396"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69214)">
        <PickupQuest QuestId="69214" NpcId="1031742"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69214) &gt; 0">
      <If Condition="GetQuestStep(69214) == 1">
        <If Condition="not IsTodoChecked(69214, 1, 0)">
          <TalkTo NpcId="1027544" XYZ="12.98535, 82.05, -25.22321" QuestId="69214"/>
        </If>
        <If Condition="not IsTodoChecked(69214, 1, 1)">
          <LisbethTravel ZoneId="820" XYZ="9.416018, 5.999989, -39.94751"/>
          <TalkTo NpcId="1029990" XYZ="11.36792, 5.999988, -38.65112" QuestId="69214" StepId="1"/>
        </If>
        <If Condition="not IsTodoChecked(69214, 1, 2)">
          <GetTo ZoneId="820" XYZ="71.4732, -10.32081, 5.330042"/>
          <TalkTo NpcId="1027602" XYZ="74.35718, -10.32081, 4.898132" QuestId="69214" StepId="1"/>
        </If>
      </If>
      <If Condition="GetQuestStep(69214) == 255">
        <GetTo ZoneId="820" XYZ="-3.467794, -5.095758, -95.3701"/>
        <TurnIn ItemIds="2002917,2002918,2002919" QuestId="69214" NpcId="1031746" XYZ="-4.043701, -5.09119, -98.19183"/>
      </If>
    </If>
    <!-- For the People (Level 80) -->
    <If Condition="IsQuestCompleted(69214) and not HasQuest(69215) and not IsQuestCompleted(69215)">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="-3.467794, -5.095758, -95.3701"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69215)">
        <PickupQuest QuestId="69215" NpcId="1031746"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69215) &gt; 0">
      <If Condition="GetQuestStep(69215) == 1">
        <LisbethTravel ZoneId="814" XYZ="-292.123, 18.09973, 402.4545"/>
        <TalkTo NpcId="1027306" XYZ="-294.9417, 18.10139, 403.5553" QuestId="69215" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69215) == 2">
        <TeleportTo AetheryteId="139" Name="Tomra"/>
        <FlyTo XYZ="-466.7465, 334.0526, -36.30074" Land="True"/>
        <TalkTo NpcId="1031751" XYZ="-468.7725, 334.0526, -35.05005" QuestId="69215" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69215) == 3">
        <FlyTo XYZ="-159.6505, 352.3582, -214.7704" Land="True"/>
        <TalkTo NpcId="1031753" XYZ="-159.1974, 352.3582, -212.5125" QuestId="69215" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69215) == 4">
        <TalkTo NpcId="1027462" XYZ="-121.8738, 352.3582, -191.0887" QuestId="69215" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69215) == 5">
        <FlyTo XYZ="-60.0807, 377.8434, -451.1637" Land="True"/>
        <TalkTo NpcId="1031748" XYZ="-61.4176, 378.349, -454.0322" QuestId="69215" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(69215) == 255">
        <TurnIn QuestId="69215" NpcId="1031760" XYZ="-60.04431, 377.9274, -451.6518" RewardSlot="4"/>
      </If>
    </If>
    <!-- Finding Good Help (Level 80) -->
    <If Condition="IsQuestCompleted(69215) and not HasQuest(69216) and not IsQuestCompleted(69216)">
      <If Condition="not IsOnMap(814)">
        <TeleportTo AetheryteId="139" Name="Tomra"/>
        <FlyTo XYZ="-60.0807, 377.8434, -451.1637" ArrivalTolerance="0.5" AllowedVariance="1.0" Land="True"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69216)">
        <PickupQuest QuestId="69216" NpcId="1031760"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69216) &gt; 0">
      <If Condition="GetQuestStep(69216) == 1">
        <FlyTo XYZ="-428.9155, 334.0526, -27.088" Land="True"/>
        <TalkTo NpcId="1031761" XYZ="-423.7888, 334.0526, -26.19977" QuestId="69216" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69216) == 2">
        <If Condition="not IsOnMap(814)">
          <TeleportTo AetheryteId="139" Name="Tomra"/>
          <FlyTo XYZ="-424.0846, 339.3427, -161.0342" Land="True"/>
        </If>
        <UserDialog QuestId="69216" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete the zoomie-zoom." />
      </If>
      <If Condition="GetQuestStep(69216) == 3">
        <If Condition="not IsOnMap(814)">
          <TeleportTo AetheryteId="139" Name="Tomra"/>
          <FlyTo XYZ="-424.0846, 339.3427, -161.0342" Land="True"/>
        </If>
        <TalkTo NpcId="1031765" XYZ="-418.9059, 339.968, -162.0356" QuestId="69216" StepId="3"/>
        <WaitWhile Condition="not GetQuestStep(69216) == 255"/>
      </If>
      <If Condition="GetQuestStep(69216) == 255">
        <TurnIn QuestId="69216" NpcId="1031769" XYZ="168.5968, 39.93927, 585.9006"/>
      </If>
    </If>
    <!-- Moving Forward (Level 80) -->
    <If Condition="IsQuestCompleted(69216) and not HasQuest(69217) and not IsQuestCompleted(69217)">
      <If Condition="not IsOnMap(814)">
        <TeleportTo AetheryteId="138" Name="Wright"/>
        <FlyTo XYZ="169.1707, 39.97182, 582.9985" Land="True"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69217)">
        <PickupQuest QuestId="69217" NpcId="1031770"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69217) &gt; 0">
      <If Condition="GetQuestStep(69217) == 1">
        <GetTo ZoneId="820" XYZ="1.40552, 82.83, 55.68695"/>
        <UseTransport InteractDistance="3.0" NpcId="1027549" XYZ="2.029419, 83.19524, 57.84692"/>
        <WaitWhile Condition="not GetQuestStep(69217) == 2"/>
      </If>
      <If Condition="GetQuestStep(69217) == 2">
        <TalkTo NpcId="1031777" XYZ="25.86401, 82.78213, 24.73486" QuestId="69217" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69217) == 255">
        <TurnIn QuestId="69217" NpcId="1031781" XYZ="24.24658, 82.78207, 25.77246"/>
        <UseInventoryItem ItemId="28886"/>
      </If>
    </If>
    <!-- Vows of Virtue, Deeds of Cruelty (Level 80) -->
    <If Condition="IsQuestCompleted(69217) and not HasQuest(69218) and not IsQuestCompleted(69218)">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="24.4129, 82.78712, 23.75041"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69218)">
        <PickupQuest QuestId="69218" NpcId="1031777"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69218) &gt; 0">
      <If Condition="GetQuestStep(69218) == 1">
        <GetTo ZoneId="819" XYZ="116.9591, 14.64905, 6.470417"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        <TalkTo NpcId="1032121" XYZ="0.04577637, 0, -5.539063" QuestId="69218" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69218) == 2">
        <LisbethTravel ZoneId="156" XYZ="21.79132, 21.25273, -632.7344"/>
        <UseTransport InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
        <MoveTo XYZ="-2.426208, 7.450581E-09, -9.10968"/>
        <UserDialog QuestId="69218" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete the solo duty Vows of Virtue, Deeds of Cruelty.\n\nEstinien vs. Arch Ultima" />
      </If>
      <If Condition="GetQuestStep(69218) == 255">
        <If Condition="not IsOnMap(351)">
          <LisbethTravel ZoneId="156" XYZ="21.79132, 21.25273, -632.7344"/>
          <UseTransport InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
        </If>
        <TurnIn QuestId="69218" NpcId="1032081" XYZ="-2.426208, 0, -9.10968"/>
      </If>
    </If>
    <!-- (Patch 5.2) Old Enemies, New Threats (Level 80) -->
    <If Condition="IsQuestCompleted(69218) and not HasQuest(69297) and not IsQuestCompleted(69297)">
      <If Condition="not IsOnMap(351)">
        <LisbethTravel ZoneId="156" XYZ="21.79132, 21.25273, -632.7344"/>
        <UseTransport InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69297)">
        <PickupQuest QuestId="69297" NpcId="1031783"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69297) &gt; 0">
      <If Condition="GetQuestStep(69297) == 1">
        <TeleportTo Name="The Ala Mhigan Quarter" AetheryteId="103"/>
        <FlyTo XYZ="730.4091, 70, 522.0273" Land="True"/>
        <TalkTo NpcId="1032495" XYZ="737.6364, 70, 515.0072" QuestId="69297" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69297) == 255">
        <TurnIn QuestId="69297" NpcId="1032494" XYZ="739.6504, 70, 514.2137"/>
      </If>
    </If>
    <!-- The Way Home (Level 80) -->
    <If Condition="IsQuestCompleted(69297) and not HasQuest(69298) and not IsQuestCompleted(69298)">
      <If Condition="not IsOnMap(621)">
        <TeleportTo Name="The Ala Mhigan Quarter" AetheryteId="103"/>
        <FlyTo XYZ="730.4091, 70, 522.0273" Land="True"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69298)">
        <PickupQuest QuestId="69298" NpcId="1032494"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69298) == 255">
      <GetTo ZoneId="819" XYZ="116.9591, 14.64905, 6.470417"/>
      <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      <TurnIn QuestId="69298" NpcId="1032121" XYZ="0.04577637, 0, -5.539063" RewardSlot="3"/>
    </If>
    <!-- Seeking Council (Level 80) -->
    <If Condition="IsQuestCompleted(69298) and not HasQuest(69299) and not IsQuestCompleted(69299)">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="116.9591, 14.64905, 6.470417"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69299)">
        <PickupQuest QuestId="69299" NpcId="1031722"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69299) &gt; 0">
      <If Condition="GetQuestStep(69299) == 1">
        <If Condition="IsOnMap(844)">
          <UseTransport NpcId="2009758" InteractDistance="3.0" XYZ="-0.009940993, 1.036532, 14.22064"/>
        </If>
        <GetTo ZoneId="819" XYZ="70.86713, -3.576279E-07, 11.81216"/>
        <LLTalkTo NpcId="1030370" XYZ="66.84973, -2.980232E-07, 13.32104" QuestId="69299" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69299) == 2">
        <LisbethTravel ZoneId="813" XYZ="765.7106, 21.38111, -9.558076"/>
        <TalkTo NpcId="1032648" XYZ="768.6426, 21.38111, -8.46875" QuestId="69299" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69299) == 3">
        <FlyTo XYZ="629.71, 94.35435, -642.8939" Land="True"/>
        <TalkTo NpcId="1032498" XYZ="628.6869, 94.38554, -645.9297" QuestId="69299" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69299) == 255">
        <TurnIn QuestId="69299" NpcId="1032502" XYZ="629.0836, 94.39156, -644.9836"/>
        <WaitWhile Condition="QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading or GetQuestStep(69299) == 255 or HasQuest(69299) or not IsQuestCompleted(69299)"/>
      </If>
    </If>
    <!-- Facing the Truth (Level 80) -->
    <If Condition="IsQuestCompleted(69299) and not HasQuest(69300) and not IsQuestCompleted(69300)">
      <If Condition="not IsOnMap(813)">
        <TeleportTo Name="Fort Jobb" AetheryteId="132"/>
        <FlyTo XYZ="629.71, 94.35435, -642.8939" Land="True"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69300)">
        <RunCode Name="69300_Manual_Pickup"/>
        <!-- <PickupQuest QuestId="69299" NpcId="1032502"/> -->
      </If>
    </If>
    <If Condition="GetQuestStep(69300) &gt; 0">
      <If Condition="GetQuestStep(69300) == 1">
        <If Condition="not IsOnMap(844)">
          <GetTo ZoneId="819" XYZ="116.9591, 14.64905, 6.470417"/>
          <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        </If>
        <TalkTo NpcId="1031722" XYZ="-1.785339, 0, -1.815857" QuestId="69300" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69300) == 2">
        <If Condition="GetQuestById(69300).GetTodoArgs(2, 0).Item1 == 0">
          <If Condition="IsOnMap(844)">
            <UseTransport NpcId="2009758" InteractDistance="3.0" XYZ="-0.01531982, 1.022339, 14.20605"/>
          </If>
          <GetTo ZoneId="819" XYZ="-11.83847, 20.1973, -138.0507"/>
          <TalkTo NpcId="1027232" XYZ="-9.323303, 20.1973, -136.5225" QuestId="69300"/>
        </If>
        <If Condition="GetQuestById(69300).GetTodoArgs(2, 0).Item1 == 1">
          <GetTo ZoneId="819" XYZ="-59.32186, -17.72201, -267.4998"/>
          <TalkTo NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="69300"/>
        </If>
        <If Condition="GetQuestById(69300).GetTodoArgs(2, 0).Item1 == 2">
          <GetTo ZoneId="819" XYZ="-21.13674, 3.999817, 201.5406"/>
          <TalkTo NpcId="1027322" XYZ="-20.12665, 3.999817, 204.2419" QuestId="69300"/>
        </If>
        <If Condition="GetQuestById(69300).GetTodoArgs(2, 0).Item1 == 3">
          <GetTo ZoneId="819" XYZ="-56.12126, -7.482001, 119.6164"/>
          <TalkTo NpcId="1027224" XYZ="-57.3587, -7.482, 118.0895" QuestId="69300"/>
        </If>
        <If Condition="GetQuestById(69300).GetTodoArgs(2, 0).Item1 == 4">
          <GetTo ZoneId="819" XYZ="-27.90649, -0.6500001, -49.13638"/>
          <TalkTo NpcId="1027248" XYZ="-30.80798, -0.6499991, -51.43823" QuestId="69300"/>
        </If>
      </If>
      <If Condition="GetQuestStep(69300) == 255">
        <GetTo ZoneId="819" XYZ="27.93359, 0, -3.469031"/>
        <TurnIn QuestId="69300" NpcId="1032503" XYZ="29.70923, 0, -0.869812" RewardSlot="3"/>
        <WaitWhile Condition="not IsOnMap(844) and (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and not IsQuestCompleted(69300)"/>
      </If>
    </If>
    <!-- A Sleep Disturbed (Level 80) -->
    <If Condition="IsQuestCompleted(69300) and not HasQuest(69301) and not IsQuestCompleted(69301)">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="116.9591, 14.64905, 6.470417"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69301)">
        <PickupQuest QuestId="69301" NpcId="1032121"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69301) &gt; 0">
      <If Condition="GetQuestStep(69301) == 1">
        <LisbethTravel ZoneId="817" XYZ="450.5695, 33.66181, -158.3505"/>
        <TalkTo NpcId="1032506" XYZ="453.0555, 33.66181, -156.9696" QuestId="69301" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69301) == 2">
        <FlyTo XYZ="837.7941, -65.0144, -383.1489" Land="True"/>
        <RunCode Name="Enable_SideStep"/>
        <If Condition="not DutyManager.InInstance">
          <LisbethTravel ZoneId="817" XYZ="842.5165, -65.28442, -386.158"/>
          <RunCode Name="DutyCommence"/>
        </If>
        <RunCode Name="69301_Statue_1"/>
        <RunCode Name="69301_Statue_2"/>
        <RunCode Name="69301_Statue_3"/>
        <RunCode Name="69301_Cards"/>
        <WaitWhile Condition="not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading)"/>
        <RunCode Name="Handle_Cutscene_Talking"/>
        <Grind grindRef="69301_Fight" while="NumAttackableEnemies(90, Array[int]([9296])) &gt; 0 and Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
        <If Condition="Core.Me.IsAlive and DutyManager.InInstance">
          <NoCombatMoveTo XYZ="100.013, 0, 109.9853" Distance="1" UseMesh="False"/>
        </If>
        <WaitWhile Condition="DutyManager.InInstance or not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading)"/>
        <RunCode Name="Handle_Cutscene_Talking"/>
      </If>
      <If Condition="GetQuestStep(69301) == 255">
        <LisbethTravel ZoneId="817" XYZ="450.1384, 33.66181, -157.8716"/>
        <TurnIn QuestId="69301" NpcId="1032506" XYZ="453.0555, 33.66181, -156.9696"/>
      </If>
    </If>
    <!-- An Old Friend (Level 80) -->
    <If Condition="IsQuestCompleted(69301) and not HasQuest(69302) and not IsQuestCompleted(69302)">
      <LisbethTravel ZoneId="817" XYZ="450.1384, 33.66181, -157.8716"/>
      <If Condition="IsQuestAcceptQualified(69302)">
        <PickupQuest QuestId="69302" NpcId="1029234"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69302) &gt; 0">
      <If Condition="GetQuestStep(69302) == 1">
        <LisbethTravel ZoneId="817" XYZ="-90.39153, -19.10068, 295.8217"/>
        <TalkTo NpcId="1032263" XYZ="-87.87671, -19.02213, 298.207" QuestId="69302" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69302) == 2">
        <TalkTo NpcId="1027750" XYZ="-24.73492, -25.32426, 305.5924" QuestId="69302" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69302) == 3">
        <HandOver ItemId="2002970" NpcId="1032513" XYZ="-37.06427, -18.91939, 334.2183" QuestId="69302" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69302) == 255">
        <FlyTo XYZ="-647.2557, 3.151937, 14.55785" Land="True"/>
        <TurnIn QuestId="69302" NpcId="1032515" XYZ="-642.2064, 3.113653, 16.86115" RewardSlot="4"/>
      </If>
    </If>
    <!-- Deep Designs (Level 80) -->
    <If Condition="IsQuestCompleted(69302) and not HasQuest(69303) and not IsQuestCompleted(69303)">
      <If Condition="not IsOnMap(817)">
        <TeleportTo Name="Slitherbough" AetheryteId="142"/>
        <FlyTo XYZ="-647.2557, 3.151937, 14.55785" Land="True"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69303)">
        <PickupQuest QuestId="69303" NpcId="1032518"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69303) &gt; 0">
      <If Condition="GetQuestStep(69303) == 1">
        <LisbethTravel ZoneId="818" XYZ="604.4395, 350.3518, -199.1049"/>
        <TalkTo NpcId="1027757" XYZ="609.7047, 350.3518, -197.9553" QuestId="69303" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69303) == 2">
        <!--<FlyTo XYZ="-269.6952, 397.645, -636.4206" Land="True"/>
        <NoCombatMoveTo XYZ="-424.974, 393.1136, -821.6449"/>-->
        <LisbethTravel Zone="818" Subzone="3196" Position="-427.6898, 392.8751, -821.2755"/>
        <UseObject NpcId="2010814" XYZ="-422.4766, 393.9115, -824.094" QuestId="69303" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69303) == 255">
        <LisbethTravel ZoneId="818" XYZ="605.8008, 350.3518, -197.6991"/>
        <If Condition="IsFendingClass()">
          <TurnIn ItemId="2002971" QuestId="69303" NpcId="1027757" XYZ="609.7047, 350.3518, -197.9553" RewardSlot="0"/>
          <RunCode name="Coffer"/>
          <AutoInventoryEquip/>
        </If>
        <If Condition="IsSlayingClass()">
          <TurnIn ItemId="2002971" QuestId="69303" NpcId="1027757" XYZ="609.7047, 350.3518, -197.9553" RewardSlot="1"/>
          <RunCode name="Coffer"/>
          <AutoInventoryEquip/>
        </If>
        <If Condition="IsAimingClass()">
          <TurnIn ItemId="2002971" QuestId="69303" NpcId="1027757" XYZ="609.7047, 350.3518, -197.9553" RewardSlot="2"/>
          <RunCode name="Coffer"/>
          <AutoInventoryEquip/>
        </If>
        <If Condition="IsHealingClass()">
          <TurnIn ItemId="2002971" QuestId="69303" NpcId="1027757" XYZ="609.7047, 350.3518, -197.9553" RewardSlot="3"/>
          <RunCode name="Coffer"/>
          <AutoInventoryEquip/>
        </If>
        <If Condition="IsCastingClass()">
          <TurnIn ItemId="2002971" QuestId="69303" NpcId="1027757" XYZ="609.7047, 350.3518, -197.9553" RewardSlot="4"/>
          <RunCode name="Coffer"/>
          <AutoInventoryEquip/>
        </If>
        <If Condition="HasQuest(69303) and GetQuestStep(69303) == 255">
          <TurnIn ItemId="2002971" QuestId="69303" NpcId="1027757" XYZ="609.7047, 350.3518, -197.9553" RewardSlot="4"/>
        </If>
      </If>
    </If>
    <!-- A Whales Tale (Level 80) -->
    <If Condition="IsQuestCompleted(69303) and not HasQuest(69304) and not IsQuestCompleted(69304)">
      <LisbethTravel ZoneId="818" XYZ="605.8008, 350.3518, -197.6991"/>
      <If Condition="IsQuestAcceptQualified(69304)">
        <PickupQuest QuestId="69304" NpcId="1032526"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69304) &gt; 0">
      <If Condition="GetQuestStep(69304) == 1">
        <TeleportTo Name="Fort Jobb" AetheryteId="132"/>
        <FlyTo XYZ="-233.2842, 1.271141, 741.8369" Land="True"/>
        <TalkTo NpcId="1032528" XYZ="-270.985, -0.8257378, 723.9642" QuestId="69304" StepId="1"/>
        <WaitWhile Condition="not ObjectExistsWithId(1030333)"/>
      </If>
      <If Condition="GetQuestStep(69304) == 2">
        <TalkTo NpcId="1030333" XYZ="-612.2377, 27.72863, 817.6547" QuestId="69304" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69304) == 3">
        <FlyTo XYZ="-641.3745, -33.33823, 732.0881"/>
        <RunCode Name="69304"/>
      </If>
      <If Condition="GetQuestStep(69304) == 4">
        <FlyTo XYZ="-598.4719, 41.2872, 694.2887" Land="False"/>
        <FlyTo XYZ="-609.1523, 27.72855, 819.4171" Land="True"/>
        <TalkTo NpcId="1030333" XYZ="-612.2377, 27.72863, 817.6547" QuestId="69304" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69304) == 5">
        <TalkTo NpcId="1032531" XYZ="-130.9072, 9.572956, 697.6882" QuestId="69304" StepId="5"/>
      </If>
      <If Condition="GetQuestStep(69304) == 255">
        <FlyTo XYZ="236.0533, 5.879897, 556.0918" Land="True"/>
        <TurnIn QuestId="69304" NpcId="1032554" XYZ="237.7202, 5.693582, 552.1781" RewardSlot="2"/>
        <LLDiscardItem ItemId="26730"/>
      </If>
    </If>
    <!-- Beneath the Surface (Level 80) -->
    <If Condition="IsQuestCompleted(69304) and not HasQuest(69305) and not IsQuestCompleted(69305)">
      <If Condition="not IsOnMap(813)">
        <TeleportTo Name="Fort Jobb" AetheryteId="132"/>
        <FlyTo XYZ="236.0533, 5.879897, 556.0918" Land="True"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69305)">
        <PickupQuest QuestId="69305" NpcId="1032555"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69305) &gt; 0">
      <If Condition="GetQuestStep(69305) == 1">
        <TeleportTo Name="Wright" AetheryteId="138"/>
        <FlyTo XYZ="-534.7473, 63.269, 731.143" Land="True"/>
        <TalkTo NpcId="1032539" XYZ="-534.1726, 63.55954, 735.1339" QuestId="69305" StepId="1"/>
      </If>
      <If Condition="GetQuestStep(69305) == 2">
        <If Condition="not IsOnMap(813)">
          <TeleportTo Name="Wright" AetheryteId="138"/>
          <FlyTo XYZ="-538.424, 63.73028, 737.2299" Land="True"/>
          <NoCombatMoveTo XYZ="-538.424, 63.73028, 737.2299" UseMesh="False"/>
        </If>
        <LLoadProfile Path="Dungeons/Shadowbringers/80 Anamnesis Anyder.xml"/>
      </If>
      <If Condition="GetQuestStep(69305) == 255">
        <TurnIn QuestId="69305" NpcId="1032549" XYZ="-1.907471, -200, -425.1011"/>
        <WaitWhile Condition="not IsOnMap(814) or QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading"/>
      </If>
    </If>
    <!-- Echoes of the Fallen Star (Level 80) -->
    <If Condition="IsQuestCompleted(69305) and not HasQuest(69306) and not IsQuestCompleted(69306)">
      <If Condition="not IsOnMap(814)">
        <TeleportTo Name="Wright" AetheryteId="138"/>
        <FlyTo XYZ="-534.7473, 63.269, 731.143" Land="True"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69306)">
        <PickupQuest QuestId="69306" NpcId="1032539"/>
        <WaitWhile Condition="not IsOnMap(819) or QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69306) &gt; 0">
      <If Condition="GetQuestStep(69306) == 2">
        <TalkTo NpcId="1032529" XYZ="5.53894, 0.01941725, -0.5036011" QuestId="69306" StepId="2"/>
      </If>
      <If Condition="GetQuestStep(69306) == 3">
        <GetTo ZoneId="819" XYZ="56.25704, 36.19769, -166.1957"/>
        <TalkTo NpcId="1032558" XYZ="56.90088, 36.19769, -169.2379" QuestId="69306" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69306) == 4">
        <If Condition="not IsOnMap(844)">
          <GetTo ZoneId="819" XYZ="116.9591, 14.64905, 6.470417"/>
          <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
        </If>
        <TalkTo NpcId="1032121" XYZ="0.04577637, 0, -5.539063" QuestId="69306" StepId="4"/>
      </If>
      <If Condition="GetQuestStep(69306) == 255">
        <If Condition="not IsOnMap(819)">
          <If Condition="IsOnMap(844)">
            <UseTransport InteractDistance="3.0" NpcId="2009758" XYZ="-0.009940993, 1.036532, 14.22064"/>
          </If>
          <GetTo ZoneId="819" XYZ="62.21481, 1.7078, 246.8012"/>
        </If>
        <LLTurnIn QuestId="69306" NpcId="1030610" XYZ="65.11023, 1.716012, 249.7749"/>
      </If>
    </If>
    <!-- In the Name of the Light (Level 80) -->
    <If Condition="IsQuestCompleted(69306) and not HasQuest(69307) and not IsQuestCompleted(69307)">
      <GetTo ZoneId="819" XYZ="62.62177, 1.716012, 249.2641"/>
      <If Condition="IsQuestAcceptQualified(69307)">
        <PickupQuest QuestId="69307" NpcId="1027231"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69307) == 1">
      <GetTo ZoneId="819" XYZ="-59.76872, -17.722, -267.9854"/>
      <TalkTo NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="69307" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69307) == 2">
      <GetTo ZoneId="819" XYZ="-80.53, -36.72638, -276"/>
      <LLTalkTo NpcId="1033794" XYZ="-81.28485, -36.75, -277.7906" QuestId="69307" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69307) == 3">
      <GetTo ZoneId="819" XYZ="-29.32041, -0.6499991, -53.45641"/>
      <TalkTo NpcId="1027248" XYZ="-30.80798, -0.6499991, -51.43823" QuestId="69307" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69307) == 4">
      <GetTo ZoneId="819" XYZ="-148.9878, 0, 132.4459"/>
      <TalkTo NpcId="1028335" XYZ="-146.6545, 1.490116E-08, 132.6161" QuestId="69307" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69307) == 5">
      <GetTo ZoneId="819" XYZ="-142.6547, 0, 165.5506"/>
      <UseObject NpcIds="2011071, 2011072, 2011073" Radius="25" QuestId="69307" StepId="5" Condition="HasQuest(69307) and GetQuestStep(69307) == 5 and GetQuestById(69307).GetTodoArgs(2, 0).Item1 &lt; 3">
        <HotSpots>
          <HotSpot XYZ="-137.4685, 1.266479, 166.6743" Radius="20"/>
          <HotSpot XYZ="-139.3302,0.9917603,167.6509" Radius="20"/>
          <HotSpot XYZ="-142.2904,1.052795,173.3882" Radius="20"/>
        </HotSpots>
      </UseObject>
    </If>
    <If Condition="GetQuestStep(69307) == 6">
      <GetTo ZoneId="819" XYZ="-142.1019, 0, 161.6278"/>
      <HandOver ItemId="2003000" NpcId="1033805" XYZ="-142.197, 0, 159.7275" QuestId="69307" StepId="6"/>
    </If>
    <If Condition="GetQuestStep(69307) == 255">
      <GetTo ZoneId="819" XYZ="-29.38999, -0.6500001, -49.3894"/>
      <TurnIn QuestId="69307" NpcId="1027248" XYZ="-30.80798, -0.6499991, -51.43823"/>
    </If>
    <!-- Heroic Dreams (Level 80) -->
    <If Condition="IsQuestCompleted(69307) and not HasQuest(69308) and not IsQuestCompleted(69308)">
      <If Condition="IsQuestAcceptQualified(69308)">
        <PickupQuest QuestId="69308" NpcId="1033800"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69308) == 1">
      <LisbethTravel ZoneId="813" XYZ="762.5529, 25.87214, 417.0964"/>
      <TalkTo NpcId="1033807" XYZ="761.2573, 25.95656, 417.9902" QuestId="69308" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69308) == 2 and GetQuestById(69308).GetTodoArgs(2, 0).Item1 == 0">
      <FlyTo ZoneId="813" XYZ="686.146, 6.878385, 496.3295" land="True"/>
      <SoUseItem ItemId="2003001" InCombat="False" NpcIds="2011079" XYZ="685.5725, 6.881775, 497.1235" Radius="25" QuestId="69308" StepId="2" Condition="GetQuestStep(69308) == 2 and GetQuestById(69308).GetTodoArgs(2, 0).Item1 == 0" UseTimes="1" BlacklistAfter="true"/>
      <WaitTimer WaitTime="3"/>
      <WaitWhile Condition="GetQuestStep(69308) == 2 and GetQuestById(69308).GetTodoArgs(2, 0).Item1 == 0"/>
    </If>
    <If Condition="GetQuestStep(69308) == 2 and GetQuestById(69308).GetTodoArgs(2, 0).Item1 == 1">
      <FlyTo ZoneId="813" XYZ="753.6814, 16.05424, 276.0833" land="True"/>
      <SoUseItem ItemId="2003001" InCombat="False" NpcIds="2011078" XYZ="754.4517, 15.88458, 273.8842" Radius="25" QuestId="69308" StepId="2" Condition="GetQuestStep(69308) == 2 and GetQuestById(69308).GetTodoArgs(2, 0).Item1 == 1" UseTimes="1" BlacklistAfter="true"/>
      <WaitTimer WaitTime="3"/>
      <WaitWhile Condition="GetQuestStep(69308) == 2 and GetQuestById(69308).GetTodoArgs(2, 0).Item1 == 1"/>
    </If>
    <If Condition="GetQuestStep(69308) == 2 and GetQuestById(69308).GetTodoArgs(2, 0).Item1 == 2">
      <FlyTo XYZ="495.4756, 10.2998, 290.547" land="True"/>
      <SoUseItem ItemId="2003001" InCombat="False" NpcIds="2011076" XYZ="495.4756, 10.2998, 290.547" Radius="25" QuestId="69308" StepId="2" Condition="GetQuestStep(69308) == 2 and GetQuestById(69308).GetTodoArgs(2, 0).Item1 == 2" UseTimes="1" BlacklistAfter="true"/>
      <WaitTimer WaitTime="3"/>
      <WaitWhile Condition="GetQuestStep(69308) == 2 and GetQuestById(69308).GetTodoArgs(2, 0).Item1 == 2"/>
    </If>
    <If Condition="GetQuestStep(69308) == 3">
      <LisbethTravel ZoneId="813" XYZ="765.5645, 25.74815, 417.2639"/>
      <TalkTo NpcId="1033808" XYZ="763.9734, 25.8747, 419.5162" QuestId="69308" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69308) == 4">
      <GetTo ZoneId="819" XYZ="-195.1976, 0, -81.9381"/>
      <RunCode Name="69308_Move"/>
      <UseObject NpcIds="2011107" XYZ="-223.1328, 38.59009, -86.80859" Radius="25" QuestId="69308" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69308) == 255">
      <TurnIn QuestId="69308" NpcId="1033811" XYZ="-208.1179, 38.64859, -82.65814" RewardSlot="3"/>
    </If>
    <!-- Fraying Threads (Level 80) -->
    <If Condition="IsQuestCompleted(69308) and not HasQuest(69309) and not IsQuestCompleted(69309)">
      <GetTo ZoneId="819" XYZ="-209.3127, 38.61478, -84.20652"/>
      <If Condition="IsQuestAcceptQualified(69309)">
        <PickupQuest QuestId="69309" NpcId="1033812"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69309) == 1">
      <RunCode Name="69309_Move"/>
      <GetTo ZoneId="819" XYZ="-30.53413, -0.6500001, -45.23461"/>
      <TalkTo NpcId="1034900" XYZ="-32.79169, -0.6250627, -44.66321" QuestId="69309" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69309) == 2">
      <If Condition="not IsOnMap(351)">
        <LisbethTravel ZoneId="156" XYZ="21.13373, 22.32391, -631.281"/>
        <UseTransport NpcId="2002881" InteractDistance="3.5" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <TalkTo InteractDistance="3.0" QuestId="69309" StepId="2" NpcId="1032081" XYZ="-2.426208, 7.450581E-09, -9.10968"/>
    </If>
    <If Condition="GetQuestStep(69309) == 3">
      <UseObject NpcIds="2011080" XYZ="-11.39856, 1.449585, -6.942932" Radius="25" QuestId="69309" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69309) == 255">
      <FlyTo ZoneId="351" XYZ="-0.8783, 0, -7.3048"/>
      <If Condition="IsFendingClass()">
        <TurnIn QuestId="69309" NpcId="1033817" XYZ="-3.03656, 0.01804012, -8.1026" RewardSlot="0"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
      <If Condition="IsMaimingClass()">
        <TurnIn QuestId="69309" NpcId="1033817" XYZ="-3.03656, 0.01804012, -8.1026" RewardSlot="1"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
      <If Condition="IsStrikingClass()">
        <TurnIn QuestId="69309" NpcId="1033817" XYZ="-3.03656, 0.01804012, -8.1026" RewardSlot="2"/>
        <RunCode name="Coffer"/>
        <AutoInventoryEquip/>
      </If>
      <If Condition="HasQuest(69309) and GetQuestStep(69309) == 255">
        <TurnIn QuestId="69309" NpcId="1033817" XYZ="-3.03656, 0.01804012, -8.1026"/>
      </If>
    </If>
    <!-- Food for the Soul (Level 80) -->
    <If Condition="IsQuestCompleted(69309) and not HasQuest(69310) and not IsQuestCompleted(69310)">
      <If Condition="not IsOnMap(351)">
        <LisbethTravel ZoneId="156" XYZ="21.13373, 22.32391, -631.281"/>
        <UseTransport NpcId="2002881" InteractDistance="3.5" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69310)">
        <PickupQuest QuestId="69310" NpcId="1032081"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69310) == 1">
      <LisbethTravel ZoneId="156" XYZ="26.31203, 50.99997, -815.195"/>
      <TalkTo NpcId="1033818" XYZ="24.55164, 50.99997, -815.1827" QuestId="69310" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69310) == 2">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="117.4849, 14.64903, 7.150046"/>
        <UseTransport NpcId="1027230" InteractDistance="3.5" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <HandOver ItemId="2003003" QuestId="69310" StepId="2" NpcId="1033819" XYZ="-0.01531982, -7.450581E-09, -4.043701"/>
    </If>
    <If Condition="GetQuestStep(69310) == 255">
      <GetTo ZoneId="819" XYZ="42.6882, -5.960464E-08, 0.0258"/>
      <If Condition="IsAimingClass()">
        <TurnIn QuestId="69310" NpcId="1033822" XYZ="39.6886, 7.450581E-09, -0.8392944" RewardSlot="0"/>
      </If>
      <If Condition="ClassName == ClassJobType.Ninja">
        <TurnIn QuestId="69310" NpcId="1033822" XYZ="39.6886, 7.450581E-09, -0.8392944" RewardSlot="1"/>
      </If>
      <If Condition="IsHealingClass()">
        <TurnIn QuestId="69310" NpcId="1033822" XYZ="39.6886, 7.450581E-09, -0.8392944" RewardSlot="2"/>
      </If>
      <If Condition="IsCastingClass()">
        <TurnIn QuestId="69310" NpcId="1033822" XYZ="39.6886, 7.450581E-09, -0.8392944" RewardSlot="3"/>
      </If>
      <If Condition="HasQuest(69310) and GetQuestStep(69310) == 255">
        <TurnIn QuestId="69310" NpcId="1033822" XYZ="39.6886, 7.450581E-09, -0.8392944" RewardSlot="4"/>
      </If>
      <WaitWhile Condition="not IsQuestCompleted(69310) and (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading)"/>
      <WaitTimer WaitTime="5"/>
    </If>
    <!-- Faded Memories (Level 80) -->
    <If Condition="IsQuestCompleted(69310) and not HasQuest(69311) and not IsQuestCompleted(69311)">
      <RunCode name="Coffer"/>
      <AutoInventoryEquip/>
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="44.30539, 0, 1.387627"/>
      </If>
      <If Condition="IsQuestAcceptQualified(69311) and not HasQuest(69311)">
        <RunCode Name="69311_Manual_Pickup"/>
        <!-- <PickupQuest NpcId="1033823" QuestId="69310"/> -->
      </If>
    </If>
    <If Condition="GetQuestStep(69311) == 1">
      <If Condition="not IsOnMap(814)">
        <TeleportTo Name="Wright" AetheryteId="138"/>
      </If>
      <FlyTo XYZ="-495.079, 8.986954, 604.2725"/>
      <LLTalkTo InteractDistance="3.0" QuestId="69311" StepId="1" NpcId="1033827" XYZ="-495.079, 8.986954, 604.2725"/>
      <WaitWhile Condition="(GetQuestStep(69311) == 2 or GetQuestStep(69311) == 1) and (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading)"/>
    </If>
    <If Condition="GetQuestStep(69311) == 3">
      <RunCode Name="Enable_SideStep"/>
      <If Condition="not DutyManager.InInstance">
        <If Condition="not IsOnMap(918) and not IsOnMap(898)">
          <LogMessage Message="Get to Anamnesis Anyder and restart the profile."/>
          <StopBot/>
        </If>
        <If Condition="IsOnMap(898)">
          <RunCode Name="DutyCommence"/>
        </If>
      </If>
      <MoveTo XYZ="-110.1903, -283.1755, 229.2498"/>
      <RunCode Name="Wait_For_Enemies"/>
      <Grind grindRef="69311_Scion_Fight" while="NumAttackableEnemies(90, Array[int]([5573,9666,8378,9348])) &gt; 0 and Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
      <RunCode Name="69311_TalkTo_Elidibus"/>
      <MoveTo XYZ="-125.848, -281.1093, 175.7643" Distance="1"/>
      <RunCode Name="Wait_For_Enemies"/>
      <Grind grindRef="69311_Garlean_Fight" while="NumAttackableEnemies(90, Array[int]([2135,2160,2118,2136])) &gt; 0 and Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
      <MoveTo XYZ="-183.7623, -281.1093, 201.4892" Distance="1"/>
      <RunCode Name="Wait_For_Enemies"/>
      <Grind grindRef="69311_Braves_Fight" while="NumAttackableEnemies(90, Array[int]([9671,9672,9674])) &gt; 0 and Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
      <MoveTo XYZ="-185.8141, -281.1093, 254.3868"/>
      <RunCode Name="69311_TalkTo_Elidibus"/>
      <WaitTimer WaitTime="15"/>
      <MoveTo XYZ="-251.1172, -266.0001, 309.76"/>
      <RunCode Name="Wait_For_Enemies"/>
      <Grind grindRef="69311_Thordan_Fight" while="NumAttackableEnemies(90, Array[int]([3633,3639,3632,3642])) &gt; 0 and Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
      <MoveTo XYZ="-143.0925, -266.0001, 357.7344"/>
      <RunCode Name="Wait_For_Enemies"/>
      <Grind grindRef="69311_GrandMelee_Fight" while="NumAttackableEnemies(90, Array[int]([9675,7869,4739])) &gt; 0 and Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
      <MoveTo XYZ="-238.3472, -266.0001, 438.203"/>
      <RunCode Name="Wait_For_Enemies"/>
      <Grind grindRef="69311_Nidhogg_Fight" while="Core.Me.InCombat and Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
      <MoveTo XYZ="-270.2758, -266.0001, 448.6875"/>
      <MoveTo XYZ="-298.0247, -244.7374, 514.3093"/>
      <RunCode Name="69311_TalkTo_Elidibus"/>
      <MoveTo XYZ="-310.4903, -244.7376, 538.1912"/>
      <MoveTo XYZ="-328.4694, -229.1866, 583.8859"/>
      <MoveTo XYZ="-333.2404, -229.1863, 602.3821"/>
      <RunCode Name="Wait_For_Enemies"/>
      <Grind grindRef="69311_Steppe_Fight" while="NumAttackableEnemies(90, Array[int]([9676,5576,9677])) &gt; 0 and Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
      <MoveTo XYZ="-296.544, -229.1864, 615.466"/>
      <RunCode Name="Wait_For_Enemies"/>
      <Grind grindRef="69311_Doma_Fight" while="NumAttackableEnemies(90, Array[int]([6148,9678])) &gt; 0 and Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
      <MoveTo XYZ="-317.2593, -229.1862, 611.8515"/>
      <RunCode Name="Wait_For_Enemies"/>
      <Grind grindRef="69311_Zenos_Fight" while="NumAttackableEnemies(90, Array[int]([6042,6041,6040])) &gt; 0 and Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
      <RunCode Name="69311_TalkTo_Elidibus"/>
      <WaitWhile Condition="not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading)"/>
      <RunCode Name="Handle_Cutscene_Talking"/>
      <RunCode Name="Wait_For_Enemies"/>
      <Grind grindRef="69311_Ardbert_Fight" while="Core.Me.IsAlive and DutyManager.InInstance and not (QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading) and (Core.Player.CurrentHealth > (Core.Player.CurrentHealth * 0.15))"/>
      <RunCode Name="Handle_Cutscene_Talking"/>
    </If>
    <If Condition="GetQuestStep(69311) == 255">
      <LisbethTravel ZoneId="818" XYZ="-394.68, -229.0648, 785.78"/>
      <TurnIn QuestId="69311" NpcId="1033828" XYZ="-396.2005, -229.0648, 782.9861"/>
    </If>
    <!-- Etched in the Stars (Level 80) -->
    <If Condition="IsQuestCompleted(69311) and not HasQuest(69312) and not IsQuestCompleted(69312)">
      <LisbethTravel ZoneId="818" XYZ="-382.9828, -229.0648, 756.7049"/>
      <If Condition="IsQuestAcceptQualified(69312)">
        <PickupQuest QuestId="69312" NpcId="2011087"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69312) == 1">
      <LisbethTravel ZoneId="818" XYZ="-373.2555, -229.0648, 714.4229"/>
      <UseObject NpcIds="2011089" XYZ="-372.0399, -229.0648, 712.4863" Radius="25" QuestId="69312" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69312) == 2">
      <LisbethTravel ZoneId="818" XYZ="-255.5676, -229.1427, 657.2445"/>
      <UseObject NpcIds="2011091" XYZ="-251.9112, -229.2058, 657.3739" Radius="25" QuestId="69312" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69312) == 3">
      <LisbethTravel ZoneId="818" XYZ="-198.6291, -244.8778, 678.9613"/>
      <UseObject NpcIds="2011093" XYZ="-196.1242, -244.892, 679.9878" Radius="25" QuestId="69312" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69312) == 4">
      <LisbethTravel ZoneId="818" XYZ="-132.865, -244.8778, 687.4489"/>
      <UseObject NpcIds="2011095" XYZ="-132.1889, -244.892, 687.9529" Radius="25" QuestId="69312" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69312) == 5">
      <LisbethTravel ZoneId="818" XYZ="-72.19846, -263.9172, 710.0742"/>
      <UseObject NpcIds="2011097" XYZ="-70.78668, -263.9353, 710.2921" Radius="25" QuestId="69312" StepId="5"/>
    </If>
    <If Condition="GetQuestStep(69312) == 6">
      <LisbethTravel ZoneId="818" XYZ="-31.11886, -263.9172, 717.0083"/>
      <UseObject NpcIds="2011099" XYZ="-29.22101, -263.9353, 717.2808" Radius="25" QuestId="69312" StepId="6"/>
    </If>
    <If Condition="GetQuestStep(69312) == 255">
      <LisbethTravel ZoneId="814" XYZ="-497.93, 8.986959, 586.94"/>
      <TurnIn QuestId="69312" NpcId="1033829" XYZ="-497.9477, 8.986913, 584.1915" RewardSlot="4"/>
    </If>
    <!-- The Converging Light (Level 80) -->
    <If Condition="IsQuestCompleted(69312) and not HasQuest(69313) and not IsQuestCompleted(69313)">
      <LisbethTravel ZoneId="814" XYZ="-497.9477, 8.986913, 584.1915"/>
      <If Condition="IsQuestAcceptQualified(69313)">
        <PickupQuest NpcId="1033829" QuestId="69313"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69313) == 1">
      <GetTo ZoneId="820" XYZ="10.46103, 82.05, 7.428387"/>
      <TalkTo NpcId="1033838" XYZ="12.9549, 82.05, 7.095398" QuestId="69313" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69313) == 2">
      <TalkTo NpcId="1033830" XYZ="23.81927, 82.05, 16.34241" QuestId="69313" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69313) == 3">
      <UserDialog QuestId="69313" StepId="3" IsBotContinueAllowed="True" DialogText="Please manually complete the dungeon The Heroes' Gauntlet." />
    </If>
    <If Condition="GetQuestStep(69313) == 5">
      <FlyTo ZoneId="813" XYZ="289.5783, 10.08115, 151.0817"/>
      <TalkTo NpcId="1033850" XYZ="291.493, 9.905236, 153.2157" QuestId="69313" StepId="5"/>
    </If>
    <If Condition="GetQuestStep(69313) == 6">
      <FlyTo ZoneId="813" XYZ="572.9271, 8.706078, 336.0672"/>
      <TalkTo NpcId="1033852" XYZ="574.9751, 8.563855, 336.8734" QuestId="69313" StepId="6"/>
    </If>
    <If Condition="GetQuestStep(69313) == 255">
      <GetTo ZoneId="819" XYZ="59.98315, -3.054738E-07, 1.602173"/>
      <TurnIn QuestId="69313" NpcId="1033854" XYZ="59.98315, -3.054738E-07, 1.602173"/>
    </If>
    <!-- Hope's Confluence (Level 80) -->
    <If Condition="IsQuestCompleted(69313) and not HasQuest(69314) and not IsQuestCompleted(69314)">
      <GetTo ZoneId="819" XYZ="59.98315, -3.054738E-07, 1.602173"/>
      <If Condition="IsQuestAcceptQualified(69314)">
        <LLPickupQuest NpcId="1033854" QuestId="69314"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69314) == 2">
      <UserDialog QuestId="69314" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete the trial The Seat of Sacrifice." />
    </If>
    <If Condition="GetQuestStep(69314) == 255">
      <TurnIn QuestId="69314" NpcId="1033856" XYZ="53.42175, 0.01941726, -0.04577637"/>
    </If>
    <!-- Nothing Unsaid (Level 80) -->
    <If Condition="IsQuestCompleted(69314) and not HasQuest(69315) and not IsQuestCompleted(69315)">
      <GetTo ZoneId="819" XYZ="53.26917, -2.905726E-07, 1.419067"/>
      <If Condition="IsQuestAcceptQualified(69315)">
        <PickupQuest QuestId="69315" NpcId="1033860"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69315) == 1">
      <TalkTo NpcId="1034902" XYZ="51.28552, -2.607703E-07, -1.480164" QuestId="69315" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69315) == 2">
      <If Condition="not IsOnMap(815)">
        <TeleportTo AetheryteId="161" Name="The Inn at Journey's Head"/>
      </If>
      <FlyTo XYZ="386.962, -28.36043, 322.2568" Land="True"/>
      <TalkTo NpcId="1033864" XYZ="384.6035, -28.36043, 322.5604" QuestId="69315" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69315) == 3">
      <FlyTo XYZ="251.7905, -46.62462, 336.0335" Land="True"/>
      <TalkTo NpcId="1033865" XYZ="251.8501, -46.66753, 336.9039" QuestId="69315" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69315) == 4">
      <TalkTo NpcId="1033867" XYZ="253.2844, -46.5711, 337.0259" QuestId="69315" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69315) == 5">
      <If Condition="not IsOnMap(820)">
        <TeleportTo Name="Eulmore" AetheryteId="134"/>
      </If>
      <WaitWhile Condition="not GetQuestStep(69315) == 255 or QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading"/>
    </If>
    <If Condition="GetQuestStep(69315) == 255">
      <FlyTo XYZ="19.3978, 82.78207, 46.4575" Land="True"/>
      <TurnIn QuestId="69315" NpcId="1033868" XYZ="19.57727, 82.78207, 48.53894"/>
    </If>
    <!-- The Journey Continues (Level 80) -->
    <If Condition="IsQuestCompleted(69315) and not HasQuest(69316) and not IsQuestCompleted(69316)">
      <GetTo ZoneId="820" XYZ="19.57727, 82.78207, 48.53894"/>
      <If Condition="IsQuestAcceptQualified(69316)">
        <PickupQuest QuestId="69316" NpcId="1033868"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69316) == 1">
      <If Condition="not IsOnMap(816)">
        <TeleportTo AetheryteId="144" Name="Lydha Lran"/>
      </If>
      <LisbethTravel Zone="816" Subzone="3150" Position="-608.787, 36.33177, -224.7607"/>
      <TalkTo NpcId="1033872" XYZ="-634.2717, 35.86156, -234.2108" QuestId="69316" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69316) == 2">
      <FlyTo XYZ="449.2618, 87.34377, -693.7781" Land="True"/>
      <LLHandOver ItemId="2003004" NpcId="1027690" XYZ="452.9945, 87.48281, -691.9814" QuestId="69316" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69316) == 255">
      <FlyTo XYZ="-634.3483, 35.86156, -232.9583" Land="True"/>
      <TurnIn QuestId="69316" NpcId="1033872" XYZ="-634.2717, 35.86156, -234.2108" RewardSlot="3"/>
    </If>
    <!-- Unto the Morrow (Level 80) -->
    <If Condition="IsQuestCompleted(69316) and not HasQuest(69317) and not IsQuestCompleted(69317)">
      <LisbethTravel ZoneId="816" XYZ="-634.2717, 35.86156, -234.2108"/>
      <If Condition="IsQuestAcceptQualified(69317)">
        <PickupQuest QuestId="69317" NpcId="1033872"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69317) == 1">
      <LisbethTravel Zone="817" Subzone="3170" Position="-89.4703, -19.08419, 297.5992"/>
      <TalkTo NpcId="1032532" XYZ="-88.33453, -19.03335, 296.3149" QuestId="69317" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69317) == 2">
      <FlyTo XYZ="-89.55061, -19.07467, 296.2648" Land="True"/>
      <TalkTo NpcId="1032532" XYZ="-88.33453, -19.03335, 296.3149" QuestId="69317" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69317) == 3">
      <LisbethTravel Zone="815" Subzone="3135" Position="-483.8147, 45.58274, -235.2187"/>
      <TalkTo NpcId="1033878" XYZ="-483.8178, 45.58615, -236.6827" QuestId="69317" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69317) == 4">
      <GetTo ZoneId="819" XYZ="-39.49377, 4.583, 3.593437"/>
      <LLTalkTo NpcId="1033881" XYZ="-37.43042, 4.583, 3.982544" QuestId="69317" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69317) == 255">
      <GetTo ZoneId="819" XYZ="24.23129, 0, 1.027337"/>
      <TurnIn QuestId="69317" NpcId="1033884" XYZ="26.23022, 7.450581E-09, 1.419067"/>
      <UseInventoryItem ItemId="30868"/>
    </If>
    <!-- Reflections in Crystal (Level 80) -->
    <If Condition="IsQuestCompleted(69317) and not HasQuest(69318) and not IsQuestCompleted(69318)">
      <GetTo ZoneId="819" XYZ="24.23129, 0, 1.027337"/>
      <If Condition="IsQuestAcceptQualified(69318)">
        <PickupQuest QuestId="69318" NpcId="1033887"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69318) == 1">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="117.9979, 14.64903, 7.156433"/>
        <UseTransport NpcId="1030533" InteractDistance="3.0" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <LLTalkTo InteractDistance="3.0" QuestId="69318" StepId="1" NpcId="1033888" XYZ="1.358032, 1.490116E-08, -5.081299"/>
      <WaitWhile Condition="not GetQuestStep(69318) == 255 or QuestLogManager.InCutscene or ff14bot.Behavior.CommonBehaviors.IsLoading"/>
    </If>
    <If Condition="GetQuestStep(69318) == 255">
      <If Condition="not IsOnMap(351)">
        <LisbethTravel ZoneId="156" XYZ="21.13373, 22.32391, -631.281"/>
        <UseTransport NpcId="2002881" InteractDistance="3.5" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <TurnIn QuestId="69318" NpcId="1033896" XYZ="1.51062, 7.450581E-09, -3.158691"/>
    </If>

    <!-- Reflections in Crystal -->
    <If Condition="IsQuestCompleted(69317) and not HasQuest(69318) and not IsQuestCompleted(69318)">
      <LisbethTravel ZoneId="819" XYZ="24.23129, 0, 1.027337"/>
      <If Condition="IsQuestAcceptQualified(69318)">
        <PickupQuest QuestId="69318" NpcId="1033887"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69318) == 1">
      <If Condition="not IsOnMap(844)">
        <LisbethTravel ZoneId="819" XYZ="117.9979, 14.64903, 7.156433" />
        <UseTransport NpcId="1030533" InteractDistance="3.0" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <LLTalkTo InteractDistance="3.0" QuestId="69318" StepId="1" NpcId="1033888" XYZ="1.358032, 1.490116E-08, -5.081299" />
      <LLSmallTalk/>
    </If>
    <If Condition="GetQuestStep(69318) == 255">
      <If Condition="not IsOnMap(351)">
        <LisbethTravel ZoneId="156" XYZ="21.13373, 22.32391, -631.281" />
        <UseTransport NpcId="2002881" InteractDistance="3.5" XYZ="21.13373, 22.32391, -631.281" />
      </If>
      <LisbethTravel ZoneId="351" XYZ="1.092086, 0, -0.4969539"/>
      <TurnIn QuestId="69318" NpcId="1033896" XYZ="1.51062, 7.450581E-09, -3.158691"/>
    </If>

    <!-- Begins 5.4 -->
    <!-- Alisaie's Quest -->
    <If Condition="IsQuestCompleted(69318) and not HasQuest(69543) and not IsQuestCompleted(69543)">
      <If Condition="not IsOnMap(351)">
        <GetTo ZoneId="156" XYZ="22.06308, 21.25273, -633.3376"/>
        <UseTransport NpcId="2002881" InteractDistance="3.0" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <MoveTo XYZ="-3.03656,0.01804012,-8.133057"/>
      <If Condition="IsQuestAcceptQualified(69543)">
        <LLPickupQuest QuestId="69543" NpcId="1032694"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69543) == 1">
      <TalkTo NpcId="1035339" XYZ="-54.8562, 2.005009, 11.27637" QuestId="69543" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69543) == 2">
      <If Condition="not IsOnMap(156)">
        <TeleportTo AetheryteId="24"/>
      </If>
      <LisbethTravel ZoneId="156" XYZ="124.8217, -15.17225, -425.5584" Land="True"/>
      <TalkTo NpcId="1035342" XYZ="125.5054, -15.18431, -424.2161" QuestId="69543" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69543) == 255">
      <GetTo ZoneId="402" XYZ="-897.0146, -184.293, -638.887"/>
      <TurnIn NpcId="1035344" XYZ="-894.5907, -184.293, -639.3378" QuestId="69543" StepId="255"/>
    </If>

    <!-- The Wisdom of Allag -->
    <If Condition="IsQuestCompleted(69543) and not HasQuest(69544) and not IsQuestCompleted(69544)">
      <If Condition="IsQuestAcceptQualified(69544)">
        <LLPickupQuest QuestId="69544" NpcId="1035345"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69544) == 1">
      <LisbethTravel ZoneId="402" XYZ="-640.8674, -176.4502, -578.0829" Land="True"/>
      <TalkTo NpcId="1035348" XYZ="-639.3378, -176.4502, -577.2335" QuestId="69544" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69544) == 2">
      <LisbethTravel ZoneId="402" XYZ="639.2065, -2.855654, -348.7978" Land="True"/>
      <TalkTo NpcId="1035350" XYZ="641.3214, -2.840235, -350.3319" QuestId="69544" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69544) == 3">
      <LisbethTravel ZoneId="402" XYZ="584.9795, -64.88554, -693.5556" Land="True"/>
      <UseObject NpcId="2011330" XYZ="585.1072, -64.83563, -692.1951" QuestId="69544" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69544) == 4">
      <UseObject NpcId="2011331" XYZ="585.1072, -64.83563, -692.1951" QuestId="69544" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69544) == 255">
      <LisbethTravel ZoneId="402" XYZ="640.0764, -2.931961, -347.9681" Land="True"/>
      <TurnIn ItemId="2003056" QuestId="69544" NpcId="1035350" XYZ="641.3214, -2.840235, -350.3319" RewardSlot="3"/>
    </If>

    <!-- Reviving the Legacy -->
    <If Condition="IsQuestCompleted(69544) and not HasQuest(69545) and not IsQuestCompleted(69545)">
      <LisbethTravel ZoneId="402" XYZ="641.3488, -2.921243, -348.6317" Land="True"/>
      <If Condition="IsQuestAcceptQualified(69545)">
        <LLPickupQuest QuestId="69545" NpcId="1035350"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69545) == 1">
      <If Condition="not IsOnMap(351)">
        <LisbethTravel ZoneId="156" XYZ="22.06308, 21.25273, -633.3376"/>
        <UseTransport NpcId="2002881" InteractDistance="3.0" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <MoveTo XYZ="0.03677041, 0, -4.808189"/>
      <TalkTo NpcId="1035355" XYZ="-0.3510132, 7.450581E-09, -6.912354" QuestId="69545" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69545) == 2">
      <MoveTo XYZ="-4.634227, 0, -5.729577"/>
      <UseTransport NpcId="2011104" InteractDistance="3.0" XYZ="-11.00183, 1.480042, -6.973389"/>
      <UseObject NpcIds="2011332" XYZ="-56.71783, 1.998901, 14.63336" Radius="25" QuestId="69545" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69545) == 3">
      <MoveTo XYZ="-56.09159, 2.005009, 15.33053"/>
      <TalkTo NpcId="1035360" XYZ="-58.15222, 2.005009, 14.54175" QuestId="69545" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69545) == 4">
      <If Condition="not IsOnMap(418)">
        <TeleportTo AetheryteId="70"/>
      </If>
      <LisbethTravel ZoneId="418" XYZ="-149.6305, 17, -48.47654"/>
      <HandOver ItemId="2003057" NpcId="1014578" XYZ="-148.0278, 17, -48.84418" QuestId="69545" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69545) == 255">
      <LisbethTravel ZoneId="419" XYZ="164.4793, -12.63491, -14.16467"/>
      <TurnIn ItemId="2003057" QuestId="69545" NpcId="1035363" XYZ="164.4769, -12.63491, -13.29065"/>
    </If>

    <!-- Forget Us Not -->
    <If Condition="IsQuestCompleted(69545) and not HasQuest(69546) and not IsQuestCompleted(69546)">
      <If Condition="not IsOnMap(351)">
        <LisbethTravel ZoneId="156" XYZ="22.06308, 21.25273, -633.3376"/>
        <UseTransport NpcId="2002881" InteractDistance="3.0" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <MoveTo XYZ="-2.883425, 0, -6.123678"/>
      <If Condition="IsQuestAcceptQualified(69546)">
        <LLPickupQuest QuestId="69546" NpcId="1035354"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69546) == 1">
      <LisbethTravel ZoneId="128" XYZ="68.91142, 40, 71.3026"/>
      <TalkTo NpcId="1035364" XYZ="68.55872, 40, 69.90149" QuestId="69546" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69546) == 255">
      <LisbethTravel ZoneId="128" XYZ="-109.5775, 40, 119.6407"/>
      <TurnIn QuestId="69546" NpcId="1035366" XYZ="-110.0939, 39.99999, 116.9908" RewardSlot="3"/>
    </If>

    <!-- Like Master, Like Pupil -->
    <If Condition="IsQuestCompleted(69546) and not HasQuest(69547) and not IsQuestCompleted(69547)">
      <LisbethTravel ZoneId="128" XYZ="-109.5775, 40, 119.6407"/>
      <If Condition="IsQuestAcceptQualified(69547)">
        <LLPickupQuest QuestId="69547" NpcId="1035367"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69547) == 1">
      <LisbethTravel ZoneId="399" XYZ="-481.6645, 137.4297, 697.688" Land="True"/>
      <TalkTo NpcId="1035374" XYZ="-481.8036, 137.4297, 698.6342" QuestId="69547" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69547) == 2">
      <MoveTo XYZ="19.01874, 38.43, 11.93333"/>
      <TalkTo NpcId="1012138" XYZ="19.27209, 38.43, 15.85406" QuestId="69547" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69547) == 3">
      <LisbethTravel ZoneId="399" XYZ="380.5968, 75.26852, -219.3463" Land="True"/>
      <TalkTo NpcId="1035380" XYZ="382.7725, 75.28701, -222.0341" QuestId="69547" StepId="3"/>
    </If>
    <While Condition="GetQuestStep(69547) == 4">
      <UserDialog QuestId="69547" StepId="4" IsBotContinueAllowed="True" DialogText="Please manually complete the dungeon Matoya's Relict." />
    </While>
    <If Condition="GetQuestStep(69547) == 255">
      <LisbethTravel ZoneId="399" XYZ="380.5968, 75.26852, -219.3463" Land="True"/>
      <TurnIn QuestId="69547" NpcId="1035381" XYZ="382.2537, 75.22071, -223.4073"/>
    </If>

    <!-- The Admiral's Resolve -->
    <If Condition="IsQuestCompleted(69547) and not HasQuest(69548) and not IsQuestCompleted(69548)">
      <If Condition="IsQuestAcceptQualified(69548)">
        <LisbethTravel ZoneId="399" XYZ="381.9371, 75.28999, -220.6942" Land="True"/>
        <LLPickupQuest QuestId="69548" NpcId="1035381"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69548) == 1">
      <LisbethTravel ZoneId="129" XYZ="8.470297, 20.99961, -12.64073"/>
      <TalkTo NpcId="1001029" XYZ="9.170593, 20.9994, -15.21332" QuestId="69548" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69548) == 2">
      <LisbethTravel ZoneId="129" XYZ="0.5583881, 20, -12.50575"/>
      <TalkTo NpcId="1035386" XYZ="-0.4730835, 19.99998, -13.83997" QuestId="69548" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69548) == 3">
      <If Condition="GetQuestStep(69548) == 3 and GetQuestById(69548).GetTodoArgs(2, 0).Item1 == 0">
        <LisbethTravel ZoneId="128" XYZ="17.56787, 47.60001, -161.464"/>
        <TalkTo NpcId="1000915" XYZ="18.38708, 47.6, -162.1271" QuestId="69548" StepId="3"/>
      </If>
      <If Condition="GetQuestStep(69548) == 3 and GetQuestById(69548).GetTodoArgs(2, 0).Item1 == 1">
        <LisbethTravel ZoneId="128" XYZ="84.03278, 44.39985, 131.5033"/>
        <TalkTo NpcId="1000918" XYZ="84.09241, 44.39991, 132.3414" QuestId="69548" StepId="3"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69548) == 255">
      <LisbethTravel ZoneId="129" XYZ="-0.8200988, 20, -12.10241"/>
      <TurnIn QuestId="69548" NpcId="1035386" XYZ="-0.4730835, 19.99998, -13.83997" RewardSlot="4"/>
    </If>

    <!-- The Search for Sicard -->
    <If Condition="IsQuestCompleted(69548) and not HasQuest(69549) and not IsQuestCompleted(69549)">
      <LisbethTravel ZoneId="129" XYZ="-0.8200988, 20, -12.10241"/>
      <If Condition="IsQuestAcceptQualified(69549)">
        <LLPickupQuest QuestId="69549" NpcId="1035386"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69549) == 1">
      <LisbethTravel ZoneId="135" XYZ="93.46938, 68.15523, 342.7453" Land="True"/>
      <TalkTo NpcId="1035389" XYZ="85.09949, 68.15523, 341.9089" QuestId="69549" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69549) == 255">
      <LisbethTravel ZoneId="135" XYZ="299.2635, 69.1859, -145.8" Land="True"/>
      <TurnIn QuestId="69549" NpcId="1035391" XYZ="296.8641, 69.33376, -147.3259"/>
    </If>

    <!-- On Rough Seas -->
    <If Condition="IsQuestCompleted(69549) and not HasQuest(69550) and not IsQuestCompleted(69550)">
      <LisbethTravel ZoneId="135" XYZ="299.6413, 69.3062, -148.5864" Land="True"/>
      <If Condition="IsQuestAcceptQualified(69550)">
        <LLPickupQuest QuestId="69550" NpcId="1035391"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69550) == 1">
      <LisbethTravel ZoneId="129" XYZ="8.218155, 20.99971, -12.45786"/>
      <UseTransport NpcId="1001029" InteractDistance="3.0" XYZ="9.170593, 20.9994, -15.21332"/>
      <MoveTo XYZ="0.05052519, 1.604133, -3.980598" usemesh="false" />
      <LLTalkTo NpcId="1002694" XYZ="-0.04577637, 1.600142, -7.003906" QuestId="69550" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69550) == 255">
      <MoveTo XYZ="0.05052519, 1.604133, -3.980598" usemesh="false" />
      <TurnIn NpcId="1002694" XYZ="-0.04577637, 1.600142, -7.003906" QuestId="69550" StepId="255" RewardSlot="2"/>
      <LLDiscardItem ItemId="26730"/>
    </If>

    <!-- The Great Ship Vylbrand -->
    <If Condition="IsQuestCompleted(69550) and not HasQuest(69551) and not IsQuestCompleted(69551)">
      <MoveTo XYZ="0.05052519, 1.604133, -3.980598" usemesh="false" />
      <If Condition="IsQuestAcceptQualified(69551)">
        <LLPickupQuest QuestId="69551" NpcId="1002694"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69551) == 1">
      <LisbethTravel ZoneId="180" XYZ="-105.8078, 64.42754, -239.9254"/>
      <LLTalkTo NpcId="1035399" XYZ="-105.2111, 64.43899, -243.1525" QuestId="69551" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69551) == 2">
      <LisbethTravel Area="Outer La Noscea" Position="143.0769, 23.80429, -648.6438"/>
      <GetTo ZoneId="180" XYZ="144.524, 24.276, -634.4476" />
      <While Condition="GetQuestStep(69551) == 2">
        <UserDialog QuestId="69551" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete the solo duty The Great Ship Vylbrand." />
      </While>
    </If>
    <If Condition="GetQuestStep(69551) == 255">
      <LisbethTravel ZoneId="180" XYZ="-99.51727, 64.16263, -240.6524"/>
      <TurnIn NpcId="1035407" XYZ="-103.7156, 64.39152, -241.3215" QuestId="69551" StepId="255"/>
    </If>

    <!-- Futures Rewritten -->
    <If Condition="IsQuestCompleted(69551) and not HasQuest(69552) and not IsQuestCompleted(69552)">
      <LisbethTravel ZoneId="180" XYZ="-104.4036, 64.41211, -242.001"/>
      <If Condition="IsQuestAcceptQualified(69552)">
        <LLPickupQuest QuestId="69552" NpcId="1035398"/>
      </If>
    </If>
    <If Condition="GetQuestStep(69552) == 1">
      <LisbethTravel ZoneId="621" XYZ="585.331, 80, 622.5641"/>
      <LLTalkTo NpcId="1035409" XYZ="581.6281, 80, 621.7898" QuestId="69552" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69552) == 2">
      <LisbethTravel ZoneId="621" XYZ="736.656, 70, 522.9353"/>
      <LLTalkTo NpcId="1035414" XYZ="739.4979, 70, 526.4821" QuestId="69552" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69552) == 255">
      <If Condition="not IsOnMap(351)">
        <LisbethTravel ZoneId="156" XYZ="22.06308, 21.25273, -633.3376"/>
        <UseTransport NpcId="2002881" InteractDistance="3.0" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <MoveTo XYZ="-2.512403, 0, -6.099617" />
      <LLTurnIn QuestId="69552" NpcId="1032694" XYZ="-3.03656, 0.01804012, -8.133057"/>
    </If>

    <!-- 5.4 starts -->
    <!-- Unto the Breach -->
    <If Condition="IsQuestCompleted(69552) and not HasQuest(69594) and not IsQuestCompleted(69594)">
      <If condition="not IsOnMap(351)">
        <LisbethTravel Zone="156" Subzone="943" Position="21.43668, 21.25273, -632.4913"/>
        <UseTransport NpcId="2002881" InteractDistance="3.0" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <MoveTo ZoneId="351" XYZ="-1.825943, 0, -8.008231"/>
      <If Condition="IsQuestAcceptQualified(69594)">
        <LLPickupQuest QuestId="69594" NpcId="1035613"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69594) == 1">
      <LisbethTravel Zone="621" Subzone="2610" Position="740.4781, 70, 535.9889"/>
      <LLTalkTo NpcId="1036324" XYZ="739.681, 70, 535.4237" QuestId="69594" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69594) == 255">
      <LisbethTravel Zone="621" Subzone="2610" Position="739.9655, 70, 527.4711"/>
      <LLTurnIn QuestId="69594" NpcId="1036329" XYZ="741.1155, 70, 527.7333"/>
      <LLSmallTalk/>
    </If>

    <!-- Here Be Dragons -->
    <If Condition="IsQuestCompleted(69594) and not HasQuest(69595) and not IsQuestCompleted(69595)">
      <LisbethTravel Zone="621" Subzone="2610" Position="740.3708, 70, 528.1683"/>
      <If Condition="IsQuestAcceptQualified(69595)">
        <LLPickupQuest QuestId="69595" NpcId="1036330"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69595) == 1">
      <LisbethTravel Zone="418" Subzone="0" Position="-72.76115, 8.05915, 29.91529"/>
      <LLTalkTo NpcId="1036334" XYZ="-73.56378, 8.05915, 29.3125" QuestId="69595" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69595) == 2">
      <LisbethTravel Zone="418" Subzone="2312" Position="125.5487, 24.45884, 0.9957861"/>
      <LLTalkTo NpcId="1013167" XYZ="125.6885, 24.45884, 2.456604" QuestId="69595" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69595) == 3">
      <LisbethTravel Zone="419" Subzone="2323" Position="161.3944, -15.13437, 31.15745"/>
      <LLTalkTo NpcId="1036342" XYZ="161.9135, -15.13437, 33.27991" QuestId="69595" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69595) == 255">
      <LisbethTravel Zone="402" Subzone="2112" Position="-519.7336, -104.0679, 142.8202"/>
      <LLTurnIn QuestId="69595" NpcId="1036344" XYZ="-521.5991, -103.9468, 143.6331" RewardSlot="3"/>
      <LLSmallTalk/>
    </If>

    <!-- Righteous Indignation -->
    <If Condition="IsQuestCompleted(69595) and not HasQuest(69596) and not IsQuestCompleted(69596)">
      <LisbethTravel Zone="402" Subzone="2112" Position="-519.6412, -103.999, 144.4282"/>
      <If Condition="IsQuestAcceptQualified(69596)">
        <LLPickupQuest QuestId="69596" NpcId="1036346"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69596) == 1">
      <LisbethTravel Zone="402" Subzone="2145" Position="-679.8066, -41.07288, 425.8201"/>
      <UseObject NpcId="2011483" XYZ="-681.5442, -41.15363, 424.5822" QuestId="69596" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69596) == 2">
      <LisbethTravel Zone="402" Subzone="2145" Position="-683.5772, -41.50123, 427.6252"/>
      <LLTalkTo NpcId="1036588" XYZ="-683.3448, -41.40399, 426.4438" QuestId="69596" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69596) == 3">
      <LisbethTravel Zone="402" Subzone="2114" Position="-229.0773, 246.3967, 94.75921"/>
      <LLTalkTo NpcId="1036353" XYZ="-229.3889, 246.3967, 96.75745" QuestId="69596" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69596) == 4 and GetQuestById(69596).QuestI8A == 0">
      <LisbethTravel Zone="402" Subzone="2114" Position="-244.4061, 263.1711, -24.01544"/>
      <LLTalkTo NpcId="1036359" XYZ="-244.5563, 263.1892, -24.5213" QuestId="69596" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69596) == 4 and GetQuestById(69596).QuestI8A == 1">
      <LisbethTravel Zone="402" Subzone="2114" Position="-273.6509, 252, -20.85906"/>
      <LLTalkTo NpcId="1036357" XYZ="-275.4406, 252, -20.9812" QuestId="69596" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69596) == 4 and GetQuestById(69596).QuestI8A == 2">
      <LisbethTravel Zone="402" Subzone="2114" Position="-216.4458, 253.9521, -15.39699"/>
      <LLTalkTo NpcId="1036358" XYZ="-215.1675, 253.8181, -13.16864" QuestId="69596" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69596) == 5">
      <LisbethTravel Zone="402" Subzone="2114" Position="-229.0385, 246.3967, 94.78196"/>
      <LLTalkTo NpcId="1036353" DialogOption="1" XYZ="-229.3889, 246.3967, 96.75745" QuestId="69596" StepId="5"/>
    </If>
    <If Condition="GetQuestStep(69596) == 255">
      <LisbethTravel Zone="402" Subzone="2114" Position="-273.7436, 252, -20.21564"/>
      <LLTurnIn ItemId="2003070" QuestId="69596" NpcId="1036357" XYZ="-275.4406, 252, -20.9812"/>
      <LLSmallTalk/>
    </If>

    <!-- For Vengeance -->
    <If Condition="IsQuestCompleted(69596) and not HasQuest(69597) and not IsQuestCompleted(69597)">
      <LisbethTravel Zone="402" Subzone="2114" Position="-273.6889, 252, -20.59524"/>
      <If Condition="IsQuestAcceptQualified(69597)">
        <LLPickupQuest QuestId="69597" NpcId="1036953"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69597) == 1">
      <LisbethTravel Zone="402" Subzone="2174" Position="28.33368, 271.2328, -36.11587"/>
      <UseObject NpcId="2011484" XYZ="28.36646, 271.229, -35.35516" QuestId="69597" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69597) == 2">
      <LisbethTravel Zone="402" Subzone="2145" Position="-681.034, -41.44375, 429.777"/>
      <LLTalkTo NpcId="1036351" XYZ="-681.3306, -41.32259, 427.6646" QuestId="69597" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69597) == 3">
      <LisbethTravel Zone="402" Subzone="2145" Position="-681.034, -41.44375, 429.777"/>
      <LLTalkTo NpcId="1036351" XYZ="-681.3306, -41.32259, 427.6646" QuestId="69597" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69597) == 255">
      <LisbethTravel Zone="402" Subzone="2145" Position="-680.7033, -41.41474, 429.7432"/>
      <LLTurnIn QuestId="69597" NpcId="1036352" XYZ="-679.9268, -41.30151, 429.0073" RewardSlot="3"/>
      <LLSmallTalk/>
    </If>

    <!-- The Flames of War -->
    <If Condition="IsQuestCompleted(69597) and not HasQuest(69598) and not IsQuestCompleted(69598)">
      <LisbethTravel Zone="402" Subzone="2145" Position="-680.8792, -41.43016, 429.7612"/>
      <If Condition="IsQuestAcceptQualified(69598)">
        <LLPickupQuest QuestId="69598" NpcId="1036352"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69598) == 1">
      <LisbethTravel Zone="130" Subzone="614" Position="-137.8953, 4.099999, -108.6437"/>
      <LLTalkTo NpcId="1036368" XYZ="-137.5601, 4.1, -109.8192" QuestId="69598" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69598) == 2">
      <!--
    <If condition="not IsOnSubMap(654)">
        <LisbethTravel Zone="130" Subzone="640" Position="-21.34449, 9.999999, -43.98389"/>
      <UseTransport DialogOption="0" NpcId="1001834" InteractDistance="3.0" XYZ="-23.33112, 10, -43.44244"/>
    </If>  -->
      <LisbethTravel Zone="130" Subzone="654" Position="-22.70683, 83.19999, 10.58135"/>
      <LLTalkTo NpcId="1036374" XYZ="-25.0401, 83.19998, 10.45239" QuestId="69598" StepId="2"/>
    </If>
    <While Condition="GetQuestStep(69598) == 3">
      <UserDialog QuestId="69598" StepId="3" IsBotContinueAllowed="True" DialogText="Please manually complete the dungeon Paglth'an." />
    </While>
    <If Condition="GetQuestStep(69598) == 255">
      <LisbethTravel Zone="130" Subzone="654" Position="-22.70683, 83.19999, 10.58135"/>
      <LLTurnIn QuestId="69598" NpcId="1036376" XYZ="-20.06567, 83.2, 15.12164"/>
      <LLSmallTalk/>

    </If>

    <!-- The Flames of War -->
    <If Condition="IsQuestCompleted(69598) and not HasQuest(69599) and not IsQuestCompleted(69599)">
      <LisbethTravel Zone="130" Subzone="654" Position="-22.70683, 83.19999, 10.58135"/>
      <If Condition="IsQuestAcceptQualified(69599)">
        <LLPickupQuest QuestId="69599" NpcId="1036376"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69599) == 1">
      <LisbethTravel Zone="131" Subzone="652" Position="-77.1132, 42, 57.38252"/>
      <LLTalkTo NpcId="1036388" XYZ="-76.46301, 42, 58.24365" QuestId="69599" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69599) == 2">
      <LisbethTravel Zone="131" Subzone="652" Position="-77.11345, 42, 57.41567"/>
      <LLTalkTo NpcId="1036391" XYZ="-77.71423, 42, 58.854" QuestId="69599" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69599) == 3">
      <LisbethTravel Zone="131" Subzone="653" Position="-15.29683, 36.01366, 59.17099"/>
      <LLTalkTo NpcId="1036392" XYZ="-14.32831, 36.01278, 61.08191" QuestId="69599" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69599) == 4">
      <LisbethTravel Zone="156" Subzone="943" Position="21.86835, 21.25273, -632.9349"/>
      <LLTalkTo NpcId="2002881" XYZ="21.13373, 22.32391, -631.281" QuestId="69599" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69599) == 255">
      <If condition="not IsOnMap(351)">
        <LisbethTravel Zone="156" Subzone="943" Position="21.43668, 21.25273, -632.4913"/>
        <UseTransport NpcId="2002881" InteractDistance="3.0" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <MoveTo XYZ="-2.715755, 0, -6.416834"/>
      <LLTurnIn QuestId="69599" NpcId="1036399" XYZ="-3.402832, 0.01804012, -8.499329" RewardSlot="2"/>
      <LLSmallTalk/>
      <LLDiscardItem ItemId="26730"/>
    </If>

    <!-- 5.55 Starts -->
    <!-- The Company We Keep -->
    <If Condition="IsQuestCompleted(69599) and not HasQuest(69600) and not IsQuestCompleted(69600)">
      <If condition="not IsOnMap(351)">
        <LisbethTravel Zone="156" Subzone="943" Position="21.43668, 21.25273, -632.4913"/>
        <UseTransport NpcId="2002881" InteractDistance="3.0" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <MoveTo ZoneId="351" XYZ="-1.792886, 0, -6.814459"/>
      <If Condition="IsQuestAcceptQualified(69600)">
        <LLPickupQuest QuestId="69600" NpcId="1036400"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69600) == 1">
      <LisbethTravel Zone="621" Subzone="2610" Position="748.7938, 70.13963, 524.953"/>
      <LLTalkTo NpcId="1024065" XYZ="749.9961, 70.13963, 522.8809" QuestId="69600" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69600) == 2">
      <LisbethTravel Zone="621" Subzone="2610" Position="740.3648, 70, 532.2333"/>
      <LLTalkTo NpcId="1036325" XYZ="740.0167, 70, 534.02" QuestId="69600" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69600) == 3">
      <LisbethTravel Zone="621" Subzone="2610" Position="741.8649, 70, 533.4343"/>
      <LLTalkTo NpcId="1037011" XYZ="741.7257, 70, 534.6302" QuestId="69600" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69600) == 255">
      <LisbethTravel Zone="612" Subzone="2613" Position="-640.5712, 130, -502.7285"/>
      <LLTurnIn QuestId="69600" NpcId="1036424" XYZ="-641.9318, 130, -503.1968"/>
      <LLSmallTalk/>
    </If>

    <!-- On Official Business -->
    <If Condition="IsQuestCompleted(69600) and not HasQuest(69601) and not IsQuestCompleted(69601)">
      <LisbethTravel Zone="612" Subzone="2613" Position="-641.3196, 130, -506.511"/>
      <If Condition="IsQuestAcceptQualified(69601)">
        <LLPickupQuest QuestId="69601" NpcId="1036426"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69601) == 1">
      <LisbethTravel Zone="133" Subzone="0" Position="125.7335, 12.93142, -247.6816"/>
      <LLTalkTo NpcId="1036428" XYZ="125.9938, 12.9667, -249.3782" QuestId="69601" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69601) == 2">
      <LisbethTravel Zone="152" Subzone="113" Position="29.62093, -3.622539, 212.1625"/>
      <LLTalkTo NpcId="1005577" XYZ="28.48853, -3.631957, 210.6202" QuestId="69601" StepId="2"/>
    </If>
    <If Condition="GetQuestStep(69601) == 3">
      <LisbethTravel Zone="133" Subzone="579" Position="-158.4195, 4.008915, -5.904653"/>
      <LLTalkTo NpcId="1000460" XYZ="-159.411, 4.054098, -4.104736" QuestId="69601" StepId="3"/>
    </If>
    <If Condition="GetQuestStep(69601) == 4">
      <If condition="not IsOnMap(205)">
        <LisbethTravel Zone="133" Subzone="579" Position="-159.041, 4.004559, -6.780818"/>
        <UseTransport NpcId="1000460" DialogOption="0" InteractDistance="3.0" XYZ="-159.411, 4.054098, -4.104736"/>
      </If>
      <MoveTo XYZ="5.283656, -1.805006, 1.818319"/>
      <LLTalkTo NpcId="1003027" XYZ="4.898132, -1.92944, -0.1983643" QuestId="69601" StepId="4"/>
    </If>
    <If Condition="GetQuestStep(69601) == 255">
      <If condition="not IsOnMap(205)">
        <LisbethTravel Zone="133" Subzone="579" Position="-159.041, 4.004559, -6.780818"/>
        <UseTransport NpcId="1000460" DialogOption="0" InteractDistance="3.0" XYZ="-159.411, 4.054098, -4.104736"/>
      </If>
      <MoveTo XYZ="6.323468, -1.797006, 4.422415"/>
      <LLTurnIn QuestId="69601" NpcId="1036436" XYZ="4.226685, -1.858, 2.792297" RewardSlot="2"/>
      <LLSmallTalk/>
      <LLDiscardItem ItemId="31902"/>
    </If>

    <!-- Death Unto Dawn -->
    <If Condition="IsQuestCompleted(69601) and not HasQuest(69602) and not IsQuestCompleted(69602)">
      <If condition="not IsOnMap(205)">
        <LisbethTravel Zone="133" Subzone="579" Position="-159.041, 4.004559, -6.780818"/>
        <UseTransport NpcId="1000460" DialogOption="0" InteractDistance="3.0" XYZ="-159.411, 4.054098, -4.104736"/>
      </If>
      <MoveTo XYZ="5.710891, -1.805006, 3.058277"/>
      <If Condition="IsQuestAcceptQualified(69602)">
        <LLPickupQuest QuestId="69602" NpcId="1003027"/>
        <LLSmallTalk/>
      </If>
    </If>
    <If Condition="GetQuestStep(69602) == 1">
      <LisbethTravel Zone="132" Subzone="545" Position="58.7523, -8.556477, 107.0511"/>
      <LLTalkTo NpcId="1036439" XYZ="57.90796, -8.556445, 107.1641" QuestId="69602" StepId="1"/>
    </If>
    <If Condition="GetQuestStep(69602) == 2">
      <LisbethTravel Zone="132" Subzone="549" Position="33.15565, -19, 102.0125"/>
      <While condition="GetQuestStep(69602) == 2">
        <UserDialog QuestId="69602" StepId="2" IsBotContinueAllowed="True" DialogText="Please manually complete solo duty Death Unto Dawn." />
      </While>
    </If>
    <If Condition="GetQuestStep(69602) == 255">
      <If condition="not IsOnMap(351)">
        <LisbethTravel Zone="156" Subzone="943" Position="21.43668, 21.25273, -632.4913"/>
        <UseTransport NpcId="2002881" InteractDistance="3.0" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <MoveTo ZoneId="351" XYZ="-0.9346759, 0, -2.269413"/>
      <LLTurnIn QuestId="69602" NpcId="1036444" XYZ="-1.693787, 0, -4.135254"/>
      <LLSmallTalk/>
    </If>

    <RunCode Name="Use_And_Open_Items"/>

    <LLoadProfile Path="../Start.xml"/>
  </Order>
  <GrindAreas>
    <GrindArea Name="Brood_Ziz">
      <Hotspots>
        <Hotspot XYZ="-239.3125, 57.47225, -93.26726" Radius="90"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="221"/>
      </TargetMobs>
      <MinLevel/>
      <MaxLevel/>
    </GrindArea>
    <GrindArea Name="bee_clouds">
      <Hotspots>
        <Hotspot XYZ="727.0059, -49.96362, 34.92887" Radius="90"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="4391"/>
      </TargetMobs>
      <MinLevel/>
      <MaxLevel/>
    </GrindArea>
    <GrindArea Name="68850">
      <Hotspots>
        <Hotspot XYZ="-88.08081, 53.65552, -648.1254" Radius="120"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8578"/>
      </TargetMobs>
      <MinLevel/>
      <MaxLevel/>
    </GrindArea>
    <GrindArea Name="69150">
      <Hotspots>
        <Hotspot XYZ="-395.492, 18.0181, -164.6418" Radius="120"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8561"/>
      </TargetMobs>
      <MinLevel/>
      <MaxLevel/>
    </GrindArea>
    <GrindArea Name="69184">
      <Hotspots>
        <Hotspot XYZ="767.079, 449.6789, -684.2198" Radius="120"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8631"/>
      </TargetMobs>
      <MinLevel/>
      <MaxLevel/>
    </GrindArea>
    <GrindArea name="68441_Fight_1">
      <Hotspots>
        <Hotspot Radius="90" XYZ="260.3868, 132.7529, -181.4893" name="First Fight"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8645" Weight="1000"/>
        <!-- Eulmoran Melee -->
        <TargetMob Id="8921" Weight="1000"/>
        <!-- Eulmoran Caster -->
        <TargetMob Id="8920" Weight="4000"/>
        <!-- Eulmoran Healer -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="68441_Fight_2">
      <Hotspots>
        <Hotspot Radius="90" XYZ="217.5665, 134.8314, -265.2322" name="Second Fight"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8645" Weight="1000"/>
        <!-- Eulmoran Melee -->
        <TargetMob Id="8921" Weight="1000"/>
        <!-- Eulmoran Caster -->
        <TargetMob Id="8920" Weight="4000"/>
        <!-- Eulmoran Healer -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="68441_Fight_3">
      <Hotspots>
        <Hotspot Radius="90" XYZ="125.9977, 134.8314, -316.2153" name="Third Fight"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8645" Weight="1000"/>
        <!-- Eulmoran Melee -->
        <TargetMob Id="8921" Weight="1000"/>
        <!-- Eulmoran Caster -->
        <TargetMob Id="8920" Weight="4000"/>
        <!-- Eulmoran Healer -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="68441_Fight_4">
      <Hotspots>
        <Hotspot Radius="90" XYZ="54.7109, 134.8314, -368.2711" name="Fourth Fight"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8645" Weight="1000"/>
        <!-- Eulmoran Melee -->
        <TargetMob Id="8921" Weight="1000"/>
        <!-- Eulmoran Caster -->
        <TargetMob Id="8920" Weight="4000"/>
        <!-- Eulmoran Healer -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="68441_Fight_5">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-33.14128, 161.0694, -361.8504" name="Fifth Fight"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8645" Weight="1000"/>
        <!-- Eulmoran Melee -->
        <TargetMob Id="8921" Weight="1000"/>
        <!-- Eulmoran Caster -->
        <TargetMob Id="8920" Weight="4000"/>
        <!-- Eulmoran Healer -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="68441_Fight_Ranjit">
      <Hotspots>
        <Hotspot Radius="90" XYZ="133.7116, 134.8314, -314.6191" name="Ranjit Fight"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8374" Weight="1000"/>
        <!-- Ran'jit -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="68873_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="234.3374, -105.2454, -491.8001" name="Ranjit Fight"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8374" Weight="2000"/>
        <!-- Ran'jit -->
        <TargetMob Id="8373" Weight="1000"/>
        <!-- Eulmoran Adjutant -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69142_Fight_1">
      <Hotspots>
        <Hotspot Radius="90" XYZ="235.2166, 10.74193, 110.6053" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="5000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="4000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8302" Weight="3000"/>
        <!-- Forgiven Conceit -->
        <TargetMob Id="8303" Weight="2000"/>
        <!-- Forgiven Folly -->
        <TargetMob Id="8304" Weight="1000"/>
        <!-- Forgiven Ignorance -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69142_Fight_2">
      <Hotspots>
        <Hotspot Radius="90" XYZ="159.5509, 8.058731, 102.3267" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="5000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="4000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8302" Weight="3000"/>
        <!-- Forgiven Conceit -->
        <TargetMob Id="8303" Weight="2000"/>
        <!-- Forgiven Folly -->
        <TargetMob Id="8304" Weight="1000"/>
        <!-- Forgiven Ignorance -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69142_Fight_3">
      <Hotspots>
        <Hotspot Radius="90" XYZ="63.71878, 4.020514, -31.37898" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="5000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="4000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8302" Weight="3000"/>
        <!-- Forgiven Conceit -->
        <TargetMob Id="8303" Weight="2000"/>
        <!-- Forgiven Folly -->
        <TargetMob Id="8304" Weight="1000"/>
        <!-- Forgiven Ignorance -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69142_Fight_4">
      <Hotspots>
        <Hotspot Radius="90" XYZ="7.886411, 5.825142, -61.44268" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="5000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="4000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8302" Weight="3000"/>
        <!-- Forgiven Conceit -->
        <TargetMob Id="8303" Weight="2000"/>
        <!-- Forgiven Folly -->
        <TargetMob Id="8304" Weight="1000"/>
        <!-- Forgiven Ignorance -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69142_Fight_5">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-190.0944, 5.761391, -110.5918" name="Fighting Sin Eaters"/>
        <Hotspot Radius="90" XYZ="-163.035, 5.738251, -171.5666" name="Fighting Sin Eaters"/>
        <Hotspot Radius="90" XYZ="-111.4153, 5.761361, -127.9033" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="5000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="4000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8302" Weight="3000"/>
        <!-- Forgiven Conceit -->
        <TargetMob Id="8303" Weight="2000"/>
        <!-- Forgiven Folly -->
        <TargetMob Id="8304" Weight="1000"/>
        <!-- Forgiven Ignorance -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69142_Fight_6">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-154.8175, 5.779212, -89.62446" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="5000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="4000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8302" Weight="3000"/>
        <!-- Forgiven Conceit -->
        <TargetMob Id="8303" Weight="2000"/>
        <!-- Forgiven Folly -->
        <TargetMob Id="8304" Weight="1000"/>
        <!-- Forgiven Ignorance -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69142_Fight_7">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-389.9886, 4.214468, -125.5163" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="5000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="4000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8302" Weight="3000"/>
        <!-- Forgiven Conceit -->
        <TargetMob Id="8303" Weight="2000"/>
        <!-- Forgiven Folly -->
        <TargetMob Id="8304" Weight="1000"/>
        <!-- Forgiven Ignorance -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69142_Fight_8">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-701.3026, 51.50115, -234.9905" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8388" Weight="9000"/>
        <!-- Forgiven Venery -->
        <TargetMob Id="8264" Weight="6000"/>
        <!-- Forgiven Hypocrisy -->
        <TargetMob Id="8310" Weight="5000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="4000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8302" Weight="3000"/>
        <!-- Forgiven Conceit -->
        <TargetMob Id="8303" Weight="2000"/>
        <!-- Forgiven Folly -->
        <TargetMob Id="8304" Weight="1000"/>
        <!-- Forgiven Ignorance -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69167_Fight_1">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-0.9722645, -17.22939, -149.3191" name="Fighting Enthralled Citizens"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8643" Weight="2000"/>
        <!-- Enthralled Citizen -->
        <TargetMob Id="8644" Weight="1000"/>
        <!-- Enthralled Citizen -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69167_Fight_2">
      <Hotspots>
        <Hotspot Radius="90" XYZ="0.1077758, -5.094624, -101.0378" name="Fighting Enthralled Soldiers"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8645" Weight="1000"/>
        <!-- Eulmoran Soldier -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69167_Fight_3">
      <Hotspots>
        <Hotspot Radius="90" XYZ="0.01244677, 5.912031, -58.19322" name="Fighting Enthralled Soldiers"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8645" Weight="1000"/>
        <!-- Eulmoran Soldier -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69167_Fight_Jongluers">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-0.3730417, 6, -28.11166" name="Fighting Jongluers"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8648" Weight="1000"/>
        <!-- Red Jongluer -->
        <TargetMob Id="8649" Weight="1000"/>
        <!-- Blue Jongluer -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69167_Fight_Ranjit">
      <Hotspots>
        <Hotspot Radius="90" XYZ="0.7568124, 82.08698, 18.99973" name="Fighting Ran'jit"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8652" Weight="10000"/>
        <!-- Serpent Head -->
        <TargetMob Id="8374" Weight="100"/>
        <!-- Ran'jit -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69174_Fight_1">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-292.8396, 384.3114, -429.7322" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="1000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="2000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8219" Weight="3000"/>
        <!-- Forgiven Flattery -->
        <TargetMob Id="8264" Weight="4000"/>
        <!-- Forgiven Hypocrisy -->
        <TargetMob Id="8269" Weight="5000"/>
        <!-- Forgiven Prejudice -->
        <TargetMob Id="8311" Weight="6000"/>
        <!-- Forgiven Enmity -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69174_Fight_2">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-230.0161, 371.6526, -363.1591" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="1000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="2000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8219" Weight="3000"/>
        <!-- Forgiven Flattery -->
        <TargetMob Id="8264" Weight="4000"/>
        <!-- Forgiven Hypocrisy -->
        <TargetMob Id="8269" Weight="5000"/>
        <!-- Forgiven Prejudice -->
        <TargetMob Id="8311" Weight="6000"/>
        <!-- Forgiven Enmity -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69174_Fight_3">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-120.5046, 362.3075, -342.2753" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="1000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="2000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8219" Weight="3000"/>
        <!-- Forgiven Flattery -->
        <TargetMob Id="8264" Weight="4000"/>
        <!-- Forgiven Hypocrisy -->
        <TargetMob Id="8269" Weight="5000"/>
        <!-- Forgiven Prejudice -->
        <TargetMob Id="8311" Weight="6000"/>
        <!-- Forgiven Enmity -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69174_Fight_4">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-9.643806, 360.0383, -389.6931" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="1000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="2000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8219" Weight="3000"/>
        <!-- Forgiven Flattery -->
        <TargetMob Id="8264" Weight="4000"/>
        <!-- Forgiven Hypocrisy -->
        <TargetMob Id="8269" Weight="5000"/>
        <!-- Forgiven Prejudice -->
        <TargetMob Id="8311" Weight="6000"/>
        <!-- Forgiven Enmity -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69174_Fight_5">
      <Hotspots>
        <Hotspot Radius="90" XYZ="328.0038, 309.5475, -380.7806" name="Fighting Sin Eaters"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8310" Weight="1000"/>
        <!-- Forgiven Cowardice -->
        <TargetMob Id="8308" Weight="2000"/>
        <!-- Forgiven Deceit -->
        <TargetMob Id="8219" Weight="3000"/>
        <!-- Forgiven Flattery -->
        <TargetMob Id="8264" Weight="4000"/>
        <!-- Forgiven Hypocrisy -->
        <TargetMob Id="8269" Weight="5000"/>
        <!-- Forgiven Prejudice -->
        <TargetMob Id="8311" Weight="6000"/>
        <!-- Forgiven Enmity -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69301_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="99.45463, 0, 100.7425" name="Fighting Huaca"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="9296" Weight="1000"/>
        <!-- Huaca -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69311_Scion_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-109.1106, -283.1755, 227.1817" name="Fighting Scions"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="5573" Weight="1000"/>
        <!-- Yda -->
        <TargetMob Id="9666" Weight="1000"/>
        <!-- Paplymo -->
        <TargetMob Id="8378" Weight="1000"/>
        <!-- Y'shtola -->
        <TargetMob Id="9348" Weight="1000"/>
        <!-- Thancred -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69311_Garlean_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-125.1773, -281.1093, 177.5006" name="Fighting Garleans"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="2135" Weight="1000"/>
        <!-- Nero tol Scaeva -->
        <TargetMob Id="2160" Weight="1000"/>
        <!-- Rhitahtyn sas Arvina -->
        <TargetMob Id="2136" Weight="1000"/>
        <!-- Gaius van Baelsar -->
        <TargetMob Id="2118" Weight="1000"/>
        <!-- Livia sas Junius -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69311_Braves_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-183.0835, -281.1093, 201.1028" name="Fighting Crystal Braves"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="9671" Weight="1000"/>
        <!-- Yuyuhase -->
        <TargetMob Id="9672" Weight="1000"/>
        <!-- Laurentius -->
        <TargetMob Id="9674" Weight="1000"/>
        <!-- Ilberd -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69311_Thordan_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-250.3346, -266.0001, 307.7756" name="Fighting Knights of the Round"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="3639" Weight="4000"/>
        <!-- Ser Grinnaux -->
        <TargetMob Id="3633" Weight="3000"/>
        <!-- Ser Zephirin -->
        <TargetMob Id="3642" Weight="2000"/>
        <!-- Ser Charibert -->
        <TargetMob Id="3632" Weight="1000"/>
        <!-- King Thordan -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69311_GrandMelee_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-143.0925, -266.0001, 357.7344" name="Fighting Grand Melee Opponents"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="9675" Weight="1000"/>
        <!-- Lucia -->
        <TargetMob Id="7869" Weight="1000"/>
        <!-- Aymeric -->
        <TargetMob Id="4739" Weight="1000"/>
        <!-- Flame General Aldynn -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69311_Nidhogg_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-238.3472, -266.0001, 438.203" name="Fighting Nidhogg"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="3458" Weight="1000"/>
        <!-- Nidhogg -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69311_Steppe_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-333.2404, -229.1863, 602.3821" name="Fighting Steppe Opponents"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="9676" Weight="1000"/>
        <!-- Magnai -->
        <TargetMob Id="5576" Weight="1000"/>
        <!-- Grynewaht -->
        <TargetMob Id="9677" Weight="1000"/>
        <!-- Sadu -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69311_Doma_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-296.544, -229.1864, 615.466" name="Fighting Doma Opponents"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="6148" Weight="1000"/>
        <!-- Hien -->
        <TargetMob Id="9678" Weight="1000"/>
        <!-- Yugiri -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69311_Zenos_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-317.2593, -229.1862, 611.8515" name="Fighting Zenos"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="6042" Weight="1000"/>
        <!-- The Storm -->
        <TargetMob Id="6041" Weight="1000"/>
        <!-- The Swell -->
        <TargetMob Id="6040" Weight="1000"/>
        <!-- Ame-no-Habakiri -->
      </TargetMobs>
    </GrindArea>
    <GrindArea name="69311_Ardbert_Fight">
      <Hotspots>
        <Hotspot Radius="90" XYZ="-386.34, -229.0648, 766.87" name="Fighting Ardbert"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8258" Weight="1000"/>
        <!-- Ardbert -->
      </TargetMobs>
    </GrindArea>
  </GrindAreas>
  <CodeChunks>
    <CodeChunk Name="ToggleSideStep">
      <![CDATA[
        foreach (var plugin in PluginManager.Plugins.Where(p => p.Plugin.Name == "SideStep" || p.Plugin.Name == "回避"))
        {
          try
          {
            if (!plugin.Enabled)
            {
              plugin.Enabled = true;
            }
            else
            {
              plugin.Enabled = false;
            }
          }
          catch (Exception ex)
          {

          }
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="Profile">
      <![CDATA[
        var _msg = String.Empty;
#if RB_CN
        _msg = "从5.1开始，脚本默认认为你已经可以飞行了。\n 请确保你都启用了5.0区域的风脉。";
#else
        _msg = "From Patch 5.1 onwards, this profile will assume you can fly.\n Please ensure you are attuned to the Shadowbringers zones.";
#endif
        Core.OverlayManager.AddToast(() => _msg, TimeSpan.FromMilliseconds(10000), System.Windows.Media.Color.FromRgb(29,213,226), System.Windows.Media.Color.FromRgb(13,106,175), new System.Windows.Media.FontFamily("Gautami"));
      ]]>
    </CodeChunk>
    <CodeChunk Name="Role_Quests">
      <![CDATA[
        var _msg = String.Empty;
#if RB_CN
        _msg = "完成角色搜寻。";
#else
        _msg = "If you have not done so, please complete your level 80 Role Quest.\n Restart this profile once completed.";
#endif
        Core.OverlayManager.AddToast(() => _msg, TimeSpan.FromMilliseconds(25000), System.Windows.Media.Color.FromRgb(29,213,226), System.Windows.Media.Color.FromRgb(13,106,175), new System.Windows.Media.FontFamily("Gautami"));
      ]]>
    </CodeChunk>
    <CodeChunk Name="Sell_Platinum_Pieces">
      <![CDATA[
            int[] itemIds = {
                5827, //Allagan Platinum Piece
                25212, //Hrothgar Harness
                25213, //Hrothgar Wristguards
                25214, //Hrothgar Subligar
                25215, //Hrothgar Sandals
                15130, //Weathered Choker
                15131, //Weathered Earrings
                15132, //Weathered Wristlets
                15133, //Weathered Ring
                4426 //Ring of Freedom
            };

            IEnumerable<BagSlot> items = InventoryManager.FilledSlots.Where(bs => Array.Exists(itemIds, e => e == bs.RawItemId) && bs.IsSellable);
            BagSlot[] bagSlots = items as BagSlot[] ?? items.ToArray();
            int numItems = bagSlots.Count();

            GameObjectManager.GetObjectByNPCId(1000217).Interact();
            await Coroutine.Wait(5000, () => SelectIconString.IsOpen);
            SelectIconString.ClickSlot(0);
            await Coroutine.Wait(5000, () => SelectString.IsOpen);
            SelectString.ClickSlot(0);
            await Coroutine.Wait(5000, () => Shop.Open);

            int i = 1;

            foreach (var bagSlot in bagSlots)
            {
                var name = bagSlot.Name;
                Logging.Write("Attempting to sell item {0} (\"{1}\") of {2}.", i++, name, numItems);
                var result = await CommonTasks.SellItem(bagSlot);
                if (result != SellItemResult.Success)
                {
                    Logging.Write("Unable to sell \"{0}\" due to {1}.", name, result);
                    continue;
                }
                await Coroutine.Wait(10000, () => !bagSlot.IsFilled || !bagSlot.Name.Equals(name));
                if (bagSlot.IsFilled && bagSlot.Name.Equals(name))
                    Logging.Write("Timed out awaiting sale of \"{0}\" ({1} seconds).", name, 10000);
                else
                    Logging.Write("\"{0}\" sold.", name);
                await Coroutine.Sleep(500);
            }
            Shop.Close();
            await Coroutine.Wait(2000, () => SelectString.IsOpen);
            SelectString.ClickLineContains("Cancel");
            await Coroutine.Wait(2000, () => !Shop.Open && !SelectString.IsOpen && !MovementManager.IsOccupied);
      ]]>
    </CodeChunk>
    <CodeChunk Name="Use_And_Open_Items">
      <![CDATA[
        await Coroutine.Wait(15000, () => !QuestLogManager.InCutscene && !ff14bot.Behavior.CommonBehaviors.IsLoading && !DutyManager.InInstance);
        await Coroutine.Sleep(3000);

        string[] itemNames =
        {
          "Deepgold",
          "Bluespirit",
          "White Oak",
          "Titanbronze",
          "High Mythril"
        };

        ItemUiCategory[] itemCategories =
        {
          ItemUiCategory.Minion,
          ItemUiCategory.Orchestrion_Roll,
          ItemUiCategory.Triple_Triad_Card
        };

        IEnumerable<BagSlot> items = InventoryManager.FilledSlots.Where(bs => (itemNames.Any(bs.EnglishName.Contains) && bs.EnglishName.EndsWith("Coffer") || itemCategories.Contains(bs.Item.EquipmentCatagory)) && bs.Item.ItemAction > 0 && bs.CanUse());
        BagSlot[] bagSlots = items as BagSlot[] ?? items.ToArray();

        foreach (var bag in bagSlots)
        {
          Logging.Write("Using {0}", bag.EnglishName);
          bag.UseItem();
          await Coroutine.Wait(4500, () => Core.Me.IsCasting);
          if (Core.Me.IsCasting)
          {
            await Coroutine.Wait(5000, () => !Core.Me.IsCasting);
            if (bag.EnglishName.Contains("Coffer")) { await Coroutine.Sleep(1000); }
            await Coroutine.Sleep(2500);
          }
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="Summon_Chocobo">
      <![CDATA[
      if(!ChocoboManager.Summoned)
      {
        ChocoboManager.Summon();
        await Coroutine.Sleep(2000);
      }
      ]]>
    </CodeChunk>
    <CodeChunk Name="Geyser">
      <![CDATA[
        var _points = new Vector3[]
        {
          new Vector3("496.1966, 319.1849, -296.0325"),
          new Vector3("486.7288, 316.5066, -300.7208"),
          new Vector3("475.704, 315.4986, -300.508"),
          new Vector3("464.1316, 312.6618, -291.5798")
        };

        foreach (var _loc in _points)
        {
          Navigator.PlayerMover.MoveTowards(_loc);
          while (Core.Me.Location.Distance2D(_loc) > 0.5f)
          {
            await Coroutine.Yield();
          }
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68815">
      <![CDATA[
        Navigator.PlayerMover.MoveTowards(new Vector3("541.802, 8.618705, 330.2815"));
        while (!QuestLogManager.InCutscene)
        {
          await Coroutine.Yield();
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68822">
      <![CDATA[
        await Coroutine.Sleep(10000);
        InventoryManager.FilledSlots.FirstOrDefault(r => r.RawItemId == 2002575).UseItem();
        await Coroutine.Wait(5000, () => Core.Me.IsCasting);
        await Coroutine.Wait(15000, () => !Core.Me.IsCasting);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68824">
      <![CDATA[
        ChatManager.SendChat("/dance");
        await Coroutine.Sleep(1000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68839">
      <![CDATA[
        await Coroutine.Sleep(3000);
        InventoryManager.FilledSlots.FirstOrDefault(r => r.RawItemId == 2002531).UseItem();
        await Coroutine.Wait(5000, () => Core.Me.IsCasting);
        await Coroutine.Wait(15000, () => !Core.Me.IsCasting);
      ]]>
    </CodeChunk>
    <CodeChunk Name="688402">
      <![CDATA[
        var _points = new Vector3[]
        {
          new Vector3("521.8243, 21.31617, 323.1778"),
          new Vector3("368.7536, 32.81358, 234.8884"),
          new Vector3("179.7396, 43.70151, 133.857"),
          new Vector3("48.23268, 48.70341, 53.62906"),
          new Vector3("-89.40802, 52.65609, -26.03757"),
          new Vector3("-162.3296, 9.585906, -81.72881")
        };

        await Coroutine.Sleep(5000);
        MovementManager.Jump();
        await Coroutine.Sleep(250);
        MovementManager.Jump();

        foreach (var _loc in _points)
        {
          Navigator.PlayerMover.MoveTowards(_loc);
          while (Core.Me.Location.Distance2D(_loc) > 0.5f)
          {
            await Coroutine.Yield();
          }
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="688403">
      <![CDATA[
        var _points = new Vector3[]
        {
          new Vector3("-265.2448, 28.58044, -119.1186"),
          new Vector3("-387.3754, 35.49536, -134.0133"),
          new Vector3("-537.0224, 62.96105, -160.9717"),
          new Vector3("-599.6016, 70.73132, -171.1624"),
          new Vector3("-607.4213, 67.64061, -164.0321"),
          new Vector3("-616.9761, 58.79875, -155.3741")
        };

        await Coroutine.Sleep(5000);
        if (!MovementManager.IsFlying)
        {
          MovementManager.Jump();
          await Coroutine.Sleep(250);
          MovementManager.Jump();
        }

        foreach (var _loc in _points)
        {
          Navigator.PlayerMover.MoveTowards(_loc);
          while (Core.Me.Location.Distance2D(_loc) > 0.5f)
          {
            await Coroutine.Yield();
          }
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="68843">
      <![CDATA[
        MovementManager.SetFacing(4.756949f);
        MovementManager.MoveForwardStart();
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        await Coroutine.Sleep(500);
        MovementManager.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68846">
      <![CDATA[
        var _say1 = String.Empty;
        var _say2 = String.Empty;
        var _say3 = String.Empty;
#if RB_CN
        _say1 = "/s 菲奥";
        _say2 = "/s 菲奥帮帮我嘛";
        _say3 = "/s 我可爱又美丽的小树枝菲奥";
#else
        _say1 = "/s Feo Ul";
        _say2 = "/s Please, Feo Ul, I need you";
        _say3 = "/s O loveliest of branches, please grant me your succor!";
#endif
        await Coroutine.Sleep(1000);
        ChatManager.SendChat(_say1);

        while (ConditionParser.GetQuestStep(68846) == 1)
        {
          if (Talk.DialogOpen)
          {
            Talk.Next();
          }
          await Coroutine.Yield();
        }

        await Coroutine.Sleep(5000);
        ChatManager.SendChat(_say2);

        while (ConditionParser.GetQuestStep(68846) == 2)
        {
          if (Talk.DialogOpen)
          {
            Talk.Next();
          }
          await Coroutine.Yield();
        }

        await Coroutine.Sleep(8000);
        ChatManager.SendChat(_say3);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68849">
      <![CDATA[
        if (ff14bot.Settings.CharacterSettings.Instance.UseMount)
        {
          ff14bot.Settings.CharacterSettings.Instance.UseMount = false;
        }
        else
        {
          ff14bot.Settings.CharacterSettings.Instance.UseMount = true;
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="68851">
      <![CDATA[
        var _points = new Vector3[]
        {
          new Vector3("-49.09671, 104.5596, -856.1825"),
          new Vector3("-51.66288, 107.6998, -850.724"),
          new Vector3("-52.32366, 110.4392, -847.92"),
          new Vector3("-50.89046, 110.9569, -846.8693"),
          new Vector3("-45.86432, 110.9304, -850.9687"),
          new Vector3("-41.45583, 112.1093, -847.7904"),
          new Vector3("-39.99538, 113.0162, -846.7058"),
          new Vector3("-38.91747, 114.0767, -844.4154"),
          new Vector3("-39.39163, 115.7306, -840.4359")
        };

        await CommonTasks.StopAndDismount();
        foreach (var _loc in _points)
        {
          Navigator.PlayerMover.MoveTowards(_loc);
          while (Core.Me.Location.Distance2D(_loc) > 0.5f)
          {
            await Coroutine.Yield();
          }
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68852">
      <![CDATA[
        var _loc = new Vector3("534.9706, 110.0431, -156.1286");
        var _loc1 = new Vector3("537.6138, 111.6233, -155.7955");
        var _loc2 = new Vector3("540.9705, 113.3802, -155.476");
        var _loc3 = new Vector3("544.9383, 114.9442, -155.3082");
        var _loc4 = new Vector3("549.4981, 117.2502, -154.7078");

        if (Core.Me.InCombat)
        {
          await Coroutine.Yield();
        }

        Navigator.PlayerMover.MoveTowards(_loc);
        while (Core.Me.Location.Distance2D(_loc) > 1)
        {
          await Coroutine.Yield();
        }

        Navigator.PlayerMover.MoveTowards(_loc1);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(_loc1) > 1)
        {
          await Coroutine.Yield();
        }

        Navigator.PlayerMover.MoveTowards(_loc2);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(_loc2) > 1)
        {
          await Coroutine.Yield();
        }

        Navigator.PlayerMover.MoveTowards(_loc3);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(_loc3) > 1)
        {
          await Coroutine.Yield();
        }

        Navigator.PlayerMover.MoveTowards(_loc4);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        await Coroutine.Sleep(800);

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68853">
      <![CDATA[
        var _objIds = new uint[] { 1027691, 1027692, 1027693 };
        await CommonTasks.StopAndDismount();
        GameObjectManager.GameObjects.Where(obj => _objIds.Contains(obj.NpcId)).OrderBy(r => Core.Me.Distance(r.Location)).FirstOrDefault().Target();
        ChatManager.SendChat("/pet");
      ]]>
    </CodeChunk>
    <CodeChunk Name="68855">
      <![CDATA[
        MovementManager.StartDescending();
        await Coroutine.Wait(-1, () => MovementManager.IsDiving);
        MovementManager.StopDescending();
        await Coroutine.Sleep(3000);

        var _points = new Vector3[]
        {
          new Vector3("-88.03247, -41.0285, -394.6703"),
          new Vector3("-256.1565, -44.68527, -299.1531"),
          new Vector3("-315.9507, -51.20992, -265.1386"),
          new Vector3("-337.7368, -52.6399, -276.0342"),
          new Vector3("-361.3458, -51.9763, -302.1036")
        };

        await CommonTasks.SummonFlyingMount();
        foreach (var _loc in _points)
        {
          Navigator.PlayerMover.MoveTowards(_loc);
          while (Core.Me.Location.Distance2D(_loc) > 1)
          {
            await Coroutine.Yield();
          }
        }
        await CommonTasks.StopAndDismount();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688613">
      <![CDATA[
        await CommonTasks.StopAndDismount();
        GameObjectManager.GetObjectByNPCId(1029198).Target();
        ChatManager.SendChat("/kneel");
      ]]>
    </CodeChunk>
    <CodeChunk Name="688614">
      <![CDATA[
        var _say = String.Empty;
        var _objIds = new uint[] { 1027463, 1027750, 1030382 };
#if RB_CN
        _say = "/s 阿金托塔";
#else
        _say = "/s allin tuta";
#endif
        await CommonTasks.StopAndDismount();
        GameObjectManager.GameObjects.Where(obj => _objIds.Contains(obj.NpcId)).OrderBy(r => Core.Me.Distance(r.Location)).FirstOrDefault().Target();
        ChatManager.SendChat(_say);
      ]]>
    </CodeChunk>
    <CodeChunk Name="688682">
      <![CDATA[
        MovementManager.StartDescending();
        await Coroutine.Wait(-1, () => MovementManager.IsDiving);
        MovementManager.StopDescending();
        await Coroutine.Sleep(3000);

        var _points = new Vector3[]
        {
          new Vector3("-606.0456, -72.13346, 351.201"),
          new Vector3("-593.3831, -90.30553, 331.0424"),
          new Vector3("-592.4348, -90.94609, 291.7052")
        };

        await CommonTasks.SummonFlyingMount();
        foreach (var _loc in _points)
        {
          Navigator.PlayerMover.MoveTowards(_loc);
          while (Core.Me.Distance(_loc) > 1f)
          {
            await Coroutine.Yield();
          }
        }
        await CommonTasks.StopAndDismount();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688683">
      <![CDATA[
        var _pointDict = new Dictionary<uint,Vector3>()
        {
          { 1, new Vector3("-592.1481, -89.99309, 331.6848") },
          { 2, new Vector3("-611.4541, -90.77441, 381.7081") },
          { 3, new Vector3("-593.7025, -93.78654, 407.4443") },
          { 4, new Vector3("-593.3154, -93.92672, 433.7951") },
          { 5, new Vector3("-619.3897, -93.69337, 449.0387") },
          { 6, new Vector3("-670.2526, -90.68439, 449.9427") }
        };

        await CommonTasks.SummonFlyingMount();
        foreach (var _entry in _pointDict)
        {
          var _dist = _entry.Key == 3 || _entry.Key == 6 ? 3f : 1f;
          Navigator.PlayerMover.MoveTowards(_entry.Value);
          while (Core.Me.Distance(_entry.Value) > _dist)
          {
            Navigator.PlayerMover.MoveTowards(_entry.Value);
            await Coroutine.Yield();
          }
        }
        await CommonTasks.StopAndDismount();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688684">
      <![CDATA[
        var _pointDict = new Dictionary<uint,Vector3>()
        {
          { 1, new Vector3("-612.2916, -94.33482, 449.4829") },
          { 2, new Vector3("-594.0873, -92.53763, 422.4884") },
          { 3, new Vector3("-610.4756, -87.80372, 364.269") },
          { 4, new Vector3("-681.2765, -75.68441, 337.8335") },
          { 5, new Vector3("-744.2791, -61.84064, 329.4133") },
          { 6, new Vector3("-782.1358, -61.35119, 299.1154") },
          { 7, new Vector3("-825.4297, -91.46299, 289.842") },
          { 8, new Vector3("-880.1556, -90.68439, 289.9977") }
        };

        await CommonTasks.SummonFlyingMount();
        foreach (var _entry in _pointDict)
        {
          var _dist = _entry.Key == 8 ? 3f : 1f;
          Navigator.PlayerMover.MoveTowards(_entry.Value);
          while (Core.Me.Distance(_entry.Value) > _dist)
          {
            Navigator.PlayerMover.MoveTowards(_entry.Value);
            await Coroutine.Yield();
          }
        }
        await CommonTasks.StopAndDismount();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688685">
      <![CDATA[
        var _points = new Vector3[]
        {
          new Vector3("-817.8951, -92.57719, 288.9811"),
          new Vector3("-774.7606, -60.1625, 308.8266"),
          new Vector3("-703.8699, -68.77389, 347.6358"),
          new Vector3("-604.2443, -85.42355, 349.0722"),
          new Vector3("-582.7845, -94.7077, 299.3277"),
          new Vector3("-592.5828, -96.1726, 259.3787")
        };

        await CommonTasks.SummonFlyingMount();
        foreach (var _loc in _points)
        {
          Navigator.PlayerMover.MoveTowards(_loc);
          while (Core.Me.Distance(_loc) > 2)
          {
            Navigator.PlayerMover.MoveTowards(_loc);
            await Coroutine.Yield();
          }
        }
        await CommonTasks.StopAndDismount();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68868255">
      <![CDATA[
        var _points = new Vector3[]
        {
          new Vector3("-592.29, -88.55299, 290.221"),
          new Vector3("-591.4489, -90.51643, 330.3261")
        };

        await CommonTasks.SummonFlyingMount();
        foreach (var _loc in _points)
        {
          Navigator.PlayerMover.MoveTowards(_loc);
          while (Core.Me.Distance(_loc) > 1)
          {
            Navigator.PlayerMover.MoveTowards(_loc);
            await Coroutine.Yield();
          }
        }

        Navigator.PlayerMover.MoveTowards(new Vector3("-520.7365, -0.5999992, 355.8167"));
        await Coroutine.Wait(-1, () => !MovementManager.IsDiving);
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68871">
      <![CDATA[
        var _pointDict = new Dictionary<int,Vector3>()
        {
          { 0, new Vector3("127.5257, 8.71689, -427.1265") },
          { 1, new Vector3("214.8652, 8.222549, -427.2918") },
          { 2, new Vector3("216.4697, 7.063021, -516.0765") },
          { 3, new Vector3("123.1052, 8.542004, -508.6006") }
        };

        var _activeId = ConditionParser.GetQuestById(68871).GetTodoArgs(3, 0).Item1;

        await CommonTasks.StopAndDismount();
        while (Core.Me.Distance(_pointDict[_activeId]) > 2)
        {
          Navigator.PlayerMover.MoveTowards(_pointDict[_activeId]);
          await Coroutine.Sleep(800);
          MovementManager.Jump();
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688721">
      <![CDATA[
        var _pointDict = new Dictionary<int,Vector3>()
        {
          { 0, new Vector3("77.50536, -18.78198, -730.0555") },
          { 1, new Vector3("42.34124, -18.79295, -755.9679") },
          { 2, new Vector3("0.4097667, -28.78199, -756.3069") },
          { 3, new Vector3("12.50611, -28.78199, -868.741") },
          { 4, new Vector3("89.07024, -8.678911, -868.3239") }
        };

        await CommonTasks.MountUp();
        foreach (var _entry in _pointDict)
        {
          if (_entry.Key == 2 || _entry.Key == 4)
          {
            Navigator.PlayerMover.MoveTowards(_entry.Value);
            while (Core.Me.Distance(_entry.Value) > 0.5f)
            {
              await Coroutine.Yield();
            }
          }
          else
          {
            while (Core.Me.Distance(_entry.Value) > 3f)
            {
              await CommonTasks.MoveTo(_entry.Value);
              await Coroutine.Yield();
            }
          }
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688722">
      <![CDATA[
        var _pointDict = new Dictionary<int,Vector3>()
        {
          { 0, new Vector3("176.0322, -8.781983, -854.7285") },
          { 1, new Vector3("175.7784, 1.218026, -825.6116") },
          { 2, new Vector3("175.8311, 1.218021, -750.8742") },
          { 3, new Vector3("176.1351, 11.21801, -721.9519") },
          { 4, new Vector3("215.7862, 11.20001, -711.97") }
        };

        await CommonTasks.MountUp();
        foreach (var _entry in _pointDict)
        {
          if (_entry.Key == 1 || _entry.Key == 3)
          {
            Navigator.PlayerMover.MoveTowards(_entry.Value);
            while (Core.Me.Distance(_entry.Value) > 0.5f)
            {
              await Coroutine.Yield();
            }
          }
          else
          {
            while (Core.Me.Distance(_entry.Value) > 3f)
            {
              await CommonTasks.MoveTo(_entry.Value);
              await Coroutine.Yield();
            }
          }
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688723">
      <![CDATA[
        var _pointDict = new Dictionary<int,Vector3>()
        {
          { 0, new Vector3("175.6707, 11.21801, -720.5367") },
          { 1, new Vector3("175.921, 1.239229, -753.0126") },
          { 2, new Vector3("200.7583, 1.218023, -784.2433") },
          { 3, new Vector3("176.9661, 1.218023, -790.7839") },
          { 4, new Vector3("176.0387, 1.218026, -825.6517") },
          { 5, new Vector3("175.4211, -8.781983, -866.9968") },
          { 6, new Vector3("121.7471, -8.781985, -868.3108") },
          { 7, new Vector3("106.8379, -8.781985, -847.7051") },
          { 8, new Vector3("97.98509, -8.781985, -879.3096") },
          { 9, new Vector3("113.1232, -8.781985, -892.9017") }
        };

        foreach (var _entry in _pointDict)
        {
          if (_entry.Key == 1 || _entry.Key == 5)
          {
            Navigator.PlayerMover.MoveTowards(_entry.Value);
            while (Core.Me.Distance(_entry.Value) > 0.5f)
            {
              await Coroutine.Yield();
            }
          }
          else
          {
            while (Core.Me.Distance(_entry.Value) > 3f)
            {
              await CommonTasks.MoveTo(_entry.Value);
              await Coroutine.Yield();
            }
          }
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68875">
      <![CDATA[
        await Coroutine.Sleep(3000);
        InventoryManager.FilledSlots.FirstOrDefault(slot => slot.RawItemId == 2002554).UseItem();
        await Coroutine.Wait(5000, () => Core.Me.IsCasting);
        await Coroutine.Wait(15000, () => !Core.Me.IsCasting);
      ]]>
    </CodeChunk>
    <CodeChunk Name="69144">
      <![CDATA[
        var _target = GameObjectManager.GetObjectByNPCId(1029608);
        await CommonTasks.StopAndDismount();
        _target.Target();
        ChatManager.SendChat("/poke");
      ]]>
    </CodeChunk>
    <CodeChunk Name="69149">
      <![CDATA[
        await Coroutine.Sleep(3000);
        InventoryManager.FilledSlots.FirstOrDefault(slot => slot.RawItemId == 2002559).UseItem();
        await Coroutine.Wait(5000, () => Core.Me.IsCasting);
        await Coroutine.Wait(15000, () => !Core.Me.IsCasting);
      ]]>
    </CodeChunk>
    <CodeChunk Name="69181">
      <![CDATA[
        var _points = new Vector3[]
        {
          new Vector3("-195.8405, 1.192093E-07, -81.81522"),
          new Vector3("-212.5937, 8.898566, -83.02216"),
          new Vector3("-211.8621, 8.898599, -88.765"),
          new Vector3("-197.1779, 17.75974, -87.26595"),
          new Vector3("-197.6884, 17.75973, -81.76833"),
          new Vector3("-212.4639, 26.65731, -83.30803"),
          new Vector3("-211.8611, 26.65728, -88.52416"),
          new Vector3("-196.7749, 35.56873, -86.70128"),
          new Vector3("-197.4008, 35.56873, -82.18397"),
          new Vector3("-222.9072, 38.61477, -86.57802"),
        };

        foreach (var _loc in _points)
        {
          Navigator.PlayerMover.MoveTowards(_loc);
          while (Core.Me.Location.Distance2D(_loc) > 0.5f)
          {
            await Coroutine.Yield();
          }
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="69183">
      <![CDATA[
        MovementManager.StartDescending();
        await Coroutine.Wait(-1, () => MovementManager.IsDiving);
        await Coroutine.Sleep(1000);
        MovementManager.StopDescending();

        await CommonTasks.SummonFlyingMount();

        var pos = new Vector3(-630.6033f, -34.54309f, 735.6443f);

        Navigator.PlayerMover.MoveTowards(pos);
        while (Core.Me.Location.Distance(pos) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(pos);
        }
        Navigator.PlayerMover.MoveStop();

        var rocks = GameObjectManager.GetObjectsOfType<EventObject>().Where(x => x.IsTargetable && (x.NpcId == 2010137 || x.NpcId == 2010138));

        foreach (var rock in rocks.ToList())
        {
          var todoArg = ConditionParser.GetQuestById(69183).GetTodoArgs(2, 0).Item1;
          var _loc = rock.Location;
          while (Core.Player.Location.Distance(_loc) > 1.5f)
          {
            Navigator.PlayerMover.MoveTowards(_loc);
            await Coroutine.Yield();
          }
          MovementManager.MoveStop();
          if (Core.Me.IsMounted) { ActionManager.Dismount(); }
          while (!Core.Me.IsCasting)
          {
            if (!Core.Me.IsCasting) { rock.Interact(); }
            await Coroutine.Yield();
            await Coroutine.Sleep(500);
          }
          await Coroutine.Wait(1000, () => Core.Me.IsCasting);
          await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
          await Coroutine.Wait(3000, () => Talk.DialogOpen);
          while (Talk.DialogOpen || MovementManager.IsOccupied || (ConditionParser.GetQuestStep(69183) == 2 && todoArg == ConditionParser.GetQuestById(69183).GetTodoArgs(2, 0).Item1))
          {
            if (Talk.DialogOpen) { Talk.Next(); }
            await Coroutine.Yield();
            await Coroutine.Wait(500, () => Talk.DialogOpen || MovementManager.IsOccupied || (ConditionParser.GetQuestStep(69183) == 2 && todoArg == ConditionParser.GetQuestById(69183).GetTodoArgs(2, 0).Item1));
          }
        }

        Navigator.PlayerMover.MoveTowards(pos);
        while (Core.Me.Location.Distance(pos) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(pos);
        }
        Navigator.PlayerMover.MoveStop();
        MovementManager.StartAscending();
        await Coroutine.Wait(-1, () => !MovementManager.IsDiving);
        await Coroutine.Sleep(1000);
        MovementManager.StopAscending();
      ]]>
    </CodeChunk>
    <CodeChunk Name="69186">
      <![CDATA[
        await Coroutine.Sleep(1000);
        GameObjectManager.GetObjectByNPCId(1030519).Target();
        ChatManager.SendChat("/psych");
      ]]>
    </CodeChunk>
    <CodeChunk Name="69187">
      <![CDATA[
        var _points = new Vector3[]
        {
          new Vector3("360.9949, 301.024, -270.2376"),
          new Vector3("375.0332, 302.3947, -295.8937"),
          new Vector3("347.5286, 288.169, -328.5484"),
          new Vector3("339.9171, 282.4768, -355.5279"),
          new Vector3("295.5555, 271.9644, -357.3546"),
          new Vector3("273.2782, 259.411, -321.0667"),
          new Vector3("277.5782, 251.9542, -289.098"),
          new Vector3("306.1181, 242.3637, -263.6519"),
          new Vector3("332.9348, 235.6098, -267.2523")
        };

        await CommonTasks.SummonFlyingMount();
        foreach (var _loc in _points)
        {
          Navigator.PlayerMover.MoveTowards(_loc);
          while (Core.Me.Location.Distance2D(_loc) > 0.5f)
          {
            await Coroutine.Yield();
          }
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="69304">
      <![CDATA[
        var _barnacles = GameObjectManager.GetObjectsOfType<EventObject>().Where(x => x.IsTargetable && (x.NpcId == 2010278 || x.NpcId == 2010280 || x.NpcId == 2010282));

        foreach (var barnacle in _barnacles.ToList())
        {
          var todoArg = ConditionParser.GetQuestById(69304).GetTodoArgs(3, 0).Item1;
          var _loc = barnacle.Location;
          var _flyto = new ff14bot.Pathing.FlyToParameters(_loc) { CheckIndoors = false };
          while (Core.Player.Location.Distance(_loc) > 1.5f)
          {
            ff14bot.Pathing.Flightor.MoveTo(_flyto);
            await Coroutine.Yield();
          }
          MovementManager.MoveStop();
          if (Core.Me.IsMounted) { ActionManager.Dismount(); }
          while (!Core.Me.IsCasting)
          {
            barnacle.Interact();
            await Coroutine.Yield();
          }
          await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
          while (todoArg == ConditionParser.GetQuestById(69304).GetTodoArgs(3, 0).Item1 && ConditionParser.GetQuestStep(69304) == 3)
          {
            if (Talk.DialogOpen)  {  Talk.Next();  }
            await Coroutine.Yield();
          }
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="68858_Learn_Aetheryte">
      <![CDATA[
        var aetheryte = GameObjectManager.GetObjectByNPCId(132);
        var exitPos = new Vector3(754.3112f, 21.38111f, -8.365414f);

        var pos = aetheryte.Location;
        while (Core.Player.Location.Distance2D(pos) > 5.5f)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          await Coroutine.Yield();
        }
        Navigator.PlayerMover.MoveStop();

        aetheryte.Interact();
        await Coroutine.Wait(5000, () => Core.Me.IsCasting);
        await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
        await Coroutine.Sleep(500);

        while (Core.Player.Location.Distance2D(exitPos) > 1.5f)
        {
          Navigator.PlayerMover.MoveTowards(exitPos);
         await Coroutine.Yield();
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="Enable_SideStep">
      <![CDATA[
        var sideStep = PluginManager.Plugins.Where(p => p.Plugin.Name == "SideStep").FirstOrDefault();
        try
        {
          if (!sideStep.Enabled)
          {
            Logging.Write("Enabling SideStep.");
            sideStep.Enabled = true;
          }
          else { Logging.Write("SideStep already enabled."); }
        }
        catch (Exception ex)
        {
          Logging.Write("Error enabling SideStep.");
          TreeRoot.Stop();
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="DutyCommence">
      <![CDATA[
        Logging.Write("Commencing duty.");
        uint[] npcIds = { 1028955, 1029243, 1029599, 1030179, 1030239, 1032509, 2011085 };
        var dutyNpc = GameObjectManager.GameObjects.Where(r => r.IsTargetable && npcIds.Contains(r.NpcId)).OrderBy(r => r.Distance()).FirstOrDefault();
        while (Core.Me.Location.Distance2D(dutyNpc.Location) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(dutyNpc.Location);
        }
        Navigator.PlayerMover.MoveStop();
        dutyNpc.Interact();
        await Coroutine.Wait(5000, () => Talk.DialogOpen || DifficultySelectYesNo.IsOpen || SelectYesno.IsOpen);
        while (!(DifficultySelectYesNo.IsOpen || SelectYesno.IsOpen))
        {
          Talk.Next();
          await Coroutine.Yield();
        }
        await Coroutine.Wait(5000, () => DifficultySelectYesNo.IsOpen || SelectYesno.IsOpen);
        if (DifficultySelectYesNo.IsOpen) { DifficultySelectYesNo.Proceed(2); }
        else if (SelectYesno.IsOpen) { SelectYesno.Yes(); }
        else
        {
          Logging.Write("Duty window didn't open.");
          TreeRoot.Stop();
        }
        await Coroutine.Wait(2000, () => CommonBehaviors.IsLoading);
        await Coroutine.Wait(-1, () => !CommonBehaviors.IsLoading);
        while (QuestLogManager.InCutscene)
        {
          ff14bot.RemoteAgents.AgentCutScene.Instance.PromptSkip();
          if (ff14bot.RemoteAgents.AgentCutScene.Instance.CanSkip && SelectString.IsOpen) { SelectString.ClickSlot(0); }
          if (Talk.DialogOpen) { Talk.Next(); }
          await Coroutine.Yield();
        }
        await Coroutine.Wait(2000, () => CommonBehaviors.IsLoading);
        await Coroutine.Wait(-1, () => !CommonBehaviors.IsLoading);
        await Coroutine.Wait(10000, () => !Core.Me.HasAura(1268));
        Logging.Write("Duty commenced.");
        await Coroutine.Sleep(1500);
      ]]>
    </CodeChunk>
    <CodeChunk Name="Handle_Cutscene_Talking">
      <![CDATA[
        await Coroutine.Wait(10000, () => CommonBehaviors.IsLoading || QuestLogManager.InCutscene);
        await Coroutine.Wait(-1, () => !CommonBehaviors.IsLoading);
        while (QuestLogManager.InCutscene || Talk.DialogOpen || CommonBehaviors.IsLoading)
        {
          ff14bot.RemoteAgents.AgentCutScene.Instance.PromptSkip();
          if (ff14bot.RemoteAgents.AgentCutScene.Instance.CanSkip && SelectString.IsOpen) { SelectString.ClickSlot(0); }
          if (Talk.DialogOpen) { Talk.Next(); }
          await Coroutine.Yield();
        }
        await Coroutine.Wait(-1, () => !CommonBehaviors.IsLoading);
        await Coroutine.Wait(10000, () => !Core.Me.HasAura(1268));
        await Coroutine.Sleep(3000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="Wait_For_Enemies">
      <![CDATA[
        await Coroutine.Wait(50000, () => GameObjectManager.GameObjects.Count(x => x.CanAttack && x.IsVisible && x.IsTargetable && x.Distance() < 40f) > 0)
      ]]>
    </CodeChunk>
    <CodeChunk Name="68441_Move_1">
      <![CDATA[
        var pos = new Vector3(260.3868f, 132.7529f, -181.4893f);
        Navigator.PlayerMover.MoveTowards(pos);
        while (Core.Me.Location.Distance2D(pos) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(pos);
        }
        Navigator.PlayerMover.MoveStop();
        await Coroutine.Sleep(1000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68441_Move_2">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(267.2043f, 133.3912f, -204.021f),
          new Vector3(265.1599f, 134.8314f, -243.0669f),
          new Vector3(241.9282f, 134.8314f, -265.0021f),
          new Vector3(217.5665f, 134.8314f, -265.2322f)
        };
        foreach (var pos in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();
        await Coroutine.Sleep(1000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68441_Move_3">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(216.742f, 134.8314f, -285.819f),
          new Vector3(178.8258f, 134.8314f, -310.5813f),
          new Vector3(125.9977f, 134.8314f, -316.2153f)
        };
        foreach (var pos in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();
        await Coroutine.Sleep(1000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68441_Move_4">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(118.1585f, 134.8314f, -332.2542f),
          new Vector3(54.7109f, 134.8314f, -368.2711f)
        };
        foreach (var pos in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();
        await Coroutine.Sleep(1000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68441_Move_5">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(25.40789f, 134.8314f, -388.5196f),
          new Vector3(-3.866283f, 157.4853f, -345.0883f),
          new Vector3(-33.14128f, 161.0694f, -361.8504f)
        };
        foreach (var pos in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();
        await Coroutine.Sleep(1000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68441_Use_Bindings">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(-3.866283f, 157.4853f, -345.0883f),
          new Vector3(25.40789f, 134.8314f, -388.5196f)
        };
        var finalFight = new Vector3(133.7116f, 134.8314f, -314.6191f);
        var bindings = GameObjectManager.GetObjectByNPCId(2010553);

        Navigator.PlayerMover.MoveTowards(bindings.Location);
        while (Core.Me.Location.Distance2D(bindings.Location) > 1.5f) { await Coroutine.Yield(); }
        Navigator.PlayerMover.MoveStop();
        bindings.Interact();
        await Coroutine.Wait(1000, () => Core.Me.IsCasting);
        await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
        await Coroutine.Wait(10000, () => QuestLogManager.InCutscene);
        while (QuestLogManager.InCutscene)
        {
          ff14bot.RemoteAgents.AgentCutScene.Instance.PromptSkip();
          if (ff14bot.RemoteAgents.AgentCutScene.Instance.CanSkip && SelectString.IsOpen) { SelectString.ClickSlot(0); }
          if (Talk.DialogOpen) { Talk.Next(); }
          await Coroutine.Yield();
        }
        await Coroutine.Sleep(1000);
        foreach (var pos in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveTowards(finalFight);
        await Coroutine.Wait(30000, () => QuestLogManager.InCutscene);
        Navigator.PlayerMover.MoveStop();
        while (QuestLogManager.InCutscene)
        {
          ff14bot.RemoteAgents.AgentCutScene.Instance.PromptSkip();
          if (ff14bot.RemoteAgents.AgentCutScene.Instance.CanSkip && SelectString.IsOpen) { SelectString.ClickSlot(0); }
          if (Talk.DialogOpen) { Talk.Next(); }
          await Coroutine.Yield();
        }
        await Coroutine.Sleep(1000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68873_Move_1">
      <![CDATA[
        var pos = new Vector3(14.28356f, 0.1046619f, 38.84683f);
        var yshtola = GameObjectManager.GetObjectByNPCId(8378);
        Navigator.PlayerMover.MoveTowards(pos);
        while (Core.Me.Location.Distance2D(pos) > 1f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(pos);
        }
        Navigator.PlayerMover.MoveStop();
        Logging.Write("Waiting for NPCs to catch up.");
        await Coroutine.Wait(10000, () => yshtola.Distance() < 3f);
        await Coroutine.Sleep(500);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68873_Move_2">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(15.22398f, 0.08181381f, -2.349445f),
          new Vector3(-12.37054f, -0.02311707f, -2.830885f),
          new Vector3(-13.97384f, 0.6747571f, -18.35977f)
        };
        var ronkan = GameObjectManager.GetObjectsByNPCId(8372);
        bool loop = true;


        Logging.Write("Waiting for safety.");
        while (loop)
        {
          foreach (var x in ronkan)
          {
            if (x.Distance() < 10f)
            {
              loop = false;
              break;
            }
          }
          await Coroutine.Yield();
        }
        var closeRonkan = GameObjectManager.GetObjectsByNPCId(8372).OrderBy(r => r.Distance()).FirstOrDefault();
        await Coroutine.Wait(3000, () => closeRonkan.Distance() > 11f);
        Logging.Write("Moving.");
        foreach (var pos in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();
        var knot = GameObjectManager.GetObjectByNPCId(2010202);
        await Coroutine.Wait(10000, () => knot.IsTargetable);
        knot.Interact();
        await Coroutine.Wait(1000, () => Core.Me.IsCasting);
        await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
        await Coroutine.Wait(10000, () => !Core.Me.HasAura(1268));
      ]]>
    </CodeChunk>
    <CodeChunk Name="68873_Move_3">
      <![CDATA[
        var vector3Array1 = new Vector3[]
        {
          new Vector3(-14.00235f, 0.03291607f, -30.36433f),
          new Vector3(9.721174f, 0.09924376f, -32.07147f)
        };
        var vector3Array2 = new Vector3[]
        {
          new Vector3(15.12078f, 0.1027895f, -31.24303f),
          new Vector3(14.13074f, -0.01106833f, -48.20753f),
          new Vector3(6.950103f, 0.1076589f, -49.20478f)
        };
        var vector3Array3 = new Vector3[]
        {
          new Vector3(14.86217f, 0.03642597f, -49.62528f),
          new Vector3(15.02644f, 0.1227645f, -64.99269f),
          new Vector3(1.423861f, 0.06975281f, -63.98242f),
          new Vector3(-0.6833441f, 0.05858231f, -58.22501f)
        };
        var vector3Array4 = new Vector3[]
        {
          new Vector3(-0.9216847f, 0.1352029f, -65.15829f),
          new Vector3(-13.71202f, 0.02748704f, -67.02001f),
          new Vector3(-13.67861f, 1.097204f, -81.71308f),
          new Vector3(-2.725793f, 0.9913535f, -82.49586f)
        };

        foreach (var pos in vector3Array1)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();

        var ronkan = GameObjectManager.GetObjectsByNPCId(8372).Where(r => r.Distance() < 40 && r.IsVisible);
        bool loop = true;
        Logging.Write("Waiting for safety.");
        while (loop)
        {
          foreach (var x in ronkan)
          {
            if (x.Distance() < 8f)
            {
              loop = false;
              break;
            }
          }
          await Coroutine.Yield();
        }
        while (ronkan.OrderBy(x => x.Distance()).FirstOrDefault().Distance() < 8f) { await Coroutine.Yield(); }
        await Coroutine.Sleep(500);

        Logging.Write("Moving.");
        foreach (var pos in vector3Array2)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 0.8f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();

        Logging.Write("Waiting for safety.");
        var closeRonkan = ronkan.OrderBy(x => x.Distance()).FirstOrDefault();
        while (!(closeRonkan.Distance() > 8f && closeRonkan.Heading >= 6.27f && closeRonkan.Heading <= 6.29f)) { await Coroutine.Yield(); }
        Logging.Write("Moving.");
        foreach (var pos in vector3Array3)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 0.8f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();

        Logging.Write("Waiting for safety.");
        closeRonkan = ronkan.OrderBy(x => x.Distance()).FirstOrDefault();
        while (!(closeRonkan.Distance() > 10f && closeRonkan.Heading >= 1.1f && closeRonkan.Heading <= 1.9f)) { await Coroutine.Yield(); }
        Logging.Write("Moving.");
        foreach (var pos in vector3Array4)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 0.8f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();

        var knot = GameObjectManager.GetObjectByNPCId(2010203);
        await Coroutine.Wait(10000, () => knot.IsTargetable);
        knot.Interact();
        await Coroutine.Wait(1000, () => Core.Me.IsCasting);
        await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
        await Coroutine.Sleep(2000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68873_Move_4">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(8.014305f, 1.123665f, -83.41588f),
          new Vector3(8.392563f, 2.379778f, -99.76679f)
        };
        var knotPos = new Vector3(8.339327f, 3.798785f, -173.702f);
        var ronkan = GameObjectManager.GetObjectsByNPCId(8371).OrderBy(r => r.Distance()).FirstOrDefault();

        foreach (var pos in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();


        Logging.Write("Waiting for golems to be distracted.");
        await Coroutine.Wait(-1, () => ronkan.IsTargetable && ronkan.CanAttack);

        Logging.Write("Moving.");
        Navigator.PlayerMover.MoveTowards(knotPos);
        while (Core.Me.Location.Distance2D(knotPos) > 1f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(knotPos);
        }
        Navigator.PlayerMover.MoveStop();

        var knot = GameObjectManager.GetObjectByNPCId(2010206);
        await Coroutine.Wait(10000, () => knot.IsTargetable);
        knot.Interact();
        await Coroutine.Wait(1000, () => Core.Me.IsCasting);
        await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
        await Coroutine.Wait(10000, () => Core.Me.HasAura(1268));
        await Coroutine.Wait(8000, () => CommonBehaviors.IsLoading);
        await Coroutine.Wait(-1, () => !CommonBehaviors.IsLoading);
        await Coroutine.Wait(5000, () => Core.Me.HasAura(1268));
        await Coroutine.Wait(10000, () => !Core.Me.HasAura(1268));
      ]]>
    </CodeChunk>
    <CodeChunk Name="68873_Move_5">
      <![CDATA[
        await Coroutine.Wait(10000, () => !Core.Me.HasAura(1268));
        float faceWest = 4.7f;
        float faceNorth = 3.1f;

        for (var i = 0; i < 4; i++)
        {
          var loc = Core.Me.Location;
          if (i == 1) MovementManager.SetFacing(faceNorth);
          else MovementManager.SetFacing(faceWest);
          MovementManager.MoveForwardStart();
          await Coroutine.Wait(1500, () => Clio.Utilities.Vector3.Distance(Core.Player.Location, loc) > 5f);
          MovementManager.MoveStop();
          await Coroutine.Sleep(1500);
          MovementManager.MoveForwardStart();
          await Coroutine.Sleep(400);
          MovementManager.MoveStop();
        }

        await Coroutine.Wait(10000, () => !Core.Me.HasAura(1268));
        await Coroutine.Wait(10000, () => CommonBehaviors.IsLoading);
        await Coroutine.Wait(-1, () => !CommonBehaviors.IsLoading);
        await Coroutine.Wait(10000, () => !Core.Me.HasAura(1268));
      ]]>
    </CodeChunk>
    <CodeChunk Name="68873_Move_6">
      <![CDATA[
        var vector3Array1 = new Vector3[]
        {
          new Vector3(168.4756f, 2.52711f, -231.3245f),
          new Vector3(150.0327f, -5.003096f, -274.0374f),
          new Vector3(167.212f, -12.41058f, -316.3713f),
          new Vector3(150.0141f, -19.7203f, -357.7236f)
        };

        var vector3Array2 = new Vector3[]
        {
          new Vector3(158.8333f, -26.34257f, -396.6728f),
          new Vector3(160.0931f, -106.2133f, -423.7942f)
        };

        var triggerBoulder = new Vector3(158.7471f, 5.132905f, -209.1653f);

        Navigator.PlayerMover.MoveTowards(triggerBoulder);
        while (Core.Me.Location.Distance2D(triggerBoulder) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(triggerBoulder);
        }
        foreach (var pos in vector3Array1)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
          Navigator.PlayerMover.MoveStop();
          await Coroutine.Wait(3000, () => GameObjectManager.GetObjectsByNPCId(8379).OrderBy(r => r.Distance()).FirstOrDefault().Distance() < 10f);
          await Coroutine.Sleep(1200);
        }
        foreach (var pos in vector3Array2)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f && !Core.Me.HasAura(1268))
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();
        await Coroutine.Wait(20000, () => !Core.Me.HasAura(1268));
      ]]>
    </CodeChunk>
    <CodeChunk Name="68873_Move_7">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(160.5699f, -106.2133f, -491.0412f),
          new Vector3(199.1992f, -105.3821f, -491.4712f)
        };
        var ranjitFight = new Vector3(234.3374f, -105.2454f, -491.8001f);

        Logging.Write("Moving.");
        foreach (var pos in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();
        var door = GameObjectManager.GetObjectByNPCId(2010204);
        await Coroutine.Wait(10000, () => door.IsTargetable);
        door.Interact();
        await Coroutine.Wait(1000, () => Core.Me.IsCasting);
        await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
        await Coroutine.Wait(10000, () => !Core.Me.HasAura(1268));
        Navigator.PlayerMover.MoveTowards(ranjitFight);
        while (Core.Me.Location.Distance2D(ranjitFight) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(ranjitFight);
        }
        Navigator.PlayerMover.MoveStop();
        await Coroutine.Wait(5000, () => GameObjectManager.GetObjectByNPCId(8374).CanAttack);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68873_Grab_Heart">
      <![CDATA[
        var door = GameObjectManager.GetObjectByNPCId(2010205);
        var heart = GameObjectManager.GetObjectByNPCId(2010207);

        await Coroutine.Wait(8000, () => door.IsTargetable);
        Navigator.PlayerMover.MoveTowards(door.Location);
        while (Core.Me.Location.Distance2D(door.Location) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(door.Location);
        }
        Navigator.PlayerMover.MoveStop();
        door.Interact();
        await Coroutine.Wait(1000, () => Core.Me.IsCasting);
        await Coroutine.Wait(-1, () => !Core.Me.IsCasting);

        Navigator.PlayerMover.MoveTowards(heart.Location);
        while (Core.Me.Location.Distance2D(heart.Location) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(heart.Location);
        }
        Navigator.PlayerMover.MoveStop();
        heart.Interact();
        await Coroutine.Wait(1000, () => Core.Me.IsCasting);
        await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
      ]]>
    </CodeChunk>
    <CodeChunk Name="69142_Move_1">
      <![CDATA[
        var pos = new Vector3(-698.8723f, 51.39332f, -235.7107f);

        Navigator.PlayerMover.MoveTowards(pos);
        while (Core.Me.Location.Distance2D(pos) > 1.5f && !CommonBehaviors.IsLoading && !QuestLogManager.InCutscene)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(pos);
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="69167_Move_1">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(10.52087f, 5.999996f, -36.75715f),
          new Vector3(21.07042f, 8.985553f, -32.43565f),
          new Vector3(30.42315f, 14.14685f, -23.4014f),
          new Vector3(36.52925f, 19.57784f, -11.3792f),
          new Vector3(37.8889f, 25.6f, 3.687031f),
          new Vector3(34.18088f, 29.73421f, 17.03649f),
          new Vector3(25.75411f, 33.98419f, 28.75109f),
          new Vector3(14.87069f, 39.13329f, 35.49384f),
          new Vector3(2.98393f, 43.97747f, 38.03107f),
          new Vector3(-10.26559f, 49.30219f, 37.0467f),
          new Vector3(-21.61196f, 51.03911f, 31.70523f),
          new Vector3(-30.50858f, 53.88245f, 22.81074f),
          new Vector3(-36.01139f, 58.49666f, 12.74255f),
          new Vector3(-38.50655f, 64.08701f, -0.9762427f),
          new Vector3(-35.90126f, 68.94352f, -12.85048f),
          new Vector3(-27.4895f, 74.06545f, -27.01587f),
          new Vector3(-20.97538f, 77.4175f, -32.37941f),
          new Vector3(-16.66831f, 79.2495f, -34.12506f)
        };

        Logging.Write("Moving up the stairs.");
        foreach (var pos in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();
        MovementManager.SetFacing(1.862758f);
        MovementManager.MoveForwardStart();
        await Coroutine.Wait(5000, () => CommonBehaviors.IsLoading || QuestLogManager.InCutscene);
        MovementManager.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="69174_Move_1">
      <![CDATA[
        var startFightPos = new Vector3(336.5696f, 311.3829f, -380.4056f);

        Logging.Write("Starting fight.");
        Navigator.PlayerMover.MoveTowards(startFightPos);
        while (Core.Me.Location.Distance(startFightPos) > 2.5f || GameObjectManager.GetObjectsOfType<BattleCharacter>().Count(x => x.CanAttack && x.IsTargetable && x.IsVisible && x.Distance() < 40f) > 0)
        {
          await Coroutine.Yield();
          if (Core.Me.Location.Distance(startFightPos) > 2.5f || GameObjectManager.GetObjectsOfType<BattleCharacter>().Count(x => x.CanAttack && x.IsTargetable && x.IsVisible && x.Distance() < 40f) > 0) break;
          Navigator.PlayerMover.MoveTowards(startFightPos);
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="69301_Statue_1">
      <![CDATA[
        var _statue = GameObjectManager.GetObjectByNPCId(2011009);
        await Coroutine.Wait(-1, () => _statue.IsTargetable);
        Navigator.PlayerMover.MoveTowards(_statue.Location);
        while (Core.Me.Location.Distance2D(_statue.Location) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(_statue.Location);
        }
        Navigator.PlayerMover.MoveStop();
        while (!SelectYesno.IsOpen)
        {
          _statue.Interact();
          await Coroutine.Wait(1000, () => SelectYesno.IsOpen);
        }
        SelectYesno.Yes();
        await Coroutine.Wait(1000, () => Core.Me.IsCasting);
        await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
        await Coroutine.Wait(5000, () => !_statue.IsTargetable);
      ]]>
    </CodeChunk>
    <CodeChunk Name="69301_Statue_2">
      <![CDATA[
        var _statue = GameObjectManager.GetObjectByNPCId(2011006);
        await Coroutine.Wait(-1, () => _statue.IsTargetable);
        Navigator.PlayerMover.MoveTowards(_statue.Location);
        while (Core.Me.Location.Distance2D(_statue.Location) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(_statue.Location);
        }
        Navigator.PlayerMover.MoveStop();
        while (!SelectYesno.IsOpen)
        {
          _statue.Interact();
          await Coroutine.Wait(1000, () => SelectYesno.IsOpen);
        }
        SelectYesno.Yes();
        await Coroutine.Wait(1000, () => Core.Me.IsCasting);
        await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
        await Coroutine.Wait(5000, () => !_statue.IsTargetable);
      ]]>
    </CodeChunk>
    <CodeChunk Name="69301_Statue_3">
      <![CDATA[
        var _statue = GameObjectManager.GetObjectByNPCId(2011007);
        await Coroutine.Wait(-1, () => _statue.IsTargetable);
        Navigator.PlayerMover.MoveTowards(_statue.Location);
        while (Core.Me.Location.Distance2D(_statue.Location) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(_statue.Location);
        }
        Navigator.PlayerMover.MoveStop();
        while (!SelectYesno.IsOpen)
        {
          _statue.Interact();
          await Coroutine.Wait(1000, () => SelectYesno.IsOpen);
        }
        SelectYesno.Yes();
        await Coroutine.Wait(1000, () => Core.Me.IsCasting);
        await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
        await Coroutine.Wait(5000, () => !_statue.IsTargetable);
      ]]>
    </CodeChunk>
    <CodeChunk Name="69301_Cards">
      <![CDATA[
        await Coroutine.Wait(60000, () => GameObjectManager.GetObjectsOfType<EventObject>().Any(x => x.IsVisible && x.IsTargetable && x.Name == "Ronkan Talisman"));

        var _cards = GameObjectManager.GetObjectsOfType<EventObject>().Where(x => x.NpcId == 2011020 || x.NpcId == 2011021).OrderBy(x => x.Distance());

        foreach (var card in _cards)
        {
          while (Core.Me.Location.Distance2D(card.Location) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(card.Location);
          }
          Navigator.PlayerMover.MoveStop();
          while (!SelectYesno.IsOpen)
          {
            card.Interact();
            await Coroutine.Wait(1000, () => SelectYesno.IsOpen);
          }
          SelectYesno.Yes();
          await Coroutine.Wait(1000, () => Core.Me.IsCasting);
          await Coroutine.Wait(-1, () => !Core.Me.IsCasting);
          await Coroutine.Wait(5000, () => !card.IsTargetable);
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="69311_TalkTo_Elidibus">
      <![CDATA[
        await Coroutine.Wait(60000, () => ConditionParser.ObjectExistsWithId(9668));

        var _elidibus = GameObjectManager.GetObjectByNPCId(9668);

        await Coroutine.Wait(60000, () => _elidibus.IsTargetable);

        while (Core.Me.Location.Distance2D(_elidibus.Location) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(_elidibus.Location);
        }
        Navigator.PlayerMover.MoveStop();

        _elidibus.Interact();

        await Coroutine.Wait(3000, () => Talk.DialogOpen || SelectYesno.IsOpen || SelectString.IsOpen);
        while (Talk.DialogOpen || SelectYesno.IsOpen || SelectString.IsOpen)
        {
          if (Talk.DialogOpen) { Talk.Next(); }
          if (SelectYesno.IsOpen) { SelectYesno.Yes(); }
          if (SelectString.IsOpen) { SelectString.ClickSlot(0); }
          await Coroutine.Yield();
          await Coroutine.Wait(1000, () => Talk.DialogOpen || SelectYesno.IsOpen || SelectString.IsOpen);
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="69308_Move">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(-213.0356f, 8.898523f, -83.31145f),
          new Vector3(-211.8464f, 8.8986f, -88.9805f),
          new Vector3(-196.3336f, 17.75968f, -85.70851f),
          new Vector3(-197.54f, 17.7597f, -81.28178f),
          new Vector3(-212.4037f, 26.65733f, -83.75316f),
          new Vector3(-212.0603f, 26.65728f, -89.53114f),
          new Vector3(-192.6127f, 35.58688f, -86.46052f),
          new Vector3(-196.9096f, 35.56873f, -82.2618f),
          new Vector3(-222.3873f, 38.61477f, -86.33265f)
        };
        foreach (var pos in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(pos);
          while (Core.Me.Location.Distance2D(pos) > 1.5f)
          {
            await Coroutine.Yield();
            Navigator.PlayerMover.MoveTowards(pos);
          }
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="69309_Move">
      <![CDATA[
        var pos = new Vector3(-171.4508f, 0f, -71.47119f);
        Navigator.PlayerMover.MoveTowards(pos);
        while (Core.Me.Location.Distance2D(pos) > 1.5f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(pos);
        }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="69300_Manual_Pickup">
      <![CDATA[
        var lyna = GameObjectManager.GetObjectByNPCId(1032502);

        while (Core.Me.Location.Distance2D(lyna.Location) > 2f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(lyna.Location);
        }
        Navigator.PlayerMover.MoveStop();

        lyna.Interact();
        await Coroutine.Wait(-1, () => JournalAccept.IsOpen);
        JournalAccept.Accept();
        await Coroutine.Wait(2000, () => Talk.DialogOpen || !MovementManager.IsOccupied);

        while (Talk.DialogOpen || MovementManager.IsOccupied)
        {
          if (Talk.DialogOpen) { Talk.Next(); }
          await Coroutine.Yield();
        }
        await Coroutine.Wait(2000, () => ConditionParser.GetQuestStep(69300) > 0);
      ]]>
    </CodeChunk>
    <CodeChunk Name="69311_Manual_Pickup">
      <![CDATA[
        var thancred = GameObjectManager.GetObjectByNPCId(1033823);

        while (Core.Me.Location.Distance2D(thancred.Location) > 2f)
        {
          await Coroutine.Yield();
          Navigator.PlayerMover.MoveTowards(thancred.Location);
        }
        Navigator.PlayerMover.MoveStop();

        thancred.Interact();
        await Coroutine.Wait(-1, () => JournalAccept.IsOpen);
        JournalAccept.Accept();

        await Coroutine.Wait(10000, () => CommonBehaviors.IsLoading || QuestLogManager.InCutscene);
        await Coroutine.Wait(-1, () => !CommonBehaviors.IsLoading);
        while (QuestLogManager.InCutscene || Talk.DialogOpen || CommonBehaviors.IsLoading)
        {
          ff14bot.RemoteAgents.AgentCutScene.Instance.PromptSkip();
          if (ff14bot.RemoteAgents.AgentCutScene.Instance.CanSkip && SelectString.IsOpen) { SelectString.ClickSlot(0); }
          if (Talk.DialogOpen) { Talk.Next(); }
          await Coroutine.Yield();
        }
        await Coroutine.Wait(-1, () => !CommonBehaviors.IsLoading);

        await Coroutine.Wait(2000, () => ConditionParser.GetQuestStep(69311) > 0);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68931">
      <![CDATA[
        if (Core.Me.IsMounted)
        {
          ActionManager.Dismount();
        }
        await Coroutine.Sleep(1000);
        ChatManager.SendChat("/s Kenn Gyuf");
      ]]>
    </CodeChunk>
    <CodeChunk Name="68934">
      <![CDATA[
        MovementManager.StartDescending();
        while (!MovementManager.IsDiving)  {  await Coroutine.Yield();  }
        while (CommonBehaviors.IsLoading)  {  await Coroutine.Yield();  }
        MovementManager.StopDescending();
        await Coroutine.Sleep(1000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="Lyhe_Ghia">
      <![CDATA[
        if (Core.Me.InCombat)
        {
          await Coroutine.Yield();
        }

        if (Core.Me.IsMounted)
        {
          ActionManager.Dismount();
        }

        var vector3Array = new Vector3[]
        {
          new Vector3(86.41762f, 25.66877f, -98.48716f),
          new Vector3(36.43086f, 36.81553f, -114.6272f),
          new Vector3(-15.15595f, 57.50918f, -130.1993f),
          new Vector3(-12.4832f, 57.5609f, -143.8537f),
          new Vector3(15.22853f, 73.53532f, -177.5079f),
          new Vector3(-8.77778f, 89.31206f, -227.638f),
          new Vector3(-39.72607f, 96.66605f, -244.038f),
          new Vector3(-62.06381f, 105.2942f, -250.6125f)
        };

        foreach (var loc in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(loc);
          while (Core.Me.Location.Distance2D(loc) > 0.5f) {  await Coroutine.Yield();  }
        }

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="MoveForward">
      <![CDATA[
        MovementManager.MoveForwardStart();
        await Coroutine.Sleep(4000);
        MovementManager.MoveForwardStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="2010026">
      <![CDATA[
        var loc = new Vector3(702.4328f, 30.49964f, 8.131995f);

        while (Core.Me.Location.Distance2D(loc) > 1)
        {
          MovementManager.SetFacing(loc);
          MovementManager.MoveForwardStart();
          MovementManager.Jump();
          await Coroutine.Sleep(100);
          MovementManager.MoveForwardStop();
        }

        await Coroutine.Sleep(1000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="2010031">
      <![CDATA[
        var target = GameObjectManager.GetObjectByNPCId(2010031);

        if (target.IsVisible)
        {
          target.Interact();
        }

        await Coroutine.Sleep(1000);
        await Coroutine.Wait(10000, ()=> !Core.Me.IsCasting);
      ]]>
    </CodeChunk>
    <CodeChunk Name="2010033">
      <![CDATA[
        var loc = new Vector3(-787.1367f, 107.988f, -354.7265f);

        while (Core.Me.Location.Distance2D(loc) > 1)
        {
          MovementManager.SetFacing(loc);
          MovementManager.MoveForwardStart();
          await Coroutine.Sleep(650);
          MovementManager.Jump();
          MovementManager.MoveForwardStop();
        }

        await Coroutine.Sleep(1000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="2010042">
      <![CDATA[
        var loc = new Vector3(-62.15416f, 344.1438f, -19.85907f);

        Navigator.PlayerMover.MoveTowards(loc);
        while (Core.Me.Location.Distance2D(loc) > 1) {  await Coroutine.Yield();  }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="2010053">
      <![CDATA[
        if (Core.Me.IsMounted)
        {
          ActionManager.Dismount();
        }

        var vector3Array = new Vector3[]
        {
          new Vector3(-305.4146f, -62.86976f, 432.4416f),
          new Vector3(-281.6668f, -50.29027f, 432.6295f),
          new Vector3(-286.2914f, -50.30334f, 428.6368f),
          new Vector3(-308.6731f, -50.3067f, 429.0031f),
          new Vector3(-308.5061f, -50.3067f, 426.4303f),
          new Vector3(-332.6071f, -50.33368f, 426.6283f),
          new Vector3(-332.5388f, -50.3337f, 420.3345f)
        };

        foreach (var loc in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(loc);
          while (Core.Me.Location.Distance2D(loc) > 0.5f) {  await Coroutine.Yield();  }
        }

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>

    <CodeChunk Name="2010057">
      <![CDATA[
        var target = GameObjectManager.GetObjectByNPCId(2010057);

        MovementManager.SetFacing(target.Location);

        while (Core.Me.Location.Distance2D(target.Location) > 3)
        {
          MovementManager.MoveForwardStart();
          await Coroutine.Sleep(1000);
          MovementManager.Jump();
          MovementManager.MoveForwardStop();
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="2010059">
      <![CDATA[
        var loc1 = new Vector3(32.0717f, 107.1496f, -842.3032f);
        var loc2 = new Vector3(28.05852f, 108.9457f, -844.0242f);
        var loc3 = new Vector3(23.85528f, 110.3985f, -847.0648f);
        var loc4 = new Vector3(21.35537f, 111.4771f, -847.0903f);
        var loc5 = new Vector3(15.94584f, 113.1476f, -847.0067f);
        var loc6 = new Vector3(13.3604f, 111.163f, -850.3327f);

        Navigator.PlayerMover.MoveTowards(loc1);
        while (Core.Me.Location.Distance2D(loc1) > 0.5f) {  await Coroutine.Yield();  }
        Navigator.PlayerMover.MoveStop();

        Navigator.PlayerMover.MoveTowards(loc2);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(loc2) > 1) {  await Coroutine.Yield();  }

        Navigator.PlayerMover.MoveTowards(loc3);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(loc3) > 2) {  await Coroutine.Yield();  }

        Navigator.PlayerMover.MoveTowards(loc4);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(loc4) > 2) {  await Coroutine.Yield();  }

        Navigator.PlayerMover.MoveTowards(loc5);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(loc5) > 0.5f) {  await Coroutine.Yield();  }

        Navigator.PlayerMover.MoveTowards(loc6);
        while (Core.Me.Location.Distance2D(loc6) > 1) {  await Coroutine.Yield();  }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="BadMesh">
      <![CDATA[
        if (!Core.Me.IsMounted)  { await CommonTasks.MountUp();  }

        var vector3Array = new Vector3[]
        {
          new Vector3(360.9949f, 301.024f, -270.2376f),
          new Vector3(375.0332f, 302.3947f, -295.8937f),
          new Vector3(347.5286f, 288.169f, -328.5484f),
          new Vector3(339.9171f, 282.4768f, -355.5279f),
          new Vector3(295.5555f, 271.9644f, -357.3546f),
          new Vector3(273.2782f, 259.411f, -321.0667f),
          new Vector3(277.5782f, 251.9542f, -289.098f),
          new Vector3(306.1181f, 242.3637f, -263.6519f),
          new Vector3(332.9348f, 235.6098f, -267.2523f)
        };

        foreach (var loc in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(loc);
          while (Core.Me.Location.Distance2D(loc) > 0.5f) {  await Coroutine.Yield();  }
        }

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="2010068">
      <![CDATA[
        var loc1 = new Vector3(-868.7941f, 0.4734354f, 196.6627f);
        var loc2 = new Vector3(-867.8632f, 2.218629f, 186.0888f);
        var loc3 = new Vector3(-863.0211f, 3.222263f, 190.5181f);
        var loc4 = new Vector3(-857.6687f, 2.512502f, 181.0687f);
        var loc5 = new Vector3(-862.1448f, 3.017954f, 172.0639f);

        Navigator.PlayerMover.MoveTowards(loc1);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(loc1) > 1) {  await Coroutine.Yield();  }

        Navigator.PlayerMover.MoveTowards(loc2);
        await Coroutine.Sleep(1000);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(loc2) > 1) {  await Coroutine.Yield();  }

        Navigator.PlayerMover.MoveTowards(loc3);
        await Coroutine.Sleep(650);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(loc3) > 1) {  await Coroutine.Yield();  }

        Navigator.PlayerMover.MoveTowards(loc4);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(loc4) > 1) {  await Coroutine.Yield();  }

        Navigator.PlayerMover.MoveTowards(loc5);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(loc5) > 1) {  await Coroutine.Yield();  }
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68980">
      <![CDATA[
        if (Core.Me.IsMounted)  {  ActionManager.Dismount();  }

        var target = GameObjectManager.GetObjectByNPCId(1029024);

        await Coroutine.Sleep(1000);

        ChatManager.SendChat("/s tuktu");

        while (ConditionParser.GetQuestStep(68980) == 1)
        {
          if (Talk.DialogOpen)  {  Talk.Next();  }
          await Coroutine.Yield();
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="68896">
      <![CDATA[
        MovementManager.SetFacing(1.565889f);
        MovementManager.MoveForwardStart();
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        await Coroutine.Sleep(500);
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="69073">
      <![CDATA[
        GameObject _target = GameObjectManager.GetObjectByNPCId(1030749);

        await Coroutine.Sleep(1000);

        _target.Target();

        ChatManager.SendChat("/soothe");

        while (ConditionParser.GetQuestStep(69073) == 3)
        {
          if (SelectString.IsOpen) {  SelectString.ClickSlot(1);  }
          if (Talk.DialogOpen)  {  Talk.Next();  }
          await Coroutine.Yield();
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="Coffer">
      <![CDATA[
        foreach (var bagslot in InventoryManager.FilledSlots.Where(bagslot => bagslot.Item.ItemAction == 388))
        {
          bagslot.UseItem();
          await Coroutine.Sleep(5000);
        }
      ]]>
    </CodeChunk>
  </CodeChunks>
</Profile>
